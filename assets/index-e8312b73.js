var Hx=Object.defineProperty;var Vx=(e,t,n)=>t in e?Hx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pt=(e,t,n)=>(Vx(e,typeof t!="symbol"?t+"":t,n),n);import{a as hy,C as dc,l as Gd,r as Mr,b as Yx,c as Qt,d as be,e as ke,f as O,o as k,g as rp,w as Ka,W as wu,u as ze,h as I,i as Ue,j as ot,k as U,m as fe,n as ve,p as re,q as C,s as se,t as ee,v as M,x as ye,y as nt,z as Vt,A as He,F as Ie,B as gt,D as jo,E as zx,G as Ze,H as Q,I as Wx,J as $f,K as Fd,L as qx,M as Nt,N as Zx,O as Kx,P as ip,Q as xu,R as lt,S as op,T as Ni,U as ws,V as dt,X as Xx,Y as jx,Z as hc,_ as Ps,$ as Jx,a0 as Qx,a1 as Uf,a2 as eE,a3 as tE,a4 as nE,a5 as aE,a6 as rE,a7 as iE,a8 as oE,a9 as sE,aa as lE,ab as uE,ac as cE,ad as dE}from"./vendor-a6da66f1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const Dr="setLoading",Kt="setAuthToken",Vl="resetScroll",Yl="changeSelectedGroup",sp="setFindUserId",hE="setFindUserInfoType",zl="setUserIdx",py="setTermsAgreeList",fy="setHeaderTitle",ft="setPopup",pE="setHeaderState",Xa="setFooterType",Tr="setFooterLock",Sa="setSyncUpdateTime",Jo="setEmergencyPhone",Gt="setConnectedStatus",vy="setHeartSetting",gy="setTempSetting",my="setSleepSetting",yy="setOxygenSetting",_y="setStressSetting",Fe={CONST:{LOGIN_USER:"LUT",LOGIN_TOKEN:"LUT_TK",LOGIN_KEEP:"LK"},SCAN:{NONE:0,SCANNING:1,DONE:2},HEALTH_TYPE:{WORKING:"working",HEARTRATE:"heart-rate",TEMPERATURE:"temperature",BLOODPRESSURE:"blood-pressure",SLEEP:"sleep",OXYGEM:"oxygen",STRESS:"stress"}},fE={DEV:"development",PROD:"production"},Ee={ENV:fE.DEV,API_URL:"https://api-dev.buddycare.co.kr",API_URL_PHONE_AUTH:"https://sens.apigw.ntruss.com",CHAT_URL:"https://chat-dev.buddycare.co.kr",FRONT_HOST:"https://keepinyspark.github.io/BuddyCare_FrontEnd_dist/",FILE_SERVER:"https://cdn.buddycare.co.kr/",KEY_LIST:Fe};let ma,no,Cy;function Hd(e){Cy=e,ma&&(ma.defaults.headers.common.Authorization="KP "+e)}function vE(e){ma&&(ma.defaults.baseURL=e)}const gE=()=>({headers:{"Content-Type":"multipart/form-data",Authorization:`KP ${Cy}`},timeout:30*1e3});function mE(e=Ee.API_URL_PHONE_AUTH){if(!no){const t="bkCM8kxciR7SULOtJw17",n="j7TcoVaDftMZaxsoHWZdctcz0h40oTlsRc6rj2gX",a=new Date().getTime().toString(),i=yE("/sms/v2/services/ncp:sms:kr:296484278045:buddycare_sms_auth/messages",a,t,n);no=hy.create({baseURL:"",headers:{"Access-Control-Allow-Origin":"https://sens.apigw.ntruss.com","Access-Control-Allow-Methods":"POST",accept:"application/json","Content-type":"application/json","x-ncp-iam-access-key":t,"x-ncp-apigw-timestamp":a,"x-ncp-apigw-signature-v2":i},timeout:30*1e3}),no&&(no.defaults.baseURL=e)}return no}function yE(e,t,n,a){const r="POST",i=" ",o=`
`,s=dc.algo.HMAC.create(dc.algo.SHA256,a);return s.update(r),s.update(i),s.update(e),s.update(o),s.update(t),s.update(o),s.update(n),s.finalize().toString(dc.enc.Base64)}function xe(e=Ee.API_URL,t){return ma||(ma=hy.create({baseURL:"",headers:{"Content-type":"application/json"},timeout:30*1e3}),ma.interceptors.request.use(n=>(t==null||t.commit(Dr,!0),n),n=>(t==null||t.commit(Dr,!1),Promise.reject(n))),ma.interceptors.response.use(n=>(t==null||t.commit(Dr,!1),n),n=>(t==null||t.commit(Dr,!1),Promise.reject(n)))),vE(e),t!=null&&t.state.authToken?Hd(t.state.authToken):H()&&H().token&&Hd(H().token),ma}function Vd(){let e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const a=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(n==="x"?a:a&3|8).toString(16)}).replace(/-/gi,"").toLowerCase()}function na(e,t){const n=window.localStorage;if(n)try{n.setItem(e,Gd.compressToUTF16(t))}catch{console.error("Storage Full ... clean old data...");for(const r in n)r.indexOf("DATA_MESSAGE_DETAIL_")>-1&&n.removeItem(r);n.setItem(e,Gd.compressToUTF16(t))}}function Bt(e){const t=window.localStorage;if(t){const n=t.getItem(e);if(n)return Gd.decompressFromUTF16(n)}return null}function Ut(e){const t=window.localStorage;t&&t.removeItem(e)}const H=()=>{const e=Bt("LUT");if(e)return JSON.parse(e)},Bi=e=>{na(Fe.CONST.LOGIN_USER,JSON.stringify(e))},dn=e=>{try{if(e){const t=JSON.parse(e);if(t)return Ee.FILE_SERVER+t[0].savedName}}catch{return}},Qo=e=>{Ut(Fe.CONST.LOGIN_USER),Ut(Fe.CONST.LOGIN_KEEP),Ut(Fe.CONST.LOGIN_TOKEN),Mr(Fe.CONST.LOGIN_TOKEN),xe(Ee.API_URL,e).post("api/1/users/logout"),window.appInterface.setUserName("")},Br=e=>{if(e)try{const t=JSON.parse(e);return Ee.FILE_SERVER+t[0].savedName}catch(t){console.error(t)}return null},Ot=e=>{const t=Number(e);return isNaN(t)?0:t},Ae=e=>{const t=Number(e);return isNaN(t)?"0":t.toFixed(1).toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),",").replace(/\.?0+$/,"")};var Io=(e=>(e.USER="USER",e.MESSAGE="MESSAGE",e.CHANNEL="CHANNEL",e))(Io||{}),we=(e=>(e.CONNECT="connect",e.DISCONNECT="disconnect",e.INIT_CHANNEL_COMPLETE="init.channel.complete",e.INIT_CHANNEL="init.channel",e.INIT_DATA="init.data",e.INIT_DATA_COMPLETE="init.data.complete",e.CREATE_CHANNEL="create.channel",e.CREATE_CHANNEL_COMPLETE="create.channel.complete",e.ENTER_CHANNEL="enter.channel",e.ENTER_CHANNEL_COMPLETE="enter.channel.complete",e.JOIN_CHANNEL="channel.join",e.JOIN_CHANNEL_COMPLETE="channel.join.complete",e.QUIT_CHANNEL="channel.quit",e.QUIT_CHANNEL_COMPLETE="channel.quit.complete",e.DELETE_USER="delete.user",e.REMOVE_USER="remove.user",e.LEAVE_CHANNEL="leave.channel",e.LEAVE_CHANNEL_COMPLETE="leave.channel.complete",e.LEAVE_CHANNEL_BY_OTHER="leave.channel.by.other",e.USER_JOIN="user.join",e.USER_QUIT="user.quit",e.USER_DISCONNECTED="user.disconnected",e.USER_LIST="user.list",e.UPDATE_USER="user.update",e.UPDATE_MESSAGE="message.update",e.UPDATE="update",e.MESSAGE_RECEIVED="message.received",e.ERROR_RECEIVED="error.received",e.MESSAGE_SEND="message.send",e.FAIL_SEND_MESSAGE="fail.send.message",e))(we||{});class wy extends EventTarget{constructor(){super();pt(this,"_socket");pt(this,"_isConnected",!1);pt(this,"_isDestroyed",!1);pt(this,"_commonToken");pt(this,"_isNeedUpdate",!1);pt(this,"_isDebug",!1);this.handleConnect=this.handleConnect.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this),this.handleInitChannelComplete=this.handleInitChannelComplete.bind(this),this.handleCreateChannelComplete=this.handleCreateChannelComplete.bind(this),this.handleEnterChannelComplete=this.handleEnterChannelComplete.bind(this),this.handleQuitChannelComplete=this.handleQuitChannelComplete.bind(this),this.handleDeleteUser=this.handleDeleteUser.bind(this),this.handleRemoveUser=this.handleRemoveUser.bind(this),this.handleLeaveChannelComplete=this.handleLeaveChannelComplete.bind(this),this.handleLeaveChannelByOther=this.handleLeaveChannelByOther.bind(this),this.handleUserJoin=this.handleUserJoin.bind(this),this.handleUserDisconnect=this.handleUserDisconnect.bind(this),this.handleCurrentChannelUserList=this.handleCurrentChannelUserList.bind(this),this.handleUserUpdate=this.handleUserUpdate.bind(this),this.handleMessageUpdate=this.handleMessageUpdate.bind(this),this.handleMessageReceived=this.handleMessageReceived.bind(this),this.handleErrorReceived=this.handleErrorReceived.bind(this)}launchSocket(){this._isDebug&&console.log("launchSocket"),this.destroy(),this.connect(),this.addSocketEvent()}initData(n){this.isDebug&&console.log("init channels data",JSON.stringify(n)),this.socket&&this.isConnected&&this.socket.emit("init.channel",n)}sendEventMessage(n,a){this.isDebug&&console.log(`sendEventMessage event: ${n}`,JSON.stringify(a||{})),this.socket&&this.isConnected&&this.socket.emit(n,Object.assign({},a,{commonToken:this._commonToken}))}sendTextMessage(n){this.isDebug&&console.log("sendEventMessage event:, dt",n),this.socket&&this.isConnected&&this.socket.emit("message.send",Object.assign({},n))}sendFileMessage(n){this.isDebug&&console.log("sendEventMessage event:, msg",n),this.socket&&this.isConnected&&this.socket.emit("message.send",Object.assign({},n,{commonToken:this._commonToken}))}sendEmergencyMessage(n){this.isDebug&&console.log("sendEventMessage event:, msg"),this.socket&&this.isConnected&&this.socket.emit("message.send",Object.assign({},n,{commonToken:this._commonToken}))}doJoinChannel(n){this.isDebug&&console.log("doJoinChannel event:, channeIdx",n),this.socket&&this.isConnected&&this.socket.emit("channel.join",Object.assign({},n,{commonToken:this._commonToken}))}doQuitChannel(n){this.isDebug&&console.log("doQuitChannel event:, channeIdx",n),this.socket&&this.isConnected&&this.socket.emit("channel.quit",Object.assign({},n,{commonToken:this._commonToken}))}doCreateChannel(n){this.isDebug&&console.log("doCreateChannel event",n),this.socket&&this.isConnected&&this.socket.emit("create.channel",Object.assign({},n,{commonToken:this._commonToken}))}doEnterChannel(n){this.isDebug&&console.log("enterChannel",JSON.stringify(n)),this.socket&&this.isConnected&&this.socket.emit("enter.channel",Object.assign({},n,{commonToken:this._commonToken}))}updateUser(n){this.isDebug&&console.log(`updateUser event: ${event}`,JSON.stringify(n||{})),this.socket&&this.isConnected&&this.socket.emit("user.update",Object.assign({},n,{commonToken:this._commonToken}))}doRemoveUser(n){this.isDebug&&console.log(`doRemoveChannel event: ${event}`,JSON.stringify(n||{})),this.socket&&this.isConnected&&this.socket.emit("remove.user",Object.assign({},n,{commonToken:this._commonToken}))}doLeaveChannel(n){this.isDebug&&console.log(`doLeaveChannel event: ${event}`,JSON.stringify(n||{})),this.socket&&this.isConnected&&this.socket.emit("leave.channel",Object.assign({},n,{commonToken:this._commonToken}))}updateMessage(n){this.isDebug&&console.log("updateMessage",JSON.stringify(n)),this.socket&&this.isConnected&&this.socket.emit("message.update",Object.assign({},n,{commonToken:this._commonToken}))}destroy(){this._isDestroyed=!0,this.socket&&(this.removeSocketEvent(),this.socket.disconnect(),this.socket=void 0)}connect(){this.isDestroyed=!1,this.socket=Yx(Ee.CHAT_URL,{transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:3e3,reconnectionAttempts:10})}addSocketEvent(){this.socket&&(this.removeSocketEvent(),this.socket.on("connect",this.handleConnect),this.socket.on("disconnect",this.handleDisconnect),this.socket.on("init.channel.complete",this.handleInitChannelComplete),this.socket.on("create.channel.complete",this.handleCreateChannelComplete),this.socket.on("enter.channel.complete",this.handleEnterChannelComplete),this.socket.on("channel.quit.complete",this.handleQuitChannelComplete),this.socket.on("delete.user",this.handleDeleteUser),this.socket.on("remove.user",this.handleRemoveUser),this.socket.on("leave.channel.complete",this.handleLeaveChannelComplete),this.socket.on("leave.channel.by.other",this.handleLeaveChannelByOther),this.socket.on("user.join",this.handleUserJoin),this.socket.on("user.disconnected",this.handleUserDisconnect),this.socket.on("user.list",this.handleCurrentChannelUserList),this.socket.on("message.received",this.handleMessageReceived),this.socket.on("error.received",this.handleErrorReceived),this.socket.on("user.update",this.handleUserUpdate),this.socket.on("message.update",this.handleMessageUpdate))}removeSocketEvent(){var n;(n=this.socket)==null||n.removeAllListeners()}handleConnect(){this.isDebug&&console.log("handleConnect"),this._isConnected=!0,this.dispatchEvent(new Event("connect"))}handleDisconnect(){this.isDebug&&console.log("handleDisconnect"),this._isConnected=!1,this._commonToken=void 0,this.dispatchEvent(new Event("disconnect")),this._isDestroyed||this.connect()}handleInitChannelComplete(n){this.isDebug&&console.log(`handleInitChannelComplete token: ${JSON.stringify(n)}`),this.dispatchEvent(new CustomEvent("init.channel.complete",{detail:n}))}handleQuitChannelComplete(n){this.isDebug&&console.log("handleQuitChannelComplete",n),H().userIdx===n.userIdx?this.dispatchEvent(new CustomEvent("channel.quit.complete",{detail:n})):this.dispatchEvent(new CustomEvent("user.quit",{detail:n}))}handleUserJoin(n){this.isDebug&&console.log("handleApocUserJoin",n),n.userIdx===H().userIdx?this.dispatchEvent(new CustomEvent("channel.join.complete",{detail:n})):this.dispatchEvent(new CustomEvent("user.join",{detail:n}))}handleUserDisconnect(n){this.isDebug&&console.log("handleApocUserDisconnect",n),n.userIdx!==H().userIdx&&this.dispatchEvent(new CustomEvent("user.disconnected",{detail:n}))}handleCurrentChannelUserList(n){this.isDebug&&console.log("handleJoinCurrentUserList",JSON.stringify(n)),this.dispatchEvent(new CustomEvent("user.list",{detail:n}))}handleMessageReceived(n){this.isDebug&&console.warn("handleMessageReceived",n),this.dispatchEvent(new CustomEvent("message.received",{detail:n}))}handleErrorReceived(n){this.isDebug&&console.log("handleErrorReceived",JSON.stringify(n)),this.dispatchEvent(new CustomEvent("error.received",{detail:n}))}handleCreateChannelComplete(n){this.isDebug&&console.log("handleCreateChannelCompelte",JSON.stringify(n)),this.dispatchEvent(new CustomEvent("create.channel.complete",{detail:n}))}handleUserUpdate(n){this.isDebug&&console.log("handleUserUpdate",JSON.stringify(n)),this.dispatchEvent(new CustomEvent("user.update",{detail:n}))}handleMessageUpdate(n){this.isDebug&&console.log("handleMessageUpdate",JSON.stringify(n)),this.dispatchEvent(new CustomEvent("message.update",{detail:n}))}handleEnterChannelComplete(n){this.isDebug&&console.log("handleEnterChannelComplete",JSON.stringify(n)),this.dispatchEvent(new CustomEvent("enter.channel.complete",{detail:n}))}handleDeleteUser(n){this.isDebug&&console.log("handleEnterChannelComplete",JSON.stringify(n)),this.dispatchEvent(new CustomEvent("delete.user",{detail:n}))}handleRemoveUser(n){this.isDebug&&console.log("handleEnterChannelComplete",JSON.stringify(n)),this.dispatchEvent(new CustomEvent("remove.user",{detail:n}))}handleLeaveChannelComplete(n){this.isDebug&&console.log("handleLeaveChannelComplete",JSON.stringify(n)),this.dispatchEvent(new CustomEvent("leave.channel.complete",{detail:n}))}handleLeaveChannelByOther(n){this.isDebug&&console.log("handleLeaveChannelByOther",JSON.stringify(n)),this.dispatchEvent(new CustomEvent("leave.channel.by.other",{detail:n}))}get socket(){return this._socket}set socket(n){this._socket=n}get isConnected(){return this._isConnected}set isConnected(n){this._isConnected=n}get isDestroyed(){return this._isDestroyed}set isDestroyed(n){this._isDestroyed=n}get commonToken(){return this._commonToken}set commonToken(n){this._commonToken=n}get isNeedUpdate(){return this._isNeedUpdate}set isNeedUpdate(n){this._isNeedUpdate=n}get isDebug(){return this._isDebug}set isDebug(n){this._isDebug=n}}let wa;const _E=()=>(wa||(wa=new wy),wa),he=()=>(wa||(wa=new wy),wa),$i=()=>{wa&&(wa.destroy(),wa=void 0)};function CE(e,t){const n=(a,r)=>{e.post("/api/1/message/getChannelInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}function wE(e,t){const n=(a,r)=>{e.post("/api/1/message/getMessageList",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data,totalCount:i.data.totalCount??0})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}let bl=[];function Kr(e,t){const n=(a,r)=>{if(!t.noCache&&bl.length>0){a({data:bl});return}e.post("/api/1/message/getGroupList",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):(bl=i.data.data,a({data:i.data.data}))}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}function xE(){bl=[]}var De=(e=>(e.USER="USER",e.USER_DEVICE="USER_DEVICE",e.MANAGER="MANAGER",e.ADMIN="ADMIN",e))(De||{}),oe=(e=>(e.TEXT="TEXT",e.VIDEO="VIDEO",e.IMAGE="IMAGE",e.EMERGENCY="EMERGENCY",e.EMERGENCY_ALARM="EMERGENCY_ALARM",e.EMERGENCY_VIDEO="EMERGENCY_VIDEO",e.EMERGENCY_IMAGE="EMERGENCY_IMAGE",e.ERROR="ERROR",e.ENTER="ENTER",e.LEAVE="LEAVE",e))(oe||{}),xy=(e=>(e.DEFAULT="DEFAULT",e.BACK_MENU="BACK_MENU",e))(xy||{}),et=(e=>(e.NONE="none",e.GROUP_FIND_USER="groupFindUser",e.GROUP_EMERGENCY_CHANGE="groupEmergencyChange",e.CHAT_USERS="chatUsers",e.GROUP_USERS="groupUsers",e.GROUP_STATE_MANAGE="groupStateManage",e.WATCHFACE="watchface",e.DISTURB="disturb",e))(et||{}),pe=(e=>(e.GET_TOKEN="GET_TOKEN",e.GET_DEVICE_LIST="GET_DEVICE_LIST",e.GET_DEVICE_CONNECT_STATE="GET_DEVICE_CONNECT_STATE",e.GET_DEVICE_CONNECTING="GET_DEVICE_CONNECTING",e.GET_DEVICE_BIND_STATE="GET_DEVICE_BIND_STATE",e.GET_DEVICE_INFO="GET_DEVICE_INFO",e.SYNC_DATA="SYNC_DATA",e.GET_HAND="GET_HAND",e.GET_SHAKE="GET_SHAKE",e.DISCONNECT_DEVICE="DISCONNECT_DEVICE",e.GET_LOCATION="GET_LOCATION",e.INSERT_LOCATION="INSERT_LOCATION",e.GET_DISTURB_MODE="GET_DISTURB_MODE",e.SYNC_WATCH_FACE="SYNC_WATCH_FACE",e.GET_ALARM="GET_ALARM",e.MESSAGE_TYPE="MESSAGE_TYPE",e.HEART_SETTING_CALLBACK="HEART_SETTING_CALLBACK",e.TEMP_SETTING_CALLBACK="TEMP_SETTING_CALLBACK",e.SLEEP_SETTING_CALLBACK="SLEEP_SETTING_CALLBACK",e.OXYGEN_SETTING_CALLBACK="OXYGEN_SETTING_CALLBACK",e.STRESS_SETTING_CALLBACK="STRESS_SETTING_CALLBACK",e.UPGRADE_FIRMWARE_CALLBACK="UPGRADE_FIRMWARE_CALLBACK",e.GET_WEATHER="GET_WEATHER",e))(pe||{}),It=(e=>(e.SUCCESS="success_connect",e.FAILED="failed_connect",e.DISCONNECTED="disconnected",e.SUCCESS_BIND="success_bind",e.FAILED_BIND="failed_bind",e.CONNECTED="connected",e.NOTCONNECTED="not-connected",e))(It||{}),Sn=(e=>(e.ALERT_HIGH_HEART_RATE="ALERT_HIGH_HEART_RATE",e.ALERT_LOW_HEART_RATE="ALERT_LOW_HEART_RATE",e.ALERT_HIGH_OXYGEN="ALERT_HIGH_OXYGEN",e.ALERT_LOW_OXYGEN="ALERT_LOW_OXYGEN",e.ALERT_HIGH_TEMPERATURE="ALERT_HIGH_TEMPERATURE",e.ALERT_LOW_TEMPERATURE="ALERT_LOW_TEMPERATURE",e.ALERT_HIGH_BLOOD_PRESSURE="ALERT_HIGH_BLOOD_PRESSURE",e.ALERT_LOW_BLOOD_PRESSURE="ALERT_LOW_BLOOD_PRESSURE",e.ALERT_FIND_PHONE_EVENT="FIND_PHONE_EVENT",e.ALERT_BATTERY_EVENT="BATTERY_EVENT",e.ALERT_EMERGENCY_CALL="ALERT_EMERGENCY_CALL",e))(Sn||{}),ge=(e=>(e.LOAD_START="loadStart",e.LOAD_COMPLETE="loadComplete",e.MESSAGE_RECEIVED="messageReceived",e.ADD_CHANNEL="addChannel",e.LEAVE_CHANNEL="leaveChannel",e.KICKED="kicked",e.REMOVE_USER="removeUser",e.USER_JOIN="userJoin",e.USER_QUIT="userQuit",e.USER_ENTER="userEnter",e.CHANGE_GROUP="changeGroup",e.UPDATE="update",e.SEND_EMERGENCY_ALARM="SEND_EMERGENCY_ALARM",e))(ge||{});class Ey extends EventTarget{constructor(){super();pt(this,"_currentChannelIdx");pt(this,"_currentGroupIdx");pt(this,"_groupList",[]);pt(this,"_isDebug",!1);pt(this,"_isReady",!1);const n=Bt("CUR_GROUP_IDX");n&&(this._currentGroupIdx=n)}launchChat(){$i(),he().launchSocket()}initialize(){try{_E()}catch(n){console.log(n)}}destroy(){this._groupList=[],this._currentChannelIdx=void 0,$i()}createGroup(n){he().doCreateChannel({userIdx:n.userIdx,messageChannelIdx:n.messageChannelIdx})}getGroup(n){n||this.getCurrentGroup();const a=this._groupList.filter(r=>r.groupIdx===n);if(a.length)return a[0]}getGroupByChannelIdx(n){n||this.getCurrentGroup();const a=this._groupList.filter(r=>r.channelIdx===n);if(a.length)return a[0]}handleLoadComplete(){}getCurrentGroup(){if(this._currentGroupIdx)return this._groupList.find(n=>n.groupIdx===this._currentGroupIdx)}async updateGroupList(n){const a=(r,i)=>{this._groupList=[];let o=0;if(!(!n||n.length<1))for(const s of n){const l=new $r(s.channelIdx,s.channelToken,s.groupIdx,s.creatorInfo);l.emergencyTargetUserIdx=s.emergencyTargetUserIdx,this._groupList.push(l);const u=c=>{const d=c.detail,h=n.length;if(d&&d===s.channelIdx&&(o++,o>=h)){try{this.currentGroupIdx?this.dispatchEvent(new CustomEvent("loadComplete")):this.setCurrentGroup(this._groupList[0].groupIdx)}catch(p){console.error(p)}r()}};l.addEventListener(by.INITIALIZE_COMPLETE,u.bind(this),{once:!0}),l.doLoadData()}};return new Promise(a)}setCurrentGroup(n){n?(this._currentGroupIdx=n,na("CUR_GROUP_IDX",n)):(this._currentGroupIdx=void 0,this._currentChannelIdx=void 0,Ut("CUR_GROUP_IDX")),this.dispatchEvent(new CustomEvent("changeGroup",{detail:n}))}sendChatMessage(n){}updateChatMessage(){}deleteChatMessage(){}getChannelToken(n){if(n){const a=this._groupList.find(r=>r.channelIdx===n);if(a)return a.channelToken}else{const a=this.getCurrentGroup();if(a)return a.channelToken}}getGroupList(){return this._groupList.filter(n=>!n.isDelete)}joinChannel(n){}quitChannel(){}getLastMessage(n){const a=n?this.getGroupByChannelIdx(n):this.getCurrentGroup();if(a){a.messageList.sort((r,i)=>r.dateReg>i.dateReg?1:-1);for(let r=a.messageList.length-1;r>0;r--)if(a.messageList[r].messageType!==oe.ENTER&&a.messageList[r].messageType!==oe.LEAVE)return a.messageList[r];return a.messageList[a.messageList.length-1]}}setCurrentChannel(n){const a={userIdx:H().userIdx,userType:H().userType,channelIdx:n??this._currentChannelIdx},r=this.getGroupByChannelIdx(n);if(n){if(!r)return;he().doJoinChannel(Object.assign({},a,{channelToken:r.channelToken}))}else{const i=this.getCurrentGroup();i&&he().doQuitChannel(Object.assign({},a,{channelToken:i.channelToken}))}this._currentChannelIdx=n,this._currentGroupIdx=r==null?void 0:r.groupIdx}getGroupIdxByChannelIdx(n){const r=this.getGroupList().find(i=>i.channelIdx===n);if(r)return r.groupIdx}leaveGroup(n,a,r){}addUser(){}removeUser(n,a,r){}enterChannel(n){this._isDebug&&console.log("chatBaseManager.enterChannel ",JSON.stringify(n)),he().doEnterChannel(n)}changeCurrentChannelIdx(n){this._currentChannelIdx=n}updateEmergencyState(){}get currentChannelIdx(){return this._currentChannelIdx}get groupList(){return this._groupList}set groupList(n){this._groupList=n}get isReady(){return this._isReady}get currentGroupIdx(){return this._currentGroupIdx}}const Gf=9999999999;var by=(e=>(e.INITIALIZE_COMPLETE="initializeComplete",e))(by||{});let $r=class extends EventTarget{constructor(n,a,r,i){super();pt(this,"_type");pt(this,"_channelIdx");pt(this,"_groupIdx");pt(this,"_creatorInfo");pt(this,"_channelToken");pt(this,"_userList");pt(this,"_messageList");pt(this,"_dateReg");pt(this,"_dateMod");pt(this,"_isDelete");pt(this,"_pagingKey");pt(this,"_totalCount");pt(this,"_emergencyTargetUserIdx");pt(this,"_emergencyState");this._type=Io.CHANNEL,this._creatorInfo=i,this._channelIdx=n,this._channelToken=a,this._groupIdx=r,this._emergencyTargetUserIdx=null,this._userList=[],this._messageList=[],this._isDelete=!1,this._pagingKey=0,this._totalCount=0,this._emergencyState=!1}doLoadData(){const n={messageChannelIdx:this._channelIdx};CE(xe(),n).then(a=>{this.setChannelInfo(a),this.doLoadUserList(a.data.userList??[]),this.doLoadMessageList(a.data.messageList??[]),this._totalCount=a.data.totalCount,this.checkEmergencyState(),this.dispatchEvent(new CustomEvent("initializeComplete",{detail:this._channelIdx}))}).catch(a=>console.log(a))}setChannelInfo(n){if(n.data.userList.length<1)return;const a=n.data.userList[0];this.dateMod=a.channelDateMod,this.dateReg=a.channelDateReg}toUserDto(n){return{type:Io.USER,userIdx:n.userIdx,channelIdx:n.messageChannelIdx,userId:n.userId,username:n.username,userProfile:n.userProfile??void 0,isActive:n.isActive??!1,lastAccessDate:new Date(n.lastAccessDate)}}toMessageDto(n){return{type:Io.MESSAGE,messageSeq:n.messageSeq,userIdx:n.userIdx,userId:n.userId,username:n.username,messageType:n.messageType,messageBody:n.messageBody,isActive:n.isActive??!0,dateReg:new Date(n.dateReg),dateMod:new Date(n.dateMod),readCount:this._userList.length,fileInfo:n.fileInfo??void 0,userProfile:n.userProfile??void 0}}getCastedMessageList(n){const a=[];for(const r of n)a.push(this.toMessageDto(r));return a}addUser(n){}removeUser(n){Qt.exports.remove(this._userList,a=>a.userIdx===n),this.channelIdx===G().currentChannelIdx&&G().dispatchEvent(new CustomEvent(ge.REMOVE_USER,{detail:{channelIdx:this.channelIdx,userIdx:n}}))}updateMessageList(n){const a=[];if(this.messageList.length>0){const r=new Date(this.messageList[this.messageList.length-1].dateReg);for(const i of n??[])new Date(i.dateReg)>r&&a.push(i);this.addMessage(a,!0)}else this.addMessage(n??[],!0)}addUnloadMessage(n,a){const r=this.createDefaultMessage();r.messageType=n.messageType,r.messageBody=n.messageBody instanceof File?"":n.messageBody,r.tempUuid=n.tempUuid;const i=this._messageList.length;i&&(r.messageSeq=Number(this._messageList[i-1].messageSeq+Gf)),this._messageList.push(r)}createDefaultMessage(){return{type:Io.MESSAGE,messageSeq:Gf,messageType:oe.TEXT,userIdx:H().userIdx,userId:H().userId,username:H().username,userProfile:void 0,messageBody:"",isActive:!0,dateReg:new Date,dateMod:new Date,readCount:this._userList.length-1,totalCount:0}}setMessageList(n,a){this._messageList=n,this._messageList.sort((r,i)=>r.dateReg>i.dateReg?1:-1),a||G().dispatchEvent(new CustomEvent(ge.MESSAGE_RECEIVED,{detail:this._channelIdx}))}clearData(){this._userList=[],this._messageList=[]}doLoadMessageList(n){if(!(n.length<1)){for(let a=n.length-1;a>=0;a--)this._messageList.push(this.toMessageDto(n[a]));this.increasePagingKey()}}increasePagingKey(){this._pagingKey++}decreasePagingKey(){this._pagingKey--}doLoadUserList(n){if(!(n.length<1))for(const a of n)this._userList.push(this.toUserDto(a))}updateUserList(n,a){this.clearUserActive();for(const r of this._userList)for(const i of n)r.userIdx===i&&(r.isActive=!0,r.lastAccessDate=new Date(a))}updateUserOnlineState(n,a){for(const r of this._userList)n===r.userIdx&&(r.isActive=!0,r.lastAccessDate=new Date(a))}calculateReadCount(){const n=this._userList.length;try{const a=this.messageList.length;if(a<1||!this.messageList[0].dateReg)return;for(let r=0;r<a;r++){let i=n;const o=this._messageList[r];if(o.dateReg)for(let s=0;s<n;s++){const l=this._userList[s];o.dateReg<=l.lastAccessDate&&(o.readCount=o.readCount>0?i-1:0,i--)}}}catch(a){console.log("e",a)}G().dispatchEvent(new CustomEvent(ge.UPDATE,{detail:this.channelIdx}))}makeDayPartition(){const n=this.messageList;if(n.length<1||!n[0].dateReg)return;n.forEach(r=>r.isDayFirstMsg=!1),Number(this._totalCount)===Number(n.length)&&(this._messageList[0].isDayFirstMsg=!0);let a=n[0].dateReg.getDate();for(let r=0;r<n.length;r++){const i=n[r].dateReg.getDate();a!==i&&(a=i,n[r].isDayFirstMsg=!0)}G().dispatchEvent(new CustomEvent(ge.UPDATE,{detail:this.channelIdx}))}makeDecorationMarker(){const n=[oe.ENTER,oe.LEAVE],a=this.messageList;if(a&&a.length>0)for(let r=0;r<a.length;r++)if(r===0)a[r].parentSeq=void 0,a[r].isLastChild=!0;else{a[r].parentSeq=void 0;const i=a[r-1],o=a[r];if(o.isLastChild=!0,n.indexOf(o.messageType)<0&&n.indexOf(i.messageType)<0){if(o.dateReg&&i.dateReg)if(o.userIdx===i.userIdx){const s=o.dateReg.toString(),l=s.split(":")[0],u=s.split(":")[1],c=i.dateReg.toString(),d=c.split(":")[0],h=c.split(":")[1];l===d&&u===h&&(i.isLastChild=!1,o.isLastChild=!0,i.parentSeq?o.parentSeq=i.parentSeq:o.parentSeq=i.messageSeq)}else o.changeSender=!0}else n.indexOf(o.messageType)<0&&n.indexOf(i.messageType)>-1?o.changeSender=!0:n.indexOf(o.messageType)>-1&&n.indexOf(i.messageType)<0&&(i.isLastChild=!0,o.changeSender=!0)}}getLastMessage(){const n=this.messageList.length,a=[oe.TEXT,oe.IMAGE,oe.VIDEO,oe.EMERGENCY,oe.EMERGENCY_ALARM,oe.EMERGENCY_IMAGE,oe.EMERGENCY_VIDEO];for(let r=n-1;r>=0;r--)if(a.includes(this.messageList[r].messageType))return this.messageList[r];return n>0?this.messageList[n-1]:void 0}isUpdated(){const n=this.getLastMessage();if(n&&n.dateReg){if(n.userIdx===H().userIdx)return!1;const a=this.getMyLastAccessDate();if(a)return n.dateReg>a}return!1}clearUserActive(){for(const n of this._userList)n.isActive=!1}addMessage(n,a=!1){for(const r of n){const i=this.toMessageDto(r);if(i.userIdx===H().userIdx){i.messageType===oe.EMERGENCY_ALARM&&this._messageList.push(i);const o=Qt.exports.findIndex(this._messageList,s=>s.tempUuid===r.tempUuid);o&&o>-1&&(i.tempUuid=void 0,this._messageList[o]=i)}else this._messageList.push(i)}this._messageList.sort((r,i)=>r.dateReg>i.dateReg?1:-1),a||G().dispatchEvent(new CustomEvent(ge.MESSAGE_RECEIVED,{detail:this._channelIdx}))}getMyLastAccessDate(){const n=this._userList.find(a=>a.userIdx===H().userIdx);if(n)return n.lastAccessDate}checkEmergencyState(){const n=this.userList.find(r=>r.userIdx===H().userIdx),a=this._messageList;if(n&&a&&a.length>0){const r=a.find(i=>i.dateReg>n.lastAccessDate&&(i.messageType===oe.EMERGENCY||i.messageType===oe.EMERGENCY_VIDEO||i.messageType===oe.EMERGENCY_IMAGE||i.messageType===oe.EMERGENCY_ALARM));this._emergencyState=!!r}}readEmergencyMessage(){this._emergencyState=!1}get type(){return this._type}get channelIdx(){return this._channelIdx}get userList(){return this._userList}set userList(n){this._userList=n}get messageList(){return this._messageList.filter(n=>n.isActive)}set messageList(n){this._messageList=n}get dateReg(){return this._dateReg}set dateReg(n){this._dateReg=n}get dateMod(){return this._dateMod}set dateMod(n){this._dateMod=n}get channelToken(){return this._channelToken}set channelToken(n){this._channelToken=n}get isDelete(){return this._isDelete}set isDelete(n){this._isDelete=n}get pagingKey(){return this._pagingKey}get totalCount(){return this._totalCount}set totalCount(n){this._totalCount=n}get groupIdx(){return this._groupIdx}get emergencyTargetUserIdx(){return this._emergencyTargetUserIdx}set emergencyTargetUserIdx(n){this._emergencyTargetUserIdx=n}get creatorInfo(){return this._creatorInfo}set creatorInfo(n){this._creatorInfo=n}get emergencyState(){return this._emergencyState}};function EE(e,t){const n=(a,r)=>{e.post("/api/1/group/getGroupInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}function Sy(e,t){const n=(a,r)=>{e.post("/api/1/group/getGroupEmergencyInfo",t).then(i=>{i.data.resultCode!==0?r("msg."+i.data.resultMsg):a({data:i.data.data})}).catch(i=>{r("msg.RESULT_FAILED")})};return new Promise(n)}function bE(e,t){const n=(a,r)=>{e.post("/api/1/group/deleteGroupUser",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}function SE(e,t){const n=(a,r)=>{e.post("/api/1/users/getUserInfoById",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):i.data.data.userType!=De.USER_DEVICE?a({data:i.data.data}):r("msg.REQUEST_TO_USERDEVICE_TYPE")}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}function DE(e,t){const n=(a,r)=>{e.post("/api/1/group/insertUserGroupInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}function TE(e,t){const n=(a,r)=>{e.post("/api/1/group/updateEmergencyTargetUser",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}function IE(e,t){const n=(a,r)=>{e.post("/api/1/group/getGroupRequestInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}function Ff(e,t){const n=(a,r)=>{e.post("/api/1/group/updateUserGroupJoin",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}function AE(e,t){const n=(a,r)=>{e.post("/api/1/group/createUserGroupInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}function kE(e,t){const n=(a,r)=>{e.post("/api/1/group/getGroupEmergencyCandidateList",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}function Dy(e,t){const n=(a,r)=>{e.post("/api/1/message/saveMessageFile",t,gE()).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}function ME(e,t){const n=(a,r)=>{e.post("/api/1/common/push-notice-alone",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)}const LE=be({name:"KpImage",props:{src:{type:String},originSrc:{type:String},imgSets:{type:Number,default:1,required:!1},alt:{type:String,required:!1}},setup(e){return{srcSet:ke(()=>{let a="";if(e.src&&e.imgSets>1){const r=e.src.lastIndexOf("."),i=e.src.substring(0,r),o=e.src.substring(r);a+=`${i}@2x${o} 2x`,e.imgSets>2&&(a+=` , ${i}@3x${o} 3x`)}return a}),onError:a=>{if(a.currentTarget){let r=a.currentTarget;r.onerror=null,e.originSrc&&(r.src=e.originSrc)}}}}}),Se=(e,t)=>{const n=e.__vccOpts||e;for(const[a,r]of t)n[a]=r;return n},RE=["src","srcset","alt","onerror"];function OE(e,t,n,a,r,i){return k(),O("img",{src:e.src,srcset:e.srcSet,alt:e.alt,onerror:e.onError},null,8,RE)}const Xe=Se(LE,[["render",OE]]),PE=be({name:"KpLink",props:{link:{type:String,required:!1},title:{type:String},onClick:{type:Function,required:!1}},methods:{handleClick(e){e.stopPropagation(),this.onClick?this.onClick():this.link&&this.$router.push(this.link)}}}),NE=["href","title"];function BE(e,t,n,a,r,i){return k(),O("a",{class:"",href:e.link,onClick:t[0]||(t[0]=Ka((...o)=>e.handleClick&&e.handleClick(...o),["prevent","stop"])),title:e.title},[rp(e.$slots,"default")],8,NE)}const xt=Se(PE,[["render",BE]]),$E=be({name:"GroupStateManagePopup",components:{KpLink:xt,Portal:wu},props:{userInfo:{type:Object,required:!1},acceptHandler:{type:Function,required:!1},refuseHandler:{type:Function,required:!1}},setup(e){const t=ze(),n=I(),a=I(!1),r=I(!1),i=()=>{var l,u;e.userInfo&&(a.value=!0,n.value=e.userInfo,r.value=((l=G().getMyGroup())==null?void 0:l.emergencyTargetUserIdx)===((u=n.value)==null?void 0:u.userIdx))},o=()=>{e.acceptHandler&&e.acceptHandler()},s=()=>{e.refuseHandler&&e.refuseHandler(),t.dispatch(ft,et.NONE)};return Ue(()=>{i()}),ot(()=>{s()}),{isOpen:a,targetUser:n,isEmergencyTargetUser:r,handleAccept:o,handleRefuse:s}}}),UE={class:"main-notice mt-[10px]"},GE={class:"text-center"},FE=C("br",null,null,-1),HE=C("span",null,"돌봄 그룹 연결을 취소하시겠습니까? ",-1),VE={key:0,class:"emergency-deco mt-[10px]"},YE=C("span",null,[se("*긴급통화 연결 대상입니다."),C("br")],-1),zE=C("span",null,"연결 취소 시 재설정이 필요합니다.",-1),WE=[YE,zE],qE={class:"button-area flex justify-between mt-[20px]"},ZE=C("span",{class:"w-full text-center"},"아니오",-1),KE=C("span",{class:"w-full text-center"},"예",-1);function XE(e,t,n,a,r,i){const o=U("kp-link"),s=U("portal");return e.isOpen&&e.targetUser?(k(),fe(s,{key:0,to:"group-state-manage"},{default:ve(()=>[C("div",{class:ye(["group-state-manage-wrapper absolute w-[315px] bg-white left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] p-[20px] rounded-[10px] flex flex-col justify-between",e.isEmergencyTargetUser?"h-[200px]":"h-[165px]"])},[C("div",UE,[C("span",GE,[se(ee(e.targetUser.username)+"님의 ",1),FE]),HE]),e.isEmergencyTargetUser?(k(),O("div",VE,WE)):re("",!0),C("div",qE,[M(o,{link:"#","on-click":e.handleRefuse,class:"refuse-btn w-[130px] h-[50px] rounded-[25px] flex items-center"},{default:ve(()=>[ZE]),_:1},8,["on-click"]),M(o,{link:"#","on-click":e.handleAccept,class:"accept-btn w-[130px] h-[50px] rounded-[25px] flex items-center"},{default:ve(()=>[KE]),_:1},8,["on-click"])])],2)]),_:1})):re("",!0)}const jE=Se($E,[["render",XE]]);var hn=(e=>(e.PENDING="PENDING",e.RESOLVE="RESOLVE",e.REJECT="REJECT",e))(hn||{}),Eu=(e=>(e.CHANGE_EMERGENCY_TARGET="CHANGE_EMERGENCY_TARGET",e.MY_GROUP_LIST="MY_GROUP_LIST",e.GROUP_JOIN_REQUEST="GROUP_JOIN_REQUEST",e))(Eu||{});const JE=be({name:"Profile",components:{KpLink:xt,KpImage:Xe,GroupStateManagePopup:jE},props:{userInfo:{type:Object,required:!1},profileType:{type:String,required:!1},changeUserState:{type:Function,required:!1},callbackHandler:{type:Function,required:!1}},setup(e){const t=ze();nt();const n=ke(()=>e.userInfo),a=I(""),r=I(""),i=I(""),o=I(""),s=I(""),l=I(),u=I(),c=I(),d=I(),h=I(),p=I(!1),f=()=>{e.userInfo&&e.userInfo.userIdx&&(a.value=e.userInfo.userIdx),e.userInfo&&e.userInfo.imgSrc&&(r.value=e.userInfo.imgSrc),e.userInfo&&e.userInfo.username&&(i.value=e.userInfo.username),e.userInfo&&e.userInfo.ext&&(o.value=e.userInfo.ext),e.userInfo&&e.userInfo.state&&(s.value=e.userInfo.state),e.userInfo&&e.userInfo.stateReg&&(u.value=e.userInfo.stateReg),e.userInfo&&e.userInfo.groupIdx&&(d.value=e.userInfo.groupIdx),e.userInfo&&e.userInfo.messageChannelIdx&&(h.value=e.userInfo.messageChannelIdx),e.profileType&&(l.value=e.profileType),E()},g=()=>{var S;const x={targetUserIdx:(S=e.userInfo)!=null&&S.isSlave?a.value:H().userIdx,groupIdx:d.value,channelIdx:h.value};bE(xe(),x).then(b=>{if(e.callbackHandler){e.callbackHandler(),E();const D=b.data;b.data.userIdx===H().userIdx?G().leaveGroup(D.groupIdx,D.userIdx,D.channelIdx):D.stateReg==="RESOLVE"&&G().removeUser(D.groupIdx,D.userIdx,D.channelIdx)}}).catch(b=>console.log(b)),t.dispatch(ft,et.NONE)},v=()=>{t.dispatch(ft,et.GROUP_STATE_MANAGE),p.value=!0},m=()=>{p.value=!1},y=()=>{e.callbackHandler&&e.callbackHandler()},_=()=>{const x=n.value,S={groupIdx:x.groupIdx,channelIdx:x.messageChannelIdx,stateReg:"RESOLVE"};Ff(xe(),S).then(b=>{e.callbackHandler&&(e.callbackHandler(b.data.requestList),G().enterChannel({userIdx:H().userIdx,groupIdx:x.groupIdx,messageChannelIdx:x.messageChannelIdx}))}).catch(b=>{b==="msg.RESULT_DUPLICATED"&&window.alert("이미 등록된 매니저가 존재합니다."),console.log(b)})},w=()=>{const x=n.value,S={groupIdx:x.groupIdx,channelIdx:x.messageChannelIdx,stateReg:"REJECT"};Ff(xe(),S).then(b=>{e.callbackHandler&&e.callbackHandler(b.data.requestList)}).catch(b=>console.error(b)),console.warn(n.value)},E=()=>{u.value==="RESOLVE"?c.value="연결취소":u.value==="REJECT"?c.value="REJECT":u.value==="PENDING"&&(c.value="연결대기")};return Ue(()=>{f()}),ot(()=>{}),{PROFILE_TYPE:Eu,STATE_REG:hn,username:i,imgSrc:r,ext:o,stateReg:u,stateRegView:c,openManagePopup:p,isMyGroupList:ke(()=>l.value==="MY_GROUP_LIST"),isChangeEmergencyTarget:ke(()=>l.value==="CHANGE_EMERGENCY_TARGET"),isGroupJoinRequest:ke(()=>l.value==="GROUP_JOIN_REQUEST"),handleRemoveGroup:g,handleChangeEmergency:y,handleAcceptJoinRequest:_,handleRefuseJoinRequest:w,stateResolver:E,handleOpenManagePopup:v,handleCloseManagerPopup:m}}}),QE={class:"profile-wrapper h-[40px] flex justify-start w-full mb-[20px] gap-0"},eb={key:0,class:"profile-background w-[40px] h-[40px]"},tb={class:"name mb-[5px] text-ellipsis overflow-hidden whitespace-nowrap"},nb={class:"etc text-ellipsis overflow-hidden whitespace-nowrap"},ab={class:"profile-btn h-full flex items-center justify-end flex-1"},rb={class:"text-center"},ib=C("div",{class:"w-full"},"변경",-1),ob={key:2,class:"join-request-wrapper flex justify-between w-full"},sb=C("span",{class:"w-full"},"거절",-1),lb=C("span",{class:"w-full"},"연결",-1);function ub(e,t,n,a,r,i){const o=U("kpImage"),s=U("kpLink"),l=U("kp-link"),u=U("group-state-manage-popup");return k(),O("div",QE,[(k(),O("div",{class:"w-[40px] min-w-[40px] flex justify-center items-center h-full mr-[15px]",key:e.imgSrc},[e.imgSrc==="images/common/base-profile.svg"?(k(),O("div",eb,[M(o,{class:"w-[20px] h-[25px]",src:e.imgSrc},null,8,["src"])])):(k(),fe(o,{key:1,class:"w-[40px] h-[40px] rounded-[50%] object-cover",src:e.imgSrc},null,8,["src"]))])),C("div",{class:ye(["flex justify-start w-full",e.isGroupJoinRequest?"max-w-[calc(100vw_-_290px)]":e.isMyGroupList?"max-w-[calc(100vw_-_240px)]":"max-w-[calc(100vw_-_200px)]"])},[C("div",{class:ye(["profile-info flex flex-col h-full justify-start w-full",e.isGroupJoinRequest?"max-w-[85%] w-[85%]":e.isMyGroupList?"max-w-[90%] w-[90%]":"max-w-[75%] w-[75%]"])},[C("span",tb,ee(e.username),1),C("span",nb,ee(e.ext),1)],2)],2),C("div",ab,[e.isMyGroupList?(k(),fe(s,{key:0,link:"#","on-click":e.handleOpenManagePopup,class:ye(["group-list-wrapper w-[100px] h-[40px] rounded-[25px] flex justify-center items-center",e.stateReg===e.STATE_REG.RESOLVE?"state-resolve":e.stateReg===e.STATE_REG.PENDING?"state-pending":"state-reject"])},{default:ve(()=>[C("div",rb,ee(e.stateRegView),1)]),_:1},8,["on-click","class"])):e.isChangeEmergencyTarget?(k(),fe(l,{key:1,link:"#","on-click":e.handleChangeEmergency,class:"emergency-wrapper w-[70px] h-[40px] flex items-center text-center rounded-[25px]"},{default:ve(()=>[ib]),_:1},8,["on-click"])):e.isGroupJoinRequest?(k(),O("div",ob,[M(l,{link:"#","on-click":e.handleRefuseJoinRequest,class:"refuse-btn w-[70px] h-[40px] text-center mr-[10px] rounded-[25px] flex items-center flex items-center"},{default:ve(()=>[sb]),_:1},8,["on-click"]),M(l,{link:"#","on-click":e.handleAcceptJoinRequest,class:"accept-btn w-[70px] h-[40px] text-center rounded-[25px] flex items-center"},{default:ve(()=>[lb]),_:1},8,["on-click"])])):re("",!0)]),e.openManagePopup?(k(),fe(u,{key:0,"user-info":e.userInfo,"accept-handler":e.handleRemoveGroup,"refuse-handler":e.handleCloseManagerPopup},null,8,["user-info","accept-handler","refuse-handler"])):re("",!0)])}const cb=Se(JE,[["render",ub]]);class db extends Ey{constructor(){super(),this.handleConnect=this.handleConnect.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this),this.handleLoadComplete=this.handleLoadComplete.bind(this),this.handleInitChannelComplete=this.handleInitChannelComplete.bind(this),this.handleJoinChannelComplete=this.handleJoinChannelComplete.bind(this),this.handleQuitChannelComplete=this.handleQuitChannelComplete.bind(this),this.handleCreateChannelComplete=this.handleCreateChannelComplete.bind(this),this.handleEnterChannelComplete=this.handleEnterChannelComplete.bind(this),this.handleRemoveUser=this.handleRemoveUser.bind(this),this.handleLeaveChannelByOther=this.handleLeaveChannelByOther.bind(this),this.handleLeaveChannelComplete=this.handleLeaveChannelComplete.bind(this),this.handleUserJoin=this.handleUserJoin.bind(this),this.handleUserDisconnect=this.handleUserDisconnect.bind(this),this.handleMessageReceived=this.handleMessageReceived.bind(this),this.handleUserUpdate=this.handleUserUpdate.bind(this),this.handleMessageUpdate=this.handleMessageUpdate.bind(this),this.initialize()}launchChat(){super.launchChat(),he().isConnected||this.addChatEvent()}addChatEvent(){this.removeChatEvent(),he().addEventListener(we.CONNECT,this.handleConnect),he().addEventListener(we.DISCONNECT,this.handleDisconnect),he().addEventListener(we.INIT_CHANNEL_COMPLETE,this.handleInitChannelComplete),he().addEventListener(we.JOIN_CHANNEL_COMPLETE,this.handleJoinChannelComplete),he().addEventListener(we.QUIT_CHANNEL_COMPLETE,this.handleQuitChannelComplete),he().addEventListener(we.CREATE_CHANNEL_COMPLETE,this.handleCreateChannelComplete),he().addEventListener(we.ENTER_CHANNEL_COMPLETE,this.handleEnterChannelComplete),he().addEventListener(we.DELETE_USER,this.handleDeleteUser),he().addEventListener(we.REMOVE_USER,this.handleRemoveUser),he().addEventListener(we.LEAVE_CHANNEL_BY_OTHER,this.handleLeaveChannelByOther),he().addEventListener(we.LEAVE_CHANNEL_COMPLETE,this.handleLeaveChannelComplete),he().addEventListener(we.USER_JOIN,this.handleUserJoin),he().addEventListener(we.USER_QUIT,this.handleUserQuit),he().addEventListener(we.USER_DISCONNECTED,this.handleUserDisconnect),he().addEventListener(we.MESSAGE_RECEIVED,this.handleMessageReceived),he().addEventListener(we.ERROR_RECEIVED,this.handleErrorReceived),he().addEventListener(we.UPDATE_USER,this.handleUserUpdate),he().addEventListener(we.UPDATE_MESSAGE,this.handleMessageUpdate)}removeChatEvent(){he().removeEventListener(we.CONNECT,this.handleConnect),he().removeEventListener(we.DISCONNECT,this.handleDisconnect),he().removeEventListener(we.JOIN_CHANNEL_COMPLETE,this.handleJoinChannelComplete),he().removeEventListener(we.QUIT_CHANNEL_COMPLETE,this.handleQuitChannelComplete),he().removeEventListener(we.CREATE_CHANNEL_COMPLETE,this.handleCreateChannelComplete),he().removeEventListener(we.ENTER_CHANNEL_COMPLETE,this.handleEnterChannelComplete),he().removeEventListener(we.REMOVE_USER,this.handleRemoveUser),he().removeEventListener(we.LEAVE_CHANNEL_BY_OTHER,this.handleLeaveChannelByOther),he().removeEventListener(we.LEAVE_CHANNEL_COMPLETE,this.handleLeaveChannelComplete),he().removeEventListener(we.USER_JOIN,this.handleUserJoin),he().removeEventListener(we.USER_QUIT,this.handleUserQuit),he().removeEventListener(we.USER_DISCONNECTED,this.handleUserDisconnect),he().removeEventListener(we.MESSAGE_RECEIVED,this.handleMessageReceived),he().removeEventListener(we.ERROR_RECEIVED,this.handleErrorReceived),he().removeEventListener(we.UPDATE_USER,this.handleUserUpdate)}initialize(){super.initialize()}destroy(){this.removeChatEvent(),super.destroy()}handleLoadComplete(){super.handleLoadComplete(),this._isDebug&&console.log(`ChatManager handleLoadComplete loadChannel = ${this} `),this._isReady=!0,this.dispatchEvent(new Event(ge.LOAD_COMPLETE))}getMyGroup(){const t=this._groupList.filter(n=>{var a;return((a=n.creatorInfo)==null?void 0:a.userIdx)===H().userIdx});if(t.length>0)return t[0]}handleConnect(t){const n=t.detail;this._isDebug&&console.log("handleConnect data",n),he().initData({userIdx:H().userIdx,stateReg:hn.RESOLVE}),this.dispatchEvent(new Event(ge.LOAD_START))}handleDisconnect(t){const n=t.detail;this._isDebug&&console.log("chatManager handleDisconnect data",n)}handleInitChannelComplete(t){const n=t.detail;this._isDebug&&console.log("ChatManager handleInitChannelComplete",n),this.handleLoadComplete()}handleJoinChannelComplete(t){const n=t.detail;this._isDebug&&console.log("chatManager handleJoinRoomComplete data",n);const{messageList:a,messageChannelIdx:r,userList:i,accessDate:o}=n,s=this.getGroupByChannelIdx(r);if(s){if(a&&a.length>0){const l=s.getCastedMessageList(a);s.setMessageList(l,!0)}s.updateUserList(i,o),s.calculateReadCount(),s.makeDayPartition(),s.makeDecorationMarker()}}handleQuitChannelComplete(t){const n=t.detail;this._isDebug&&console.log("chatManager handleJoinRoomComplete data",n);const{messageChannelIdx:a,userList:r,accessDate:i}=n,o=this.getGroupByChannelIdx(a);o&&o.updateUserList(r,i)}handleUserJoin(t){const n=t.detail;this._isDebug&&console.log("chatManager handleUserJoin data",n);const a=this.getGroupByChannelIdx(n.messageChannelIdx);a&&(a.updateUserList(n.userList,n.accessDate),this.currentChannelIdx===a.channelIdx&&a.calculateReadCount(),this.dispatchEvent(new CustomEvent(ge.USER_JOIN,{detail:a.channelIdx})))}handleUserQuit(t){const n=t.detail;this._isDebug&&console.log("chatManager handleUserQuit data",n);const{messageChannelIdx:a,userList:r,accessDate:i}=n,o=G().getGroupByChannelIdx(a);o&&(o.updateUserList(r,i),this.dispatchEvent(new CustomEvent(ge.USER_QUIT,{detail:o.channelIdx})))}handleUserDisconnect(t){const n=t.detail;this._isDebug&&console.log("chatManager handleDisConnect data",n);const{userIdx:a,channelIdx:r,lastAccessDate:i}=n;for(const o of this.groupList)for(const s of o.userList)s.userIdx===a&&(r&&i&&(s.lastAccessDate=new Date(i)),s.isActive=!1)}handleMessageReceived(t){const n=t.detail,a=n.messageInfo,r=a[0];n.onlineUserList,this._isDebug&&console.log("chatManager handleMessageReceived data",n);const i=this.getGroupByChannelIdx(r.messageChannelIdx);if(i){const o=r.userIdx!==H().userIdx,s=this.currentChannelIdx===r.messageChannelIdx,l=r.dateReg;i.updateUserOnlineState(r.userIdx,l),i.addMessage(a,!o),i.totalCount=n.totalCount,o&&s?(this._isDebug&&console.warn("handleUpdate"),i.updateUserOnlineState(H().userIdx,l),he().updateUser({channelToken:i.channelToken,lastAccessDate:l})):o&&!s&&i.checkEmergencyState(),i.channelIdx===this._currentChannelIdx&&(i.makeDayPartition(),i.makeDecorationMarker(),i.calculateReadCount())}}handleErrorReceived(t){const n=t.detail;this._isDebug&&console.log("chatManager handleErrorReceived data",n)}handleCreateChannelComplete(t){const n=t.detail;this._isDebug&&console.log("chatManager handleCreateChannelComplete data",n);const a=new $r(n.messageChannelIdx,n.channelToken,n.groupIdx,n.creatorInfo);a.dateReg=n.dateReg,a.dateMod=n.dateMod,this.groupList.push(a),this.dispatchEvent(new CustomEvent(ge.ADD_CHANNEL,{detail:a.channelIdx}))}handleEnterChannelComplete(t){const n=t.detail;if(this._isDebug&&console.log("chatManager handleEnterChannelComplete data",n),n.userIdx===H().userIdx){const a=new $r(n.channelIdx,n.channelToken,n.groupIdx,n.creatorInfo);a.dateReg=n.channelDateReg,a.dateMod=n.channelDateMod,a.totalCount=n.totalCount,a.doLoadUserList(n.userList??[]),a.doLoadMessageList(n.messageList??[]),this.groupList.push(a),this.currentGroupIdx||this.setCurrentGroup(n.groupIdx)}else{const a=this.getGroup(n.groupIdx);if(a){a.userList=[],a.doLoadUserList(n.userList);const r=[];if(a.messageList.length>0){for(const i of n.messageList)i.messageSeq>a.messageList[a.messageList.length-1].messageSeq&&r.push(i);a.addMessage(r,!0)}else a.addMessage(n.messageList,!0);this.dispatchEvent(new CustomEvent(ge.USER_ENTER,{detail:a.channelIdx}))}}}handleUserUpdate(t){const n=t.detail;this._isDebug&&console.log("chatUserManager.handleUserUpdate",n);const a=n.user_idx,r=n.message_channel_idx,i=n.last_access_date;if(H().userIdx===a)return;const o=this.getGroupByChannelIdx(r);if(o){const s=o.userList.find(l=>l.userIdx===a);s&&(s.lastAccessDate=new Date(i)),o.calculateReadCount()}}handleMessageUpdate(t){const n=t.detail;this._isDebug&&console.log("chatUserManager.handleMessageUpdate",n);const a=n.messageInfo,r=n.channelIdx,i=n.totalCount,o=this.getGroupByChannelIdx(r);o&&(o.updateMessageList(a),o.totalCount=i,o.calculateReadCount(),o.makeDecorationMarker(),o.makeDayPartition()),this.dispatchEvent(new CustomEvent(ge.UPDATE,{detail:{channelIdx:r}}))}handleRemoveUser(t){const n=t.detail;this._isDebug&&console.log("chatUserManager.handleRemoveUser",n);const a=n.channelIdx,r=n.userIdx,i=this.getGroupByChannelIdx(a);i&&(i.removeUser(r),i.channelToken&&he().updateMessage({channelIdx:a,channelToken:i.channelToken}))}handleDeleteUser(t){const n=t.detail;this._isDebug&&console.log("chatUserManager.handleDeleteUser",n),n.userIdx===H().userIdx&&(Ut(Fe.CONST.LOGIN_USER),Ut(Fe.CONST.LOGIN_KEEP),Ut(Fe.CONST.LOGIN_TOKEN),Mr(Fe.CONST.LOGIN_TOKEN),window.alert("계정이 삭제 되었습니다."),Xr(),window.location.replace("/login"))}handleLeaveChannelByOther(t){const n=t.detail;this._isDebug&&console.log("chatUserManager.handleLeaveChannelByOther",n),(!n.userIdx||n.userIdx===H().userIdx)&&(Qt.exports.remove(this._groupList,a=>a.groupIdx===n.groupIdx),this.currentGroupIdx===n.groupIdx&&(this._groupList.length<1?this.setCurrentGroup(void 0):this.setCurrentGroup(this._groupList[0].groupIdx)),this.dispatchEvent(new CustomEvent(ge.KICKED,{detail:{channelIdx:n.channelIdx,userIdx:n.userIdx}})))}handleLeaveChannelComplete(t){const n=t.detail;this._isDebug&&console.warn("chatUserManager.handleLeaveChannelComplete",n),n.userIdx===H().userIdx&&(Qt.exports.remove(this._groupList,a=>a.groupIdx===n.groupIdx),this.currentGroupIdx===n.groupIdx&&(this._groupList.length<1?this.setCurrentGroup(void 0):(this.setCurrentGroup(this._groupList[0].groupIdx),this.changeCurrentChannelIdx(void 0))),this.dispatchEvent(new CustomEvent(ge.LEAVE_CHANNEL,{detail:n.channelIdx})))}sendChatMessage(t){if(super.sendChatMessage(t),!this.currentChannelIdx||!H().userIdx)return;const n={channelToken:this.getChannelToken(this.currentChannelIdx),messageType:t.messageType,messageBody:t.messageBody,tempUuid:t.tempUuid};if(t.messageType===oe.TEXT)he().sendTextMessage(n);else if(t.messageType===oe.EMERGENCY||t.messageType===oe.EMERGENCY_ALARM)he().sendEmergencyMessage(n);else{const{messageType:a,messageBody:r,tempUuid:i}=t,o=new FormData;o.append("messageFile",r),o.append("channelIdx",this.currentChannelIdx),o.append("messageType",a),o.append("tempUuid",i),Dy(xe(),o).then(s=>{const{attachFileIdx:l,messageSeq:u}=s.data,c=this.getChannelToken(this.currentChannelIdx);c&&he().sendFileMessage({messageSeq:u,messageType:a,tempUuid:i,channelToken:c})}).catch(s=>console.log(s))}}setCurrentGroup(t){super.setCurrentGroup(t)}leaveGroup(t,n,a){super.leaveGroup(t,n,a);const r=this.getChannelToken(a);r&&he().doLeaveChannel({groupIdx:t,targetUserIdx:n,channelIdx:a,channelToken:r})}updateChatMessage(){super.updateChatMessage()}deleteChatMessage(){super.deleteChatMessage()}createGroup(t){super.createGroup(t)}getCurrentGroup(){return super.getCurrentGroup()}getChannelToken(t){return super.getChannelToken(t)}getGroupList(){return super.getGroupList()}joinChannel(t){if(super.joinChannel(t),!t)return;const n=this.getGroupByChannelIdx(t);n&&(this._currentChannelIdx=n.channelIdx,this._currentGroupIdx=n.groupIdx,n.readEmergencyMessage(),he().doJoinChannel({userIdx:H().userIdx,userType:H().userType,channelIdx:this._currentChannelIdx,channelToken:this.getChannelToken(this._currentChannelIdx)}))}quitChannel(t){if(super.quitChannel(),!t)return;const n=this.getChannelToken(this._currentChannelIdx);this._currentChannelIdx=void 0;const a={userIdx:H().userIdx,userType:H().userType,channelIdx:t,channelToken:n};he().doQuitChannel(a)}setCurrentChannel(t){super.setCurrentChannel(t)}addUser(){super.addUser()}removeUser(t,n,a){super.removeUser(t,n,a);const r=this.getChannelToken(a);r&&he().doRemoveUser({groupIdx:t,targetUserIdx:n,channelIdx:a,channelToken:r})}getLastMessage(t){return super.getLastMessage(t)}updateEmergencyState(){for(const t of this._groupList)t.checkEmergencyState()}}class hb extends Ey{constructor(){super(),this.handleConnect=this.handleConnect.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this),this.handleLoadComplete=this.handleLoadComplete.bind(this),this.handleInitChannelComplete=this.handleInitChannelComplete.bind(this),this.handleJoinChannelComplete=this.handleJoinChannelComplete.bind(this),this.handleQuitChannelComplete=this.handleQuitChannelComplete.bind(this),this.handleCreateChannelComplete=this.handleCreateChannelComplete.bind(this),this.handleEnterChannelComplete=this.handleEnterChannelComplete.bind(this),this.handleDeleteUser=this.handleDeleteUser.bind(this),this.handleRemoveUser=this.handleRemoveUser.bind(this),this.handleLeaveChannelByOther=this.handleLeaveChannelByOther.bind(this),this.handleLeaveChannelComplete=this.handleLeaveChannelComplete.bind(this),this.handleUserJoin=this.handleUserJoin.bind(this),this.handleUserDisconnect=this.handleUserDisconnect.bind(this),this.handleMessageReceived=this.handleMessageReceived.bind(this),this.handleUserUpdate=this.handleUserUpdate.bind(this),this.handleMessageUpdate=this.handleMessageUpdate.bind(this),this.initialize()}launchChat(){super.launchChat(),he().isConnected||this.addChatEvent()}addChatEvent(){this.removeChatEvent(),he().addEventListener(we.CONNECT,this.handleConnect),he().addEventListener(we.DISCONNECT,this.handleDisconnect),he().addEventListener(we.INIT_CHANNEL_COMPLETE,this.handleInitChannelComplete),he().addEventListener(we.JOIN_CHANNEL_COMPLETE,this.handleJoinChannelComplete),he().addEventListener(we.QUIT_CHANNEL_COMPLETE,this.handleQuitChannelComplete),he().addEventListener(we.CREATE_CHANNEL_COMPLETE,this.handleCreateChannelComplete),he().addEventListener(we.ENTER_CHANNEL_COMPLETE,this.handleEnterChannelComplete),he().addEventListener(we.DELETE_USER,this.handleDeleteUser),he().addEventListener(we.REMOVE_USER,this.handleRemoveUser),he().addEventListener(we.LEAVE_CHANNEL_BY_OTHER,this.handleLeaveChannelByOther),he().addEventListener(we.LEAVE_CHANNEL_COMPLETE,this.handleLeaveChannelComplete),he().addEventListener(we.USER_JOIN,this.handleUserJoin),he().addEventListener(we.USER_QUIT,this.handleUserQuit),he().addEventListener(we.USER_DISCONNECTED,this.handleUserDisconnect),he().addEventListener(we.MESSAGE_RECEIVED,this.handleMessageReceived),he().addEventListener(we.ERROR_RECEIVED,this.handleErrorReceived),he().addEventListener(we.UPDATE_USER,this.handleUserUpdate),he().addEventListener(we.UPDATE_MESSAGE,this.handleMessageUpdate)}removeChatEvent(){he().removeEventListener(we.CONNECT,this.handleConnect),he().removeEventListener(we.DISCONNECT,this.handleDisconnect),he().removeEventListener(we.JOIN_CHANNEL_COMPLETE,this.handleJoinChannelComplete),he().removeEventListener(we.QUIT_CHANNEL_COMPLETE,this.handleQuitChannelComplete),he().removeEventListener(we.CREATE_CHANNEL_COMPLETE,this.handleCreateChannelComplete),he().removeEventListener(we.ENTER_CHANNEL_COMPLETE,this.handleEnterChannelComplete),he().removeEventListener(we.REMOVE_USER,this.handleRemoveUser),he().removeEventListener(we.LEAVE_CHANNEL_BY_OTHER,this.handleLeaveChannelByOther),he().removeEventListener(we.LEAVE_CHANNEL_COMPLETE,this.handleLeaveChannelComplete),he().removeEventListener(we.USER_JOIN,this.handleUserJoin),he().removeEventListener(we.USER_QUIT,this.handleUserQuit),he().removeEventListener(we.USER_DISCONNECTED,this.handleUserDisconnect),he().removeEventListener(we.MESSAGE_RECEIVED,this.handleMessageReceived),he().removeEventListener(we.ERROR_RECEIVED,this.handleErrorReceived),he().removeEventListener(we.UPDATE_USER,this.handleUserUpdate)}initialize(){super.initialize()}destroy(){this.removeChatEvent(),super.destroy()}handleLoadComplete(){super.handleLoadComplete(),this._isDebug&&console.log("ChatManager handleLoadComplete loadChannel",this),this._isReady=!0,this.dispatchEvent(new Event(ge.LOAD_COMPLETE))}handleConnect(t){const n=t.detail;this._isDebug&&console.log("handleConnect data",n),he().initData({userIdx:H().userIdx,stateReg:hn.RESOLVE}),this.dispatchEvent(new Event(ge.LOAD_START))}handleDisconnect(t){const n=t.detail;this._isDebug&&console.log("chatManager handleDisconnect data",n)}handleInitChannelComplete(t){const n=t.detail;this._isDebug&&console.log("ChatManager handleInitChannelComplete",n);try{this.handleLoadComplete()}catch(a){console.error(a)}}handleJoinChannelComplete(t){const n=t.detail;this._isDebug&&console.log("chatManager handleJoinRoomComplete data",n);const{messageList:a,messageChannelIdx:r,userList:i,accessDate:o}=n,s=this.getGroupByChannelIdx(r);if(s){if(a&&a.length>0){const l=s.getCastedMessageList(a);s.setMessageList(l,!0)}s.updateUserList(i,o),s.calculateReadCount(),s.makeDayPartition(),s.makeDecorationMarker(),this.dispatchEvent(new CustomEvent(ge.UPDATE,{detail:s.channelIdx}))}}handleQuitChannelComplete(t){const n=t.detail;this._isDebug&&console.log("chatManager handleJoinRoomComplete data",n);const{messageChannelIdx:a,userList:r,accessDate:i}=n,o=this.getGroupByChannelIdx(a);o&&o.updateUserList(r,i)}handleUserJoin(t){const n=t.detail;this._isDebug&&console.log("chatManager handleUserJoin data",n);const a=this.getGroupByChannelIdx(n.messageChannelIdx);a&&(a.updateUserList(n.userList,n.accessDate),this.currentChannelIdx===a.channelIdx&&a.calculateReadCount(),this.dispatchEvent(new CustomEvent(ge.USER_JOIN,{detail:a.channelIdx})))}handleUserQuit(t){const n=t.detail;this._isDebug&&console.log("chatManager handleUserQuit data",n);const{messageChannelIdx:a,userList:r,accessDate:i}=n,o=G().getGroupByChannelIdx(a);o&&(o.updateUserList(r,i),this.dispatchEvent(new CustomEvent(ge.USER_QUIT,{detail:o.channelIdx})))}handleUserDisconnect(t){const n=t.detail;this._isDebug&&console.log("chatManager handleDisConnect data",n);const{userIdx:a,channelIdx:r,lastAccessDate:i}=n;for(const o of this.groupList)for(const s of o.userList)s.userIdx===a&&(r&&i&&(s.lastAccessDate=new Date(i)),s.isActive=!1)}handleMessageReceived(t){const n=t.detail,a=n.messageInfo,r=a[0];n.onlineUserList,this._isDebug&&console.log("chatManager handleMessageReceived data",n);const i=this.getGroupByChannelIdx(r.messageChannelIdx);if(i){const o=r.userIdx!==H().userIdx,s=this.currentChannelIdx===r.messageChannelIdx,l=r.dateReg;i.updateUserOnlineState(r.userIdx,l),i.addMessage(a,r.messageType===oe.EMERGENCY_ALARM?!1:!o),i.totalCount=n.totalCount,o&&s?(this._isDebug&&console.warn("handleUpdate"),i.updateUserOnlineState(H().userIdx,l),he().updateUser({channelToken:i.channelToken,lastAccessDate:l})):o&&!s&&i.checkEmergencyState(),i.channelIdx===this._currentChannelIdx&&(i.makeDayPartition(),i.makeDecorationMarker(),i.calculateReadCount())}}handleErrorReceived(t){const n=t.detail;this._isDebug&&console.log("chatManager handleErrorReceived data",n)}handleCreateChannelComplete(t){const n=t.detail;this._isDebug&&console.log("chatManager handleCreateChannelComplete data",n);const a=new $r(n.messageChannelIdx,n.channelToken,n.groupIdx,n.creatorInfo);a.dateReg=n.dateReg,a.dateMod=n.dateMod,this.groupList.push(a),this.dispatchEvent(new CustomEvent(ge.ADD_CHANNEL,{detail:a.channelIdx}))}handleEnterChannelComplete(t){const n=t.detail;if(this._isDebug&&console.log("chatManager handleEnterChannelComplete data",n),n.userIdx===H().userIdx){const a=new $r(n.channelIdx,n.channelToken,n.groupIdx,n.creatorInfo);a.dateReg=n.channelDateReg,a.dateMod=n.channelDateMod,a.totalCount=n.totalCount,a.doLoadUserList(n.userList??[]),a.doLoadMessageList(n.messageList??[]),this.groupList.push(a),this.currentGroupIdx||this.setCurrentGroup(n.groupIdx)}else{const a=this.getGroup(n.groupIdx);if(a){a.userList=[],a.doLoadUserList(n.userList);const r=[];if(a.messageList.length>0){for(const i of n.messageList)i.messageSeq>a.messageList[a.messageList.length-1].messageSeq&&r.push(i);a.addMessage(r,!0)}else a.addMessage(n.messageList,!0);this.dispatchEvent(new CustomEvent(ge.USER_ENTER,{detail:a.channelIdx}))}}}handleUserUpdate(t){const n=t.detail;this._isDebug&&console.log("chatUserManager.handleUserUpdate",n);const a=n.user_idx,r=n.message_channel_idx,i=n.last_access_date;if(H().userIdx===a)return;const o=this.getGroupByChannelIdx(r);if(o){const s=o.userList.find(l=>l.userIdx===a);s&&(s.lastAccessDate=new Date(i)),o.calculateReadCount()}}handleMessageUpdate(t){const n=t.detail;this._isDebug&&console.log("chatUserManager.handleMessageUpdate",n);const a=n.messageInfo,r=n.channelIdx,i=n.totalCount,o=this.getGroupByChannelIdx(r);o&&(o.updateMessageList(a),o.totalCount=i,o.calculateReadCount(),o.makeDecorationMarker(),o.makeDayPartition()),this.dispatchEvent(new CustomEvent(ge.UPDATE,{detail:{channelIdx:r}}))}handleRemoveUser(t){const n=t.detail;this._isDebug&&console.log("chatUserManager.handleRemoveUser",n);const a=n.channelIdx,r=n.userIdx,i=this.getGroupByChannelIdx(a);i&&(i.removeUser(r),i.channelToken&&he().updateMessage({channelIdx:a,channelToken:i.channelToken}))}handleDeleteUser(t){const n=t.detail;this._isDebug&&console.log("chatUserManager.handleDeleteUser",n),n.userIdx===H().userIdx&&(Ut(Fe.CONST.LOGIN_USER),Ut(Fe.CONST.LOGIN_KEEP),Ut(Fe.CONST.LOGIN_TOKEN),Mr(Fe.CONST.LOGIN_TOKEN),window.alert("서비스에 대한 접근 권한이 없습니다. 관리자에게 문의해 주세요."),Xr(),window.location.replace("/login"))}handleLeaveChannelByOther(t){const n=t.detail;this._isDebug&&console.log("chatUserManager.handleLeaveChannelByOther",n),(!n.userIdx||n.userIdx===H().userIdx)&&(Qt.exports.remove(this._groupList,a=>a.groupIdx===n.groupIdx),this.currentGroupIdx===n.groupIdx&&(this._groupList.length<1?this.setCurrentGroup(void 0):this.setCurrentGroup(this._groupList[0].groupIdx)),this.dispatchEvent(new CustomEvent(ge.KICKED,{detail:{channelIdx:n.channelIdx,userIdx:n.userIdx}})))}handleLeaveChannelComplete(t){const n=t.detail;this._isDebug&&console.log("chatUserManager.handleLeaveChannelComplete",n),n.userIdx===H().userIdx&&(Qt.exports.remove(this._groupList,a=>a.groupIdx===n.groupIdx),this.currentGroupIdx===n.groupIdx&&(this._groupList.length<1?this.setCurrentGroup(void 0):(this.setCurrentGroup(this._groupList[0].groupIdx),this.changeCurrentChannelIdx(void 0))),this.dispatchEvent(new CustomEvent(ge.LEAVE_CHANNEL,{detail:n.channelIdx})))}sendChatMessage(t){var r;super.sendChatMessage(t);let n="";if(t.messageType===oe.EMERGENCY_ALARM?n=((r=this.getMyGroup())==null?void 0:r.channelIdx)||"":n=this.currentChannelIdx,!n||!H().userIdx)return;const a={channelToken:this.getChannelToken(n),messageType:t.messageType,messageBody:t.messageBody,tempUuid:t.tempUuid};if(t.messageType===oe.TEXT)he().sendTextMessage(a);else if(t.messageType===oe.EMERGENCY||t.messageType===oe.EMERGENCY_ALARM)he().sendEmergencyMessage(a);else{const{messageType:i,messageBody:o,tempUuid:s}=t,l=new FormData;l.append("messageFile",o),l.append("channelIdx",n),l.append("messageType",i),l.append("tempUuid",s),Dy(xe(),l).then(u=>{const{attachFileIdx:c,messageSeq:d}=u.data,h=this.getChannelToken(n);h&&he().sendFileMessage({messageSeq:d,messageType:i,tempUuid:s,channelToken:h})}).catch(u=>{u==="msg.RESULT_FAILED"&&he().dispatchEvent(new CustomEvent(we.FAIL_SEND_MESSAGE,{detail:s}))})}}setCurrentGroup(t){super.setCurrentGroup(t)}getMyGroup(){const t=this._groupList.filter(n=>{var a;return((a=n.creatorInfo)==null?void 0:a.userIdx)===H().userIdx});if(t.length>0)return t[0]}leaveGroup(t,n,a){super.leaveGroup(t,n,a);const r=this.getChannelToken(a);r&&he().doLeaveChannel({groupIdx:t,targetUserIdx:n,channelIdx:a,channelToken:r})}updateChatMessage(){super.updateChatMessage()}deleteChatMessage(){super.deleteChatMessage()}createGroup(t){super.createGroup(t)}getCurrentGroup(){return super.getCurrentGroup()}getChannelToken(t){return super.getChannelToken(t)}getGroupList(){return super.getGroupList()}joinChannel(t){if(super.joinChannel(t),!t)return;const n=this.getGroupByChannelIdx(t);n&&(this._currentChannelIdx=n.channelIdx,n.readEmergencyMessage(),he().doJoinChannel({userIdx:H().userIdx,userType:H().userType,channelIdx:this._currentChannelIdx,channelToken:this.getChannelToken(this._currentChannelIdx)}))}quitChannel(t){if(super.quitChannel(),!t)return;const n=this.getChannelToken(this._currentChannelIdx);this._currentChannelIdx=void 0;const a={userIdx:H().userIdx,userType:H().userType,channelIdx:t,channelToken:n};he().doQuitChannel(a)}setCurrentChannel(t){super.setCurrentChannel(t)}addUser(){super.addUser()}removeUser(t,n,a){super.removeUser(t,n,a);const r=this.getChannelToken(a);r&&he().doRemoveUser({groupIdx:t,targetUserIdx:n,channelIdx:a,channelToken:r})}getLastMessage(t){return super.getLastMessage(t)}updateEmergencyState(){for(const t of this._groupList)t.checkEmergencyState()}}let Qn;const Ui=()=>{if(!Qn)if(H().userType===De.USER||H().userType===De.USER_DEVICE)Qn=new hb;else if(H().userType===De.MANAGER)Qn=new db;else throw new pb("Not found user type");return Qn},G=()=>(Qn||(Qn=Ui()),Qn),Xr=()=>{Qn&&(Qn.destroy(),Qn=void 0)};class pb extends Error{constructor(t){super(t),this.name="NotFoundUserException"}}const Hf=["Dashboard","Map"],fb=["DeviceMenu"],vb=["Health"],gb=["ChatList","ChatDetail"],mb=["SettingMenu","SettingGroup","SettingTarget","SettingAlarm"],yb=["Location"],_b=["ChatDetail","DeviceConnect","Health Detail","Login","Terms","Join","Success","FindUserInfo","FindUserId","FindUserPassword","PrivateInfo","UserType","ResetPassword","SettingTarget","SettingAlarm","DeviceWatchface","DeviceUpdateCycle","DeviceNotDisturb","DeviceFirmwareUpdate","SettingGroup","Downloads"],Cb=be({name:"LayoutFooter",components:{KpLink:xt,KpImage:Xe},setup(){const e=ze(),t=Vt(),n=I([{name:"device",label:"기기"},{name:"health",label:"건강"},{name:"main",label:"홈"},{name:"chat",label:"채팅"},{name:"setting",label:"설정"}]),a=nt(),r=I("main"),i=I(!1),o=I(),s=()=>{try{const d=G().getCurrentGroup();d&&(G().joinChannel(d.channelIdx),a.push({path:`/chat-room/${d.groupIdx}`}))}catch{}},l=d=>{if(e.state.footerLock)d.name==="main"?(r.value=d.name,a.push("/")):d.name==="setting"&&(r.value=d.name,a.push("/setting"));else switch(r.value=d.name,d.name){case"chat":const h=H().userType;if(!h)return;h===De.USER_DEVICE||h===De.USER?s():h===De.MANAGER&&a.push("/chat-list");break;case"health":a.push("/health");break;case"location":a.push({path:"/location?all"});break;case"main":a.push("/");break;case"device":a.push("/device");break;case"setting":a.push("/setting");break}},u=d=>{Hf.indexOf(d??"")>-1?r.value="main":gb.indexOf(d??"")>-1?r.value="chat":vb.indexOf(d??"")>-1?r.value="health":fb.indexOf(d??"")>-1?r.value="device":mb.indexOf(d??"")>-1?r.value="setting":yb.indexOf(d??"")>-1?r.value="location":r.value="main"},c=()=>{n.value=e.state.footerType==="MANAGER"?[{name:"location",label:"위치"},{name:"main",label:"홈"},{name:"chat",label:"채팅"},{name:"setting",label:"설정"}]:[{name:"device",label:"기기"},{name:"health",label:"건강"},{name:"main",label:"홈"},{name:"chat",label:"채팅"},{name:"setting",label:"설정"}],o.value=H()&&H().userType&&H().userType===De.MANAGER};return He(()=>e.state.footerType,()=>{c()}),He(()=>t.name,()=>{i.value=_b.indexOf(t.name??"")>-1,u(t.name)}),Ue(async()=>{await a.isReady(),o.value=H()&&H().userType&&H().userType===De.MANAGER,o.value&&Qt.exports.remove(Hf,d=>d==="Location")}),{bottomMenu:n,activeMenu:r,hiddenFooter:i,isManager:o,store:e,handleSelectNavigation:l}}}),wb={key:0,class:"footer-nav flex fixed w-full bottom-0 items-center"};function xb(e,t,n,a,r,i){const o=U("kp-image"),s=U("kp-link");return e.hiddenFooter?re("",!0):(k(),O("footer",wb,[C("ul",{class:ye(["flex flex-row justify-between w-full hello",{"max-w-[330px]":e.isManager,"mx-[auto]":e.isManager}])},[(k(!0),O(Ie,null,gt(e.bottomMenu,(l,u)=>(k(),O("li",{key:u,class:"footer-nav-item"},[M(s,{class:"inline-flex flex-col items-center","on-click":()=>e.handleSelectNavigation(l)},{default:ve(()=>[M(o,{class:"mb-[5px]",src:`images/icon/ico-footer-${l.name}${e.activeMenu===l.name?"-active":""}.svg`},null,8,["src"]),se(" "+ee(l.label),1)]),_:2},1032,["on-click"])]))),128))],2)]))}const Eb=Se(Cb,[["render",xb]]),bb=be({name:"KpInput",props:{placeholder:{type:String},type:{type:String,default:"text"},modelValue:{type:String},readOnly:{type:Boolean,required:!1,default:!1},length:{type:Number,required:!1},useKeyword:{type:Boolean,required:!1},handleKeyUp:{type:Function,required:!1},onEnter:{type:Function,required:!1}},setup(e){const t=ze(),n=I(e.modelValue||""),a=ke(()=>e.modelValue||""),r=He(a,()=>{n.value=e.modelValue||""});return{store:t,inputValue:n,stopModelValue:r}},unmounted(){this.stopModelValue()},methods:{handleClick(){this.$nextTick(()=>{const e=this.$refs.inputRef,t=window.scrollY;e.focus(),window.scrollTo(0,t)})},handleKeyup(e){if(e.code==="Enter")this.onEnter&&this.onEnter(this.inputValue);else{const t=e.target;this.handleKeyUp&&(t.value=this.handleKeyUp(t.value))}},handleInput(e){this.$emit("update:modelValue",e.target.value)},handleBlur(e){this.$emit("blur",e.target.value)},handleChange(e){this.$emit("change",e.target.value)}}}),Sb=["readonly","placeholder","type","maxlength","autocomplete"];function Db(e,t,n,a,r,i){return jo((k(),O("input",{ref:"inputRef",readonly:e.readOnly,placeholder:e.placeholder,type:e.type,maxlength:e.length,"onUpdate:modelValue":t[0]||(t[0]=o=>e.inputValue=o),onInput:t[1]||(t[1]=(...o)=>e.handleInput&&e.handleInput(...o)),onKeyup:t[2]||(t[2]=(...o)=>e.handleKeyup&&e.handleKeyup(...o)),onBlur:t[3]||(t[3]=(...o)=>e.handleBlur&&e.handleBlur(...o)),onChange:t[4]||(t[4]=(...o)=>e.handleChange&&e.handleChange(...o)),autocomplete:e.type==="password"?"off":"on",autocapitalize:"off",onTouchstart:t[5]||(t[5]=(...o)=>e.handleClick&&e.handleClick(...o))},null,40,Sb)),[[zx,e.inputValue]])}const Ta=Se(bb,[["render",Db]]),Tb=be({name:"KpButton",props:{isDisabled:{type:Boolean,isRequire:!1,default:!1},isDefault:{type:Boolean,isRequire:!1,default:!1},isSecondary:{type:Boolean,isRequire:!1,default:!1},onClick:{type:Function,required:!1},btnClass:{type:String,require:!1}},setup(e){const t=Ze(e,"isDisabled"),n=Ze(e,"isDefault"),a=Ze(e,"isSecondary");return{btnIsDisabled:t,btnIsSecondary:a,getButtonType:()=>n.value?`default ${e.btnClass??e.btnClass}`:a.value?`secondary ${e.btnClass??e.btnClass}`:`primary ${e.btnClass??e.btnClass}`,handleClick:o=>{o.stopPropagation(),e.onClick&&e.onClick()}}}}),Ib=["disabled"];function Ab(e,t,n,a,r,i){return k(),O("button",{onClick:t[0]||(t[0]=Ka((...o)=>e.handleClick&&e.handleClick(...o),["prevent","stop"])),class:ye(["kp-btn",e.getButtonType()]),disabled:e.btnIsDisabled},[rp(e.$slots,"default")],10,Ib)}const yt=Se(Tb,[["render",Ab]]),kb=(e,t)=>{const n=(a,r)=>{e.post("/api/1/sdk-log/getLogList",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},Mb=be({name:"LogViewer",setup(){const e=I([]),t=n=>{switch(n){case"body_temp":return"체온";case"bool_pressure":return"혈압";case"heart_rate":return"심박수";case"stress":return"학습 성취도";case"sport_activity":return"결음수";case"oxygen":return"산소포화도";case"sleep":return"수면"}};return Ue(()=>{let n={};kb(xe(),n).then(a=>{e.value=a.data})}),{moment:Q,logs:e,getHealthType:t}}}),Lb={style:{position:"absolute",background:"#eeeeee","z-index":"10000",padding:"10px"}},Rb={style:{"font-weight":"bold"}},Ob={style:{"font-weight":"bold"}};function Pb(e,t,n,a,r,i){return k(),O("div",Lb,[C("ul",null,[(k(!0),O(Ie,null,gt(e.logs,(o,s)=>(k(),O("li",{key:s,style:{padding:"10px 0","border-bottom":"1px solid black"}},[C("h5",Rb,ee(e.moment.utc(o.dateReg).local().format("YYYY MMMM Do, a hh:mm:ss ")),1),C("h5",Ob,ee(e.getHealthType(o.type)),1),C("div",null,ee(JSON.parse(o.logData)),1)]))),128))])])}const Nb=Se(Mb,[["render",Pb]]),Bb=be({name:"LayoutHeader",components:{LogViewer:Nb,KpLink:xt,KpImage:Xe},props:{title:{type:String,require:!1},isDisabledBack:{type:Boolean,default:!1},beforeGoBack:{type:Function,default:()=>{}},directRedirection:{type:Function,require:!1}},setup(e,{slots:t}){const n=nt(),a=ke(()=>e.title),r=l=>!!t[l],i=I(!1),o=()=>{e.beforeGoBack(),e.directRedirection?e.directRedirection():n.back()},s=()=>{i.value=!i.value};return He(()=>a.value,()=>{}),{pageTitle:a,hasSlot:r,onClickBack:o,doOpenHistory:s,isOpenHistoryPopup:i}}}),$b={key:0,class:"flex flex-col items-center w-full"},Ub={class:"w-full p-[20px]"},Gb={key:1,class:"relative flex w-full items-center z-50 px-[20px] h-[65px] min-h-[65px]"},Fb={class:"absolute"},Hb={class:"w-full px-[12px] flex flex-row content-center items-center"},Vb={key:1,class:"title m-[auto]"};function Yb(e,t,n,a,r,i){const o=U("kp-image"),s=U("kp-link"),l=U("log-viewer");return k(),O(Ie,null,[!e.pageTitle&&!e.hasSlot("header")?(k(),O("header",$b,[C("div",Ub,[C("div",{onClick:t[0]||(t[0]=(...u)=>e.doOpenHistory&&e.doOpenHistory(...u)),class:"block w-[96px]"},[M(o,{class:"w-full",src:"images/logo/logo.svg"})])])])):(k(),O("header",Gb,[C("div",Fb,[e.isDisabledBack?re("",!0):(k(),fe(s,{key:0,link:"#",onClick:e.onClickBack,class:"w-[12px] h-[20px]"},{default:ve(()=>[M(o,{src:"images/common/icon-back.svg"},null,8,["src"])]),_:1},8,["onClick"]))]),C("div",Hb,[e.hasSlot("header")?rp(e.$slots,"header",{key:0}):(k(),O("div",Vb,ee(e.pageTitle),1))])])),e.isOpenHistoryPopup?(k(),fe(l,{key:2})):re("",!0)],64)}const Ct=Se(Bb,[["render",Yb]]);var Ty=(e=>(e.USER="user",e.PASSWORD="password",e))(Ty||{});const zb=be({name:"Login",components:{LayoutHeader:Ct,KpInput:Ta,KpButton:yt,KpImage:Xe},setup:function(){const e=ze(),t=Vt(),n=nt(),a=ke(()=>xe(Ee.API_URL,e)),r=I({userId:"",pwd:"",maintain:!1}),i=I(""),o=()=>{a.value.post("/api/1/users/login",{userId:r.value.userId.trim(),pwd:r.value.pwd,maintain:r.value.maintain,appToken:i.value}).then(d=>{d.data.resultCode!==0?window.alert("회원 정보를 확인해주세요."):(na(Fe.CONST.LOGIN_USER,JSON.stringify(d.data.data)),na(Fe.CONST.LOGIN_TOKEN,d.data.data.token),Wx(Fe.CONST.LOGIN_TOKEN,d.data.data.token),window.appInterface.setUserName(d.data.data.userName),e.commit(Kt,d.data.data.token),r.value.maintain&&na(Fe.CONST.LOGIN_KEEP,"KEEP"),d.data.data.userType?(window.appInterface.userToken(d.data.data.token??""),[De.USER,De.USER_DEVICE,De.MANAGER].indexOf(d.data.data.userType)>-1?(e.commit(Xa,d.data.data.userType),d.data.data.userType===De.USER_DEVICE?d.data.data.deviceIdx?window.location.href="/":window.location.href="/#/device-connect":window.location.href="/"):window.alert("회원 정보를 확인해주세요.")):window.location.href="/#/user-type")})},s=()=>{n.push({path:"/login/terms"})},l=()=>{n.push({path:"/id-find"})},u=()=>{n.push({path:"/password-find"})},c=d=>{i.value=d.detail};return Ue(()=>{window.history.length>1&&(e.commit(Kt,""),e.commit(Xa,De.USER),Xr(),Qo(e)),window.appInterface.addEventListener(pe.GET_TOKEN,c),Bt(Fe.CONST.LOGIN_USER)&&n.push({path:"/"}),window.appInterface.getAppToken(),e.commit(Dr,!1)}),ot(()=>{window.appInterface.removeEventListener(pe.GET_TOKEN,c)}),{store:e,route:t,router:n,userForm:r,userFindType:Ty,onClickLoginBtn:o,onClickJoinBtn:s,onClickFindId:l,onClickFindPassword:u}}}),Wb={class:"login flex flex-col items-center px-[20px] pt-[40px]"},qb={class:"login-info flex-1 w-full text-center"},Zb=C("div",{class:"px-2.5 pb-[5px] main-title"},"환영합니다! :)",-1),Kb=C("div",{class:"px-2.5 pb-[30px] sub-title"},"로그인 정보를 입력해주세요.",-1),Xb={class:"login-form bg-white mb-[30px] p-[20px] rounded-[10px]"},jb={class:"relative login-input"},Jb={class:"relative login-input"},Qb={class:"flex flex-row h-[25px] pl-[10px] items-center text-left mb-[20px]"},eS=C("label",{class:"text-[16px] text-[#4E4B66] leading-[19px] font-normal mr-auto",for:"maintain"},"자동로그인",-1),tS=se("로그인"),nS={class:"sub-form flex flex-row justify-center text-center"},aS={class:"sub-content flex flex-row items-center"},rS=C("p",{class:"mx-[15px] w-px h-2.5 bg-[#999999]"},null,-1),iS=C("p",{class:"mx-[15px] w-px h-2.5 bg-[#999999]"},null,-1);function oS(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-input"),l=U("kp-image"),u=U("kp-button");return k(),O(Ie,null,[M(o,{title:"로그인 - 개발","is-disabled-back":!0}),C("section",Wb,[C("article",qb,[Zb,Kb,C("div",Xb,[C("form",null,[C("div",jb,[M(s,{class:"kp-input w-full pl-[60px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"아이디","model-value":e.userForm.userId,"onUpdate:modelValue":t[0]||(t[0]=c=>e.userForm.userId=c),onKeyup:$f(e.onClickLoginBtn,["enter"])},null,8,["model-value","onKeyup"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/id-icon.svg"},null,8,["src"])]),C("div",Jb,[M(s,{type:"password",class:"kp-input w-full pl-[60px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"비밀번호","model-value":e.userForm.pwd,"onUpdate:modelValue":t[1]||(t[1]=c=>e.userForm.pwd=c),onKeyup:$f(e.onClickLoginBtn,["enter"])},null,8,["model-value","onKeyup"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/lock-icon.svg"},null,8,["src"])]),C("div",Qb,[jo(C("input",{type:"checkbox",id:"maintain",class:ye(["mr-[10px]",{isActive:e.userForm.maintain}]),"onUpdate:modelValue":t[2]||(t[2]=c=>e.userForm.maintain=c)},null,2),[[Fd,e.userForm.maintain]]),eS]),M(u,{class:ye(["w-full login-btn bottom-0 pt-[16px] pb-[15px] rounded-[25px]",e.userForm.userId!==""&&e.userForm.pwd!==""?"bg-[#466FFF]":"bg-[#AAB1BB]"]),"is-disabled":!(e.userForm.userId!==""&&e.userForm.pwd!==""),onClick:e.onClickLoginBtn},{default:ve(()=>[tS]),_:1},8,["class","is-disabled","onClick"])])]),C("div",nS,[C("div",aS,[C("p",{class:"cursor-pointer",onClick:t[3]||(t[3]=(...c)=>e.onClickJoinBtn&&e.onClickJoinBtn(...c))},"회원가입"),rS,C("p",{class:"cursor-pointer",onClick:t[4]||(t[4]=(...c)=>e.onClickFindId&&e.onClickFindId(...c))},"아이디찾기"),iS,C("p",{class:"cursor-pointer",onClick:t[5]||(t[5]=(...c)=>e.onClickFindPassword&&e.onClickFindPassword(...c))},"비밀번호찾기")])])])])],64)}const sS=Se(zb,[["render",oS]]),lS=be({name:"Terms",components:{LayoutHeader:Ct,KpLink:xt,KpImage:Xe,KpButton:yt},setup(){const e=nt(),t=ze(),n=I([{types:"SERVICE",title:"[필수] 위치정보 이용약관",body:`버디케어 서비스 위치정보 이용약관
제 1 장 총칙

제 1 조 (목적)
본 약관은 회원 (버디케어 서비스 약관에 동의한 자를 말합니다. 이하 "회원"이라고 합니다.)이 주식회사 키핀 (이하 "회사"라고 합니다.)이 제공하는 버디케어 서비스(이하 "서비스"라고 합니다)를 이용함에 있어 회사와 회원의 권리·의무 및 책임사항을 규정함을 목적으로 합니다.
 
제 2 조 (이용약관의 효력 및 변경)
① 본 약관은 서비스를 신청한 고객 또는 개인위치정보주체가 본 약관에 동의하고 회사가 정한 소정의 절차에 따라 서비스의 이용자로 등록함으로써 효력이 발생합니다.
② 회원이 온라인에서 본 약관의 "동의하기" 버튼을 클릭하였을 경우 본 약관의 내용을 모두 읽고 이를 충분히 이해하였으며, 그 적용에 동의한 것으로 봅니다.
③ 회사는 위치정보의 보호 및 이용 등에 관한 법률, 콘텐츠 산업 진흥법, 전자상거래 등에서의 소비자보호에 관한 법률, 소비자 기본법 약관의 규제에 관한 법률 등 관련법령을 위배하지 않는 범위에서 본 약관을 개정할 수 있습니다.
④ 회사가 약관을 개정할 경우에는 기존 약관과 개정약관 및 개정약관의 적용 일자와 개정사유를 명시하여 현행 약관과 함께 그 적용일자 10일 전부터 적용일 이후 상당한 기간 동안 공지 만을 하고, 개정 내용이 회원에게 불리한 경우에는 그 적용일자 30일 전부터 적용일 이후 상당한 기간 동안 각각 이를 서비스 홈페이지에 게시하거나 회원에게 전자적 형태(전자우편, SMS 등)로 약관 개정 사실을 발송하여 고지합니다.
⑤ 회사가 전항에 따라 회원에게 통지하면서 공지 또는 공지ㆍ고지일로부터 개정약관 시행일 7일 후까지 거부의사를 표시하지 아니하면 이용약관에 승인한 것으로 봅니다. 회원이 개정약관에 동의하지 않을 경우 회원은 이용계약을 해지할 수 있습니다.
 
제 3 조 (관계법령의 적용)
본 약관은 신의성실의 원칙에 따라 공정하게 적용하며, 본 약관에 명시되지 아니한 사항에 대하여는 관계법령 또는 상관례에 따릅니다.

제 4 조 (서비스의 내용)
회사가 제공하는 서비스는 아래와 같습니다.
서비스 명칭 - 버디케어
기본 서비스 내용 - 버디케어 서비스는 웨어러블 기기로 사용자의 건강정보와 위치정보를 보호자등에게 공유하고 서로 채팅 기능을 통해 그룹 돌봄 기능을 제공합니다.
추가 디바이스 구입 시 서비스 내용
1. 건강정보(심박수, 체온, 혈압, 산소포화도등)를 스마트워치에서 수집하고, 이를 블루투스로 연결한 스마트폰으로 전송하고, 스마트폰은 인터넷으로 통해 서버로 전송하여 앱으로 건강 정보을 확인하는 서비스
2. 스마트워치에서 걸음수를 수집하고, 이를 블루투스로 연결한 스마트폰으로 전송하고, 스마트폰은 인터넷을 통해 서버로 전송하여 앱으로 걸음기록을 확인하는 서비스
3. 스마트폰에서 GPS위치를 수집하고 인터넷을 통해 서버로 전송하여 앱으로 위치를 확인하는 서비스 (사용자가 앱을 통해 선택한 경우에 한함)
 
제 5 조 (서비스 이용요금)
① 회사가 제공하는 서비스는 기본적으로 무료입니다. 단, 별도의 유료 서비스의 경우 해당 서비스에 명시된 요금을 지불하여야 사용 가능합니다.
② 회사는 유료 서비스 이용요금을 회사와 계약한 전자지불업체에서 정한 방법에 의하거나 회사가 정한 청구서에 합산하여 청구할 수 있습니다.
③ 유료서비스 이용을 통하여 결제된 대금에 대한 취소 및 환불은 회사의 결제 이용약관 등 관계법에 따릅니다.
④ 회원의 개인정보도용 및 결제 사기로 인한 환불요청 또는 결제자의 개인정보 요구는 법률이 정한 경우 외에는 거절될 수 있습니다.
⑤ 무선 서비스 이용 시 발생하는 데이터 통신료는 별도이며 가입한 각 이동통신사의 정책에 따릅니다.
⑥ MMS 등으로 게시물을 등록할 경우 발생하는 요금은 이동통신사의 정책에 따릅니다.
 
제 6 조 (서비스 내용 변경 통지 등)
① 회사가 서비스 내용을 변경하거나 종료하는 경우 회사는 회원의 등록된 전자우편 주소로 이메일을 통하여 서비스 내용의 변경 사항 또는 종료를 통지할 수 있습니다.
② ①항의 경우 불특정 다수인을 상대로 통지를 함에 있어서는 웹사이트 등 기타 회사의 공지사항을 통하여 회원들에게 통지할 수 있습니다.
 
제 7 조 (서비스이용의 제한 및 중지)
① 회사는 아래 각 호의 1에 해당하는 사유가 발생한 경우에는 회원의 서비스 이용을 제한하거나 중지시킬 수 있습니다.
1. 회원이 회사 서비스의 운영을 고의 또는 중과실로 방해하는 경우
2. 서비스용 설비 점검, 보수 또는 공사로 인하여 부득이한 경우
3. 전기통신사업법에 규정된 기간통신사업자가 전기통신 서비스를 중지했을 경우
4. 국가비상사태, 서비스 설비의 장애 또는 서비스 이용의 폭주 등으로 서비스 이용에 지장이 있는 때
5. 기타 중대한 사유로 인하여 회사가 서비스 제공을 지속하는 것이 부적당하다고 인정하는 경우
② 회사는 전항의 규정에 의하여 서비스의 이용을 제한하거나 중지한 때에는 그 사유 및 제한기간 등을 회원에게 알려야 합니다.
 
제 8 조 (개인위치정보의 이용 또는 제공)
① 회사는 개인위치정보를 이용하여 서비스를 제공하고자 하는 경우에는 미리 이용약관에 명시한 후 개인위치정보주체의 동의를 얻어야 합니다.
② 회원 및 법정대리인의 권리와 그 행사 방법은 제소 당시의 이용자의 주소에 의하며, 주소가 없는 경우에는 거소를 관할하는 지방법원의 전속관할로 합니다. 다만, 제소 당시 이용자의 주소 또는 거소가 분명하지 않거나 외국 거주자의 경우에는 민사소송법상의 관할법원에 제기합니다.
③ 회사는 타사업자 또는 이용 고객과의 요금정산 및 민원처리를 위해 위치정보 이용·제공, 사실 확인자료를 자동 기록·보존하며, 해당 자료는 1년간 보관합니다.
④ 회사는 개인위치정보를 회원이 지정하는 제3자에게 제공하는 경우에는 개인위치정보를 수집한 당해 통신 단말 장치로 매회 회원 에게 제공받는 자, 제공 일시 및 제공 목적을 즉시 통보합니다. 단, 아래 각 호의 1에 해당하는 경우에는 회원이 미리 특정하여 지정한 통신 단말 장치 또는 전자우편주소로 통보합니다.
1. 개인위치정보를 수집한 당해 통신단말장치가 문자, 음성 또는 영상의 수신 기능을 갖추지 아니한 경우
2. 회원이 온라인 게시 등의 방법으로 통보할 것을 미리 요청한 경우
 
제 9 조 (개인위치정보주체의 권리)
① 회원은 회사에 대하여 언제든지 개인위치정보를 이용한 위치기반서비스 제공 및 개인위치정보의 제3자 제공에 대한 동의의 전부 또는 일부를 철회할 수 있습니다. 이 경우 회사는 수집한 개인위치정보 및 위치정보 이용, 제공 사실 확인자료를 파기합니다.
② 회원은 회사에 대하여 언제든지 개인위치정보의 수집, 이용 또는 제공의 일시적인 중지를 요구할 수 있으며, 회사는 이를 거절할 수 없고 이를 위한 기술적 수단을 갖추고 있습니다.
③ 회원은 회사에 대하여 아래 각 호의 자료에 대한 열람 또는 고지를 요구할 수 있고, 당해 자료에 오류가 있는 경우에는 그 정정을 요구할 수 있습니다. 이 경우 회사는 정당한 사유 없이 회원의 요구를 거절할 수 없습니다.
1. 본인에 대한 위치정보 수집, 이용, 제공 사실 확인자료
2. 본인의 개인위치정보가 위치정보의 보호 및 이용 등에 관한 법률 또는 다른 법률 규정에 의하여 제3자에게 제공된 이유 및 내용
④ 회원은 제1항 내지 제3항의 권리행사를 위해 회사의 소정의 절차를 통해 요구할 수 있습니다.
 
제 10 조 (법정대리인의 권리)
① 회사는 14세 미만의 회원에 대해서는 개인위치정보를 이용한 위치기반서비스 제공 및 개인위치정보의 제3자 제공에 대한 동의를 당해 회원과 당해 회원의 법정대리인으로부터 동의를 받아야 합니다. 이 경우 법정대리인은 제9조에 의한 회원의 권리를 모두 가집니다.
② 회사는 14세 미만의 아동의 개인위치정보 또는 위치정보 이용, 제공 사실 확인자료를 이용약관에 명시 또는 고지한 범위를 넘어 이용하거나 제3자에게 제공하고자 하는 경우에는 14세 미만의 아동과 그 법정대리인의 동의를 받아야 합니다. 단, 아래의 경우는 제외합니다.
1. 위치정보 및 위치기반서비스 제공에 따른 요금 정산을 위하여 위치정보 이용, 제공 사실 확인 자료가 필요한 경우
2. 통계작성, 학술연구 또는 시장조사를 위하여 특정 개인을 알아볼 수 없는 형태로 가공하여 제공하는 경우
 
제 11 조 (8세 이하의 아동 등의 보호의무자의 권리)
① 회사는 아래의 경우에 해당하는 자(이하 “8세 이하의 아동”등이라 한다)의 보호의무자가 8세 이하의 아동 등의 생명 또는 신체 보호를 위하여 개인위치정보의 이용 또는 제공에 동의하는 경우에는 본인의 동의가 있는 것으로 봅니다.
1. 8세 이하의 아동
2. 금치산자
3. 장애인복지법 제2조 제2항 제2호의 규정에 의한 정신적 장애를 가진 자로서 장애인 고용촉진 및 직업재활법 제2조 제2호의 규정에 의한 중증장애인에 해당하는 자 (장애인복지법 제29조의 규정에 의하여 장애인등록을 한 자에 한한다)
② 8세 이하의 아동 등의 생명 또는 신체의 보호를 위하여 개인위치정보의 이용 또는 제공에 동의를 하고자 하는 보호의무자는 서면동의서에 보호의무자임을 증명하는 서면을 첨부하여 회사에 제출하여야 합니다.
③ 보호의무자는 8세 이하의 아동 등의 개인위치정보 이용 또는 제공에 동의하는 경우 개인위치정보주체 권리의 전부를 행사할 수 있습니다.
 
제 12조 (위치정보관리책임자의 지정)
① 회사는 위치정보를 적절히 관리·보호하고 개인위치정보주체의 불만을 원활히 처리할 수 있도록 실질적인 책임을 질 수 있는 지위에 있는 자를 위치정보관리책임자로 지정해 운영합니다.
② 위치정보관리책임자는 위치기반서비스를 제공하는 부서의 부서장으로서 구체적인 사항은 본 약관의 부칙에 따릅니다.
 
제 13 조 (손해배상)
① 회사가 위치정보의 보호 및 이용 등에 관한 법률 제15조 내지 제26조의 규정을 위반한 행위로 회원에게 손해가 발생한 경우 회원은 회사에 대하여 손해배상 청구를 할 수 있습니다. 이 경우 회사는 고의, 과실이 없음을 입증하지 못하는 경우 책임을 면할 수 없습니다.
② 회원이 본 약관의 규정을 위반하여 회사에 손해가 발생한 경우 회사는 회원에 대하여 손해배상을 청구할 수 있습니다. 이 경우 회원은 고의, 과실이 없음을 입증하지 못하는 경우 책임을 면할 수 없습니다.
 
제 14 조 (면책)
① 회사는 다음 각 호의 경우로 서비스를 제공할 수 없는 경우 이로 인하여 회원에게 발생한 손해에 대해서는 책임을 부담하지 않습니다.
1. 천재지변 또는 이에 준하는 불가항력의 상태가 있는 경우
2. 서비스 제공을 위하여 회사와 서비스 제휴계약을 체결한 제3자의 고의적인 서비스 방해가 있는 경우
3. 회원의 귀책사유로 서비스 이용에 장애가 있는 경우
4. 제1호 내지 제3호를 제외한 기타 회사의 고의ㆍ과실이 없는 사유로 인한 경우
② 회사는 서비스 및 서비스에 게재된 정보, 자료, 사실의 신뢰도, 정확성 등에 대해서는 보증을 하지 않으며 이로 인해 발생한 회원의 손해에 대하여는 책임을 부담하지 아니합니다.
 
제 15 조 (규정의 준용)
① 본 약관은 대한민국법령에 의하여 규정되고 이행됩니다.
② 본 약관에 규정되지 않은 사항에 대해서는 관련법령 및 상관습에 의합니다.
 
제 16 조 (분쟁의 조정 및 기타)
① 회사는 위치정보와 관련된 분쟁에 대해 당사자간 협의가 이루어지지 아니하거나 협의를 할 수 없는 경우에는 위치정보의 보호 및 이용 등에 관한 법률 제28조의 규정에 의한 방송통신위원회에 재정을 신청할 수 있습니다.
② 회사 또는 고객은 위치정보와 관련된 분쟁에 대해 당사자간 협의가 이루어지지 아니하거나 협의를 할 수 없는 경우에는 개인정보보호법 제43조의 규정에 의한 개인정보분쟁조정위원회에 조정을 신청할 수 있습니다.
 
제 17 조 (회사의 연락처)
회사의 상호 및 주소 등은 다음과 같습니다.
1. 상호 : 주식회사 키핀
2. 대표자 : 최상준
3. 주소 : 서울시 금천구 새부샛길 606 (가산동, 대성디폴리스 지식산업센터) A동 909호
4. 대표전화 : 070-7700-5662
 
부 칙
제1조 (시행일) 이 약관은 2023년 4월 1일부터 시행한다.
제2조 위치정보관리책임자는 2023년 4월 1일을 기준으로 다음과 같이 지정합니다.
1. 소속 : 본사
2. 연락처 : 070-7700-5662`},{types:"PRIVACY",title:"[필수] 개인정보취급방침",body:`개인정보 보호 활용 보고서 및 이용자 동의사항

주식회사 키핀은 서비스 사용자의 개인정보를 중요시하며, [정보통신망 이용촉진 및 정보보호 등에 관한 법률], [개인정보보호법]을 준수하기 위하여 노력하고 있습니다. (주)키핀은 보다 다양한 서비스 제공을 위하여 아래와 같이 고객의 개인정보를 수집, 활용합니다.
 
0. 총칙
“개인정보”란 생존하는 개인에 관한 정보로서 당해 정보에 포함되어 있는 성명, 주민등록번호 등의 사항에 의하여 당해 개인을 식별할 수 있는 정보(당해 정보만으로는 특정 개인을 식별할 수 없더라도 다른 정보와 용이하게 결합하여 식별할 수 있는 것을 포함)를 말합니다.

1. 수집하는 개인정보의 항목 및 수집방법 동의
회사는 최초 회원 가입 또는 서비스 이용 시 이용자로 부터 아래와 같은 개인정보를 수집하고 본인은  「개인정보보호법」제15조 제1항 제1호, 제17조 제1항 제1호, 제24조 제1항 제1호에 따라  (주)키핀이 아래의 내용과 같이 본인의 개인정보를 수집․이용하는 것과 본인의 개인정보를 제공․조회하는 것에 동의합니다.
 
<개인정보 수집 항목>

구분: 필수 항목
수집정보: 
① 회원가입을 위해 필요한 개인정보
회원의 전화번호(아이디)와 비밀번호
회원의 성명과 주소, 생년월일, 성별
보호자의 유형 (소속일 경우 소속 명, 직업 입력) -보호자만 해당
② 라이프로그 분석을 위해 필요한 착용자 행동 정보
(추가 디바이스 사용시 분석)
정보의 생성 시간, 측정 시간
건강관련정보
일상생활데이터
움직임데이터
③ 서비스 신청 및 이용을 위해 필요한 정보, 서비스 이용기록/구매 또는 AS관련정보
각 서비스 이용 기록 / 구매 또는 AS 관련 정보
단말 및 어플리케이션 정보
      - 단말정보(단말식별번호 포함), 단말의 펌웨어 버전, 주요 설정 값 (비밀번호 설정여부, 삼성 계정 설정여부, 서버 동기화 설정여부)
      - 어플리케이션 내 각종 사용 기록(화면/메뉴 진입, 버튼 선택과 같은 어플리케이션 내 기능 사용, 사용 중 발생하는 오류)
위치정보: 서비스를 제공하기 위하여 필수적인 경우
영상 및 음성 정보: 서비스를 제공하기 위하여 필수적인 경우
서비스 가입을 위해 필요한 정보 : 주소, 우편번호
④ 고객지원을 위한 수집항목
이메일 주소 또는 전화번호, 국가정보 (언어정보), 제품모델명, 서비스 버전 정보, 개인이 입력한 문의 내용
환불신청시 추가 수집 정보(결제하신 방식 등에 따라 다음 중 추가 수집이 필요한 항목이 상이할 수 있음)
계좌 정보(은행, 계좌번호, 계좌주), 연락처(전화번호), 구매 컨텐츠, 결제 일시, 결제 금액, 결제 시 사용한 삼성계정정보, 결제한 휴대폰 번호 및 통신사 또는 신용 카드사 및 승인번호, 결제 취소/ 환불 요청 사유
 
<개인정보 수집 및 이용목적>

목적: 
① 회원관리 및 본인확인
상품 구매 및 서비스 이용 시/ 개인정보 처리 및 정보주체의 개인정보열람,정정, 삭제, 처리정지 요구 시 본인확인, 개인식별
② 서비스 제공에 관한 계약 이행 및 요금 정산
상품, 서비스 및 콘텐츠의 제공, 구매 및 요금 결제, 상품 배송
이용자에게 최적화된 서비스 제공 및 기능 개선(이용자의 과거 이용 행태에 기반한 맞춤형 콘텐츠 및 추천 정보 등 제공)
이용자가 구매한 상품에 대한 AS 및 업데이트 정보 등 제공
③ 데이터를 통해 기존서비스 개선, 신규서비스 개발, 연구 및 마케팅 등에 활용
고객만족 조사, 상품 및 서비스 개발연구
건강관리 및 일상생활 케어 관리의 기본통계데이터 활용
서비스 품질향상과 신규서비스제공을 위한 기초데이터 활용 및 연구 데이터 활용
광고성 정보 전달(E-mail 발송, 전화, SMS/MMS/ 푸시 메세지 발송 등), 이벤트 경품 배송, 인구통계학적 특성에 따른 서비스 제공 및 광고 게재, 접속 빈도 파악 또는 회원의 상품 구매 및 서비스 이용에 대한 분석 및 통계, 서비스/제품/정보의 추천, 시장 트렌드 유추, 시장조사, 통계분석자료 활용, 비회원 구매상담 및 고객문의 응대
④ 맞춤형 서비스 (추가 디바이스 사용시)
이용자 개인의 라이프로그를 바탕으로 일상생활을 케어하는 보조적 기능
이용자 개인의 라이프로그를 데이터베이스에 백업하거나, 단말과 연동하는 목적으로 저장 및 활용
착용자 및 보호자에게 라이프로그를 통해 사고예측지수를 추측하여 사고예방에 도움을 주는 이상감지 서비스
앱을 통해 착용자/보호자에게 일정조건이 되면 ‘알림/권고/이상’을 알려주는 푸시 알림 기능 제공
계정과 연동 가능한 서비스(경고자 대상 메시지 전송, 건강 주간 레포트등) 제공
태그가 부착된 사물을 접촉하는 순간 상황에 따라 맞춤형 음성메시지가 들리는 착용자용 보이스 케어 서비스
보호자가 실시간으로 착용자가의 일상 활동을 확인하여 효율적으로 도움을 줄 수 있는 보호자용 실시간 케어 서비스
케어마스터가 착용자에게 전화/방문을 통해 케어 서비스 (보이스케어, 실시간케어, 이상감지)의 활용성을 높이도록 도와주는 서비스
맞춤형 서비스를 위한 정보는 자동화된 시스템으로 분석하여 각 서비스들에서 맞춤형 컨텐츠와 정보 등을 제공하기 위한 목적, 더 나은 서비스를 제공하기 위한 분석과 서비스 개선 및 개발 목적으로 사용
 
 
2. 고유식별정보의 수집 및 이용 동의
본인은 아래의 개인정보 항목이 계약의 체결 및 이행을 위하여 불가피하게 필요한 최소한의 것으로서 본인의 동의를 받아야 처리할 수 있는 고유식별정보임을 충분히 인식하며, 아래의 내용을 상세히 고지 받고 그 수집 및 이용에 동의합니다.
 
개인정보 항목 : 연락처
수집 및 이용목적 : 착용자 확인
보유 및 이용기간 : 계약기간
동의를 거부할 권리 유무 및 거부 시 불이익 : 계약체결 및 이행을 위하여 불가피하게 필요한 경우로서 동의 거부 불가하여 불가시 계약체결 또는 이행불가
 
위의 '개인정보 보호를 위한 이용자 동의사항'에 동의합니다. 회원 여러분의 개인정보를 소중히 여기고 관련법규에 따라 안전하게 보호하겠습니다.
 
감사합니다.`}]),a=I([{state:!1},{state:!1},{state:!1}]),r=I(!1),i=I([]),o=ke({get(){return n.value.length===i.value.length},set(u){i.value=[],u&&n.value.forEach(c=>{i.value.push(c.types)})}}),s=()=>{t.commit(py,i.value),e.push("/login/join")},l=u=>{a.value[u].state=!a.value[u].state};return He(i,()=>{if(i.value.length>=2){const u=i.value.filter(c=>c);r.value=u.includes("SERVICE")&&u.includes("PRIVACY")}else r.value=!1}),Ue(()=>{}),{store:t,terms:n,selectList:i,selectAll:o,btnAccess:r,arrowState:a,onTermsBtn:s,openContext:l}}}),uS={class:"terms flex flex-col h-[calc(100%_-_56px)] px-[20px] pt-[40px] pb-[60px]"},cS={class:"terms-info flex flex-col flex-1 h-screen"},dS={class:"h-[calc(100%_-_200px)]"},hS=C("div",{class:"px-2.5 pb-[5px] main-title"},"약관동의",-1),pS=C("div",{class:"px-2.5 pb-[30px] sub-title"},[se("원활한 서비스를 제공하기 위해"),C("br"),se("위치 및 개인정보에대한 동의가 필요합니다.")],-1),fS={class:"flex flex-col p-[20px] flex flex-col bg-white rounded-[10px]"},vS={class:"all-check-form flex items-center"},gS=C("label",{for:"all"},"전체 동의",-1),mS=C("div",{class:"my-[20px] bg-[#AAB1BB] opacity-50 h-[1px]"},null,-1),yS={class:"single-check-info flex flex-col mb-[16px] last:mb-0"},_S={class:"single-check-form flex flex-row justify-start items-center"},CS=["id","value"],wS=["for"],xS={class:"terms-context whitespace-pre-wrap"},ES={class:"w-full"},bS=se("다음");function SS(e,t,n,a,r,i){const o=U("layout-header"),s=U("kpImage"),l=U("kp-link"),u=U("kp-button");return k(),O(Ie,null,[M(o,{title:"회원가입"}),C("section",uS,[C("article",cS,[C("div",dS,[hS,pS,C("div",fS,[C("div",vS,[jo(C("input",{id:"all",class:"w-[25px] h-[25px] border-[1px] border-[#999999] mr-[10px]",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=c=>e.selectAll=c)},null,512),[[Fd,e.selectAll]]),gS]),mS,(k(!0),O(Ie,null,gt(e.terms,(c,d)=>(k(),O("div",yS,[C("div",_S,[jo(C("input",{class:"w-[25px] h-[25px] mr-[10px]",type:"checkbox",id:c.types,value:c.types,"onUpdate:modelValue":t[1]||(t[1]=h=>e.selectList=h)},null,8,CS),[[Fd,e.selectList]]),C("label",{for:c.types,class:"mr-[13px]"},ee(e.terms[d].title),9,wS),M(l,{link:"#",onClick:h=>e.openContext(d)},{default:ve(()=>[M(s,{class:ye(["transition-all duration-[400ms]",e.arrowState[d].state?"rotate-180":""]),src:"images/common/arrow-icon.svg"},null,8,["class","src"])]),_:2},1032,["onClick"])]),e.arrowState[d].state?(k(),O("div",{key:0,class:ye(["w-full transition-all duration-[300ms]",e.arrowState[d].state?"h-[15px]":"h-0"])},null,2)):re("",!0),C("div",{class:ye(["context-info overflow-auto transition-[height] duration-300",e.arrowState[d].state?"h-[108px]":"h-0 mt-0"])},[C("div",{class:ye(["context-form w-full overflow-scroll pt-[15px] pb-[15px] pl-[10px] pr-[20px] transition-all duration-[300ms]",e.arrowState[d].state?"rotate-0 h-[108px]":"h-0"])},[C("pre",xS,ee(e.terms[d].body),1)],2)],2)]))),256))])]),C("div",ES,[M(u,{class:"sticky bottom-0 w-full pt-[16px] pb-[15px] mt-[40px] mb-[60px]","is-disabled":!e.btnAccess,onClick:e.onTermsBtn},{default:ve(()=>[bS]),_:1},8,["is-disabled","onClick"])])])])],64)}const DS=Se(lS,[["render",SS]]),TS=be({name:"KpSelectBox",props:{selectValue:{type:String,require:!0},options:{type:Array},isDisabled:{type:Boolean,default:!1}},emit:["onChange"],setup(e,{emit:t}){return{value:Ze(e,"selectValue"),onChange:r=>{t("onChange",r.target.value)}}}}),IS=["disabled"],AS=["value"];function kS(e,t,n,a,r,i){return jo((k(),O("select",{class:"kp-select","onUpdate:modelValue":t[0]||(t[0]=o=>e.value=o),disabled:e.isDisabled,onChange:t[1]||(t[1]=o=>e.onChange(o))},[(k(!0),O(Ie,null,gt(e.options,(o,s)=>(k(),O("option",{key:s,value:o.value},ee(o.label),9,AS))),128))],40,IS)),[[qx,e.value]])}const bu=Se(TS,[["render",kS]]),MS=be({name:"KpToggle",props:{isChecked:{type:Boolean,default:!1}},emit:["onToggleClick"],setup(e,{emit:t}){return{value:Ze(e,"isChecked"),onCheck:()=>{t("onToggleClick")}}}}),LS={class:"kp-switch"},RS=["checked"],OS=C("span",{class:"kp-slider round"},null,-1);function PS(e,t,n,a,r,i){return k(),O("label",LS,[C("input",{type:"checkbox",checked:e.value,onChange:t[0]||(t[0]=Ka(o=>e.onCheck(),["stop","prevent"]))},null,40,RS),OS])}const xs=Se(MS,[["render",PS]]),NS=be({components:{LayoutHeader:Ct,KpInput:Ta,KpButton:yt,KpSelectBox:bu,KpImage:Xe,KpToggle:xs},name:"Join",setup(){const e=nt(),t=ze(),n=xe(Ee.API_URL,t),a=mE(Ee.API_URL_PHONE_AUTH),r=I({userName:"",userId:"",pwd:"",validatePwd:"",phone:"",email:""}),i=I(!1),o=I(!1),s=I(null),l=I(null),u=I(null),c=I(null),d=I(null),h=I(null),p=I(null),f=I(!1),g=I("인증하기"),v=I("인증코드가 메일로 발송되었습니다."),m=I(null),y=I(20),_=I(13),w=I(""),E=I(""),x=I(""),S=I(""),b=I(""),D=I(""),T=I(""),A=I(""),L=I(""),P=I(""),N=I(""),B=I(""),K=I(""),ce=I("");I(!0),I(!0),I(!0);const $=I("120"),W=I("80"),ae=I(!1),Z=I("3"),ne=()=>{u.value=null,l.value=null},Y=()=>{h.value=null,f.value=!1,g.value="인증하기"},q=()=>{r.value.email===""?h.value=null:h.value=!!Nt.isEmail(r.value.email.trim())},ie=()=>{s.value=r.value.userName!==""},te=Ne=>{let Qe="";return Ne.substring(0,2)==="02"?(_.value=12,Qe=Ne.replace(/[^0-9]/g,"").replace(/^(\d{2})(\d{3,4})(\d{4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"")):(_.value=13,Qe=Ne.replace(/[^0-9]/g,"").replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"")),Qe},X=Ne=>(window.alert(Ne===x.value),""),j=Ne=>{let Qe="";return Ne.length>y.value?Qe=Ne.slice(0,y.value):Qe=Ne,Qe},J=Ne=>{let Qe="";const Rt=/[^a-zA-Z0-9_-]/gi;return Qe=Ne.replace(Rt,""),Qe},z=Ne=>{let Qe="";const Rt=/[^a-zA-Z0-9!@#$%^&*()_+{}\[\]:;\"\'<>,\.\?\|`~-]+$/gi;return Qe=Ne.replace(Rt,""),Qe},F=()=>{const Ne=r.value.phone.replace(/-/g,"");p.value=Nt.isMobilePhone(Ne,"ko-KR")},V=()=>{n.post("/api/1/users/getCheckId",{userId:r.value.userId}).then(Ne=>{Ne.data.resultCode!==0||(Ne.data.data.length>0?u.value=!1:(l.value=!0,u.value=!0))})},ue=()=>{o.value=!1;const Ne=Math.floor(Math.random()*899999)+1e5;x.value=Ne.toString();let Qe=`[버디케어] 신규 회원가입 인증번호: ${x.value}}`;a.post("/sms/v2/services/ncp:sms:kr:296484278045:buddycare_sms_auth/messages",{type:"SMS",contentType:"COMM",countryCode:"82",from:"07077005662",content:"",messages:`[{"content": ${Qe}, "버디케어 전화번호 인증": , "to": "${r.value.phone}"}]`}).then(Rt=>{Rt.data.resultCode!==0?console.log("전화인증 문자 발신 실패"):console.log("전화인증 문자 발신 성공")})},de=()=>{if(h.value=!!Nt.isEmail(r.value.email.trim()),h.value){const Ne=Math.floor(Math.random()*899999)+1e5;w.value=Ne.toString(),n.post("/api/1/users/insertAuthCode",{userName:r.value.userName.trim()||void 0,email:r.value.email.trim(),certCode:Ne}).then(Qe=>{Qe.data.resultCode!==0?f.value=!1:(g.value==="다시인증"?v.value="자동가입 방지번호가 다시 생성되었습니다.":v.value="자동가입 방지번호가 생성되었습니다.",window.alert("자동가입 방지번호가 생성되었습니다."),f.value=!0,m.value=null)})}},Ce=()=>{const Ne=I(""),Qe=I(""),Rt=I(""),Ls=I(""),Rs=I(""),Os=I("");L.value.trim()!=""&&B.value.trim()!=""&&(Ne.value=L.value.trim(),Ls.value=B.value.trim()),P.value.trim()!=""&&K.value.trim()!=""&&(Qe.value=P.value.trim(),Rs.value=K.value.trim()),N.value.trim()!=""&&ce.value.trim()!=""&&(Rt.value=N.value.trim(),Os.value=ce.value.trim()),n.post("/api/1/users/join",{userId:r.value.userId.trim(),userName:r.value.userName.trim(),pwd:r.value.pwd.trim(),tel:r.value.phone.trim(),email:r.value.email.trim(),certCode:w.value,termsList:t.state.savedTermsList,userHeight:b.value.trim(),userWeight:D.value.trim(),userAge:T.value.trim(),gender:A.value.trim(),sosName1:Ne.value.trim(),sosPhone1:Ls.value.trim(),sosName2:Qe.value.trim(),sosPhone2:Rs.value.trim(),sosName3:Rt.value.trim(),sosPhone3:Os.value.trim(),isCall119Enabled:ae.value===!0?"Y":"N",sosTryCount:Z.value.trim(),normalHighBp:$.value.trim(),normalLowBp:W.value.trim()}).then(cc=>{cc.data.resultCode!==0?m.value=!1:(m.value=!0,t.commit(fy,"가입 완료"),e.replace({path:"/login/success/join"}))})},Tt=()=>{const Ne=new RegExp("^(?=.*[A-Za-z])(?=.*\\d)(?=.*[$@$!%*#?&])[A-Za-z\\d$@$!%*#?&]{8,}$");c.value=Ne.test(r.value.pwd.trim()),d.value=Nt.equals(r.value.pwd.trim(),r.value.validatePwd.trim()),p.value=Nt.isMobilePhone(r.value.phone.replace(/-/g,""),"ko-KR"),h.value=!!Nt.isEmail(r.value.email.trim()),u.value===null&&(u.value=!1,l.value=!1),u.value&&c.value&&d.value&&p.value&&h.value&&Ce()},Bn=()=>{e.replace({path:"/login"})},Wn=()=>{setTimeout(()=>{},2e3)},Me=()=>{},Le=()=>{setTimeout(()=>{},2e3)},ai=()=>{},ri=Ne=>{let Qe="";const Rt=/[^0-9]/gi;return Qe=Ne.replace(Rt,""),Qe},ii=()=>{setTimeout(()=>{},2e3)},to=()=>{setTimeout(()=>{},2e3)},oi=()=>{setTimeout(()=>{},2e3)},me=()=>{setTimeout(()=>{},2e3)},le=()=>{setTimeout(()=>{},2e3)},Ge=()=>{setTimeout(()=>{},2e3)},je=()=>{setTimeout(()=>{},2e3)},ht=()=>{setTimeout(()=>{},2e3)},an=()=>{setTimeout(()=>{},2e3)};return He(()=>[r.value.userId,r.value.phone],([Ne,Qe])=>{const Rt=/[a-zA-Z0-9]/gi;i.value=Rt.test(Ne),o.value=Rt.test(Qe)}),Ue(()=>{}),{router:e,store:t,userForm:r,certNum:w,certNumCheck:E,phoneAuthNum:S,phoneMaxLength:_,nameMaxLength:y,infoHeight:b,infoWeight:D,infoAge:T,gender:A,setGender:Ne=>A.value=Ne,infoSosName1:L,infoSosName2:P,infoSosName3:N,infoSosPhone1:B,infoSosPhone2:K,infoSosPhone3:ce,isNameValidCheck:s,isIdValidCheck:u,isPwdValidCheck:c,isPwdEqualsCheck:d,isEmailValidCheck:h,isPhoneValidCheck:p,isIdDuplicateCheck:l,isAuthStatus:f,isAuthContent:g,isCertValidCheck:m,mailSendContent:v,typingCheck:i,phoneNumberTypingCheck:o,doLogin:Bn,requestJoin:Ce,typingId:ne,typingEmail:Y,sendAuthMail:de,userNameCheck:j,nameCheck:ie,emailCheck:q,userIdCheck:J,userPwdCheck:z,phoneNumberCheck:te,phoneAuthNumberCheck:X,phoneValidCheck:F,onDuplicateIdCheck:V,onSmsAuthNumberGenerateAndSend:ue,userFormCheck:Tt,certInputClick:Wn,certInputBlur:Me,certCheckInputClick:Le,certCheckInputBlur:ai,numberCheck:ri,heightInputClick:ii,weightInputClick:to,ageInputClick:oi,sosName1InputClick:me,sosName2InputClick:le,sosName3InputClick:Ge,sosPhone1InputClick:je,sosPhone2InputClick:ht,sosPhone3InputClick:an,isCall119Enabled:ae,setEnabled119:()=>ae.value=!ae.value,sosTryCount:Z,setEmergencyCnt:Ne=>Z.value=Ne,normalHighBp:$,setBpHigh:Ne=>$.value=Ne,normalLowBp:W,setBpLow:Ne=>W.value=Ne}}});const Et=e=>(Zx("data-v-cca19483"),e=e(),Kx(),e),BS={class:"join flex flex-col min-h-screen px-[20px] pt-[30px] pb-[60px]"},$S={class:"join-info bg-[#FFFFFF] p-[20px] mb-[40px] rounded-[10px]"},US={autocomplete:"off"},GS=Et(()=>C("input",{type:"text",style:{width:"0px",height:"0px",position:"absolute"}},null,-1)),FS=Et(()=>C("input",{type:"password",style:{width:"0px",height:"0px",position:"absolute"}},null,-1)),HS={class:"relative input-form"},VS=Et(()=>C("p",{class:"pl-[20px] mb-[15px] standard-text"},"최대 20글자 이름을 설정해주세요.",-1)),YS={class:"relative input-form"},zS=se("중복확인"),WS={key:0,class:"pl-[20px] mb-[15px] not-matching-text"},qS={key:1,class:"pl-[20px] mb-[15px] available-text"},ZS={key:2,class:"pl-[20px] mb-[15px] not-matching-text"},KS={class:"relative input-form"},XS={key:0,class:"pl-[20px] pb-[10px] font-normal leading-[17px] text-[14px] text-[#FF3131]"},jS=se(" 소문자, 숫자, 기호를 조합한 8자리 이상의"),JS=Et(()=>C("br",null,null,-1)),QS=se("비밀번호를 사용해주세요. "),eD=[jS,JS,QS],tD={key:1,class:"pl-[20px] mb-[15px] standard-text"},nD=se("소문자, 숫자, 기호를 조합한 8자리 이상의"),aD=Et(()=>C("br",null,null,-1)),rD=se("비밀번호를 사용해주세요."),iD=[nD,aD,rD],oD={class:"relative input-form"},sD={key:0,class:"pl-[20px] mb-[15px] available-text"},lD={key:1,class:"pl-[20px] mb-[15px] not-matching-text"},uD={class:"relative input-form"},cD=se("인증번호 발급"),dD={key:0,class:"pl-[20px] pb-[10px] font-normal text-[14px] text-[#FF3131]"},hD={class:"relative input-form"},pD={class:"relative input-form"},fD={key:0,class:"pl-[20px] pb-[10px] font-normal text-[14px] text-[#FF3131]"},vD={class:"relative input-form"},gD=se(" 자동가입 방지번호 생성 "),mD={key:0,class:"pl-[20px] mb-[10px] font-normal text-[14px] text-[#466FFF]"},yD={class:"relative input-form"},_D={key:0,class:"pt-[10px] pl-[20px] font-normal text-[14px] text-[#FF3131]"},CD={class:"relative input-form"},wD={class:"join-info bg-[#FFFFFF] p-[20px] mb-[40px] rounded-[10px]"},xD={autocomplete:"off"},ED=Et(()=>C("div",{class:"flex justify-between items-center"},[C("div",{class:"flex"},[C("span",{class:"title"},"기본 신체 정보")])],-1)),bD=Et(()=>C("br",null,null,-1)),SD={class:"relative input-form"},DD=se("cm"),TD=Et(()=>C("br",null,null,-1)),ID={class:"relative input-form"},AD=se("kg"),kD=Et(()=>C("br",null,null,-1)),MD={class:"relative input-form"},LD=se("세"),RD=Et(()=>C("br",null,null,-1)),OD={class:"input-form mb-[20px]"},PD=Et(()=>C("div",{class:"input-title pl-[20px] mb-[5px]"},"성별",-1)),ND=Et(()=>C("br",null,null,-1)),BD=Et(()=>C("br",null,null,-1)),$D=Et(()=>C("div",{class:"flex justify-between items-center"},[C("div",{class:"flex"},[C("span",{class:"title"},"긴급 통화자 등록. 최대 3명까지 등록 가능합니다.")])],-1)),UD=Et(()=>C("br",null,null,-1)),GD={class:"relative input-form"},FD={class:"kp-input-container"},HD=Et(()=>C("br",null,null,-1)),VD={class:"relative input-form"},YD={class:"kp-input-container"},zD=Et(()=>C("br",null,null,-1)),WD={class:"relative input-form"},qD={class:"kp-input-container"},ZD={class:"flex justify-between items-center pl-[20px] mt-[12px]"},KD={class:"flex w-[50%]"},XD=Et(()=>C("span",{class:"title"},"119 연계 여부",-1)),jD={class:"input-form"},JD=Et(()=>C("div",{class:"input-title pl-[20px] mt-[12px]"},"긴급통화 연결시도 횟수",-1)),QD=Et(()=>C("br",null,null,-1)),eT={class:"bg-white pt-[25px] pb-[24px] px-[0px] mb-[0px] rounded-[10px]"},tT=Et(()=>C("div",{class:"flex justify-between items-center"},[C("div",{class:"flex"},[C("span",{class:"title"},"평소 혈압정보")])],-1)),nT={class:"mt-[20px]"},aT={class:"mt-[20px] input-form"},rT=Et(()=>C("div",{class:"input-title pl-[20px] mb-[5px]"},"수축기",-1)),iT=Et(()=>C("span",{class:"input-title ml-[10px]"},"mmHg",-1)),oT={class:"mt-[10px] input-form"},sT=Et(()=>C("div",{class:"input-title pl-[20px] mb-[5px]"},"이완기",-1)),lT=Et(()=>C("span",{class:"input-title ml-[10px]"},"mmHg",-1)),uT={key:0,class:"id-duplicate-check text-center mb-[15px]"},cT=se("완료"),dT={class:"guide-text"},hT=se("이미 회원이시라면? ");function pT(e,t,n,a,r,i){const o=U("layout-header"),s=U("kpInput"),l=U("kpImage"),u=U("kp-button"),c=U("kp-select-box"),d=U("kp-toggle");return k(),O(Ie,null,[M(o,{title:"회원가입"}),C("section",BS,[C("article",$S,[C("form",US,[GS,FS,C("div",HS,[M(s,{class:"kp-input w-full pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[10px]",length:e.nameMaxLength,placeholder:"이름 입력",type:"text","model-value":e.userForm.userName,"handle-key-up":e.userNameCheck,"onUpdate:modelValue":t[0]||(t[0]=h=>e.userForm.userName=h),onInput:t[1]||(t[1]=h=>e.isNameValidCheck=!1),onChange:e.nameCheck,onBlur:e.nameCheck},null,8,["length","model-value","handle-key-up","onChange","onBlur"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/user-icon.svg"},null,8,["src"]),VS]),C("div",YS,[M(s,{class:ye(["kp-input w-[calc(100%_-_95px)] pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",!e.isIdValidCheck&&e.isIdValidCheck!==null?"mb-[10px]":"mb-[15px]"]),placeholder:"ID",type:"text","model-value":e.userForm.userId,"handle-key-up":e.userIdCheck,"onUpdate:modelValue":t[2]||(t[2]=h=>e.userForm.userId=h),onInput:e.typingId},null,8,["class","model-value","handle-key-up","onInput"]),M(u,{class:"min-w-[85px] w-[85px] small-btn pl-[14px] pr-[15px] pt-[16px] py-[15px] rounded-[25px]",onClick:e.onDuplicateIdCheck,"is-disabled":!e.typingCheck},{default:ve(()=>[zS]),_:1},8,["onClick","is-disabled"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/id-icon.svg"},null,8,["src"]),e.isIdDuplicateCheck!==null&&!e.isIdDuplicateCheck?(k(),O("p",WS,"아이디 중복체크를 해주세요.")):e.isIdValidCheck!==null&&e.isIdValidCheck?(k(),O("p",qS,"사용 가능한 아이디입니다.")):e.isIdValidCheck!==null&&!e.isIdValidCheck?(k(),O("p",ZS,"사용 불가능한 아이디입니다.")):re("",!0)]),C("div",KS,[M(s,{class:ye(["kp-input w-full pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px]",(e.isPwdValidCheck,"mb-[10px]")]),type:"password",placeholder:"비밀번호 입력","model-value":e.userForm.pwd,"onUpdate:modelValue":t[3]||(t[3]=h=>e.userForm.pwd=h),onInput:t[4]||(t[4]=h=>e.isPwdValidCheck=null)},null,8,["class","model-value"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/lock-icon.svg"},null,8,["src"]),e.isPwdValidCheck!==null&&!e.isPwdValidCheck?(k(),O("p",XS,eD)):(k(),O("p",tD,iD))]),C("div",oD,[M(s,{class:"kp-input w-full pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",type:"password",placeholder:"비밀번호 재입력","model-value":e.userForm.validatePwd,"onUpdate:modelValue":t[5]||(t[5]=h=>e.userForm.validatePwd=h),onInput:t[6]||(t[6]=h=>e.isPwdEqualsCheck=null)},null,8,["model-value"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/lock-icon.svg"},null,8,["src"]),e.isPwdEqualsCheck?(k(),O("p",sD,"비밀번호가 일치합니다.")):e.isPwdEqualsCheck!==null&&!e.isPwdEqualsCheck?(k(),O("p",lD," 비밀번호가 일치하지 않습니다. ")):re("",!0)]),C("div",uD,[M(s,{class:ye(["kp-input w-[calc(100%_-_145px)] pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",!e.isPhoneValidCheck&&e.isPhoneValidCheck!==null?"mb-[10px]":"mb-[15px]"]),placeholder:"전화번호",type:"tel","model-value":e.userForm.phone,"onUpdate:modelValue":t[7]||(t[7]=h=>e.userForm.phone=h),"handle-key-up":e.phoneNumberCheck,length:e.phoneMaxLength,onInput:t[8]||(t[8]=h=>e.isPhoneValidCheck=null)},null,8,["class","model-value","handle-key-up","length"]),M(u,{class:"min-w-[125px] w-[135px] small-btn pl-[14px] pr-[15px] pt-[16px] py-[15px] rounded-[25px]",onClick:e.onSmsAuthNumberGenerateAndSend,"is-disabled":!e.phoneNumberTypingCheck},{default:ve(()=>[cD]),_:1},8,["onClick","is-disabled"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/phone-icon.svg"},null,8,["src"]),e.isPhoneValidCheck!==null&&!e.isPhoneValidCheck?(k(),O("p",dD," 올바른 양식이 아닙니다. ")):re("",!0)]),C("div",hD,[M(s,{class:ye(["kp-input w-[calc(50%)] pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",!e.isPhoneValidCheck&&e.isPhoneValidCheck!==null?"mb-[10px]":"mb-[15px]"]),placeholder:"인증번호",type:"number","model-value":e.phoneAuthNum,"onUpdate:modelValue":t[9]||(t[9]=h=>e.phoneAuthNum=h),"handle-key-up":e.phoneAuthNumberCheck,length:6},null,8,["class","model-value","handle-key-up"])]),C("div",pD,[M(s,{class:ye(["kp-input w-full pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",!e.isEmailValidCheck&&e.isEmailValidCheck!==null?"mb-[10px]":"mb-[15px]"]),placeholder:"이메일",type:"email","model-value":e.userForm.email,"onUpdate:modelValue":t[10]||(t[10]=h=>e.userForm.email=h),onInput:e.typingEmail,onChange:e.emailCheck,onBlur:e.emailCheck},null,8,["class","model-value","onInput","onChange","onBlur"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/mail-icon.svg"},null,8,["src"]),e.isEmailValidCheck!==null&&!e.isEmailValidCheck?(k(),O("p",fD," 올바른 양식이 아닙니다. ")):re("",!0)]),C("div",vD,[M(u,{class:ye(["w-full border-[1px] border-[#466FFF] bg-[#FFFFFF] radius-[25px] outline-0 pt-[15px] py-[16px] rounded-[25px] text-[16px] text-[#466FFF] font-bold",!e.isAuthStatus&&e.isAuthStatus!==null?"mb-[15px]":"mb-[10px]"]),onClick:e.sendAuthMail},{default:ve(()=>[gD]),_:1},8,["class","onClick"]),e.isAuthStatus&&e.isCertValidCheck===null?(k(),O("p",mD,ee(e.mailSendContent),1)):re("",!0)]),C("div",yD,[M(s,{class:"kp-input w-[calc(50%)] pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px]",placeholder:"자동가입 방지번호",type:"number",inputmode:"numeric",maxlength:"6","model-value":e.certNum,onClick:e.certInputClick,onBlur:e.certInputBlur,"onUpdate:modelValue":t[11]||(t[11]=h=>e.certNum=h),"is-disabled":!0},null,8,["model-value","onClick","onBlur"]),e.isCertValidCheck!==null&&!e.isCertValidCheck?(k(),O("p",_D," 인증코드가 일치하지 않습니다. ")):re("",!0)]),C("div",CD,[M(s,{class:"kp-input w-[calc(50%)] pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px]",placeholder:"방지번호 확인 입력",type:"number",inputmode:"numeric",maxlength:"6","model-value":e.certNumCheck,onClick:e.certCheckInputClick,onBlur:e.certCheckInputBlur,"onUpdate:modelValue":t[12]||(t[12]=h=>e.certNumCheck=h),"is-disabled":!0},null,8,["model-value","onClick","onBlur"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/cert-icon.svg"},null,8,["src"])])])]),C("article",wD,[C("form",xD,[ED,bD,C("div",SD,[M(s,{class:"kp-input w-[calc(100%_-_95px)] pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",placeholder:"키",type:"number",inputmode:"numeric",maxlength:"4","model-value":e.infoHeight,onClick:e.heightInputClick,"handle-key-up":e.numberCheck,"onUpdate:modelValue":t[13]||(t[13]=h=>e.infoHeight=h)},null,8,["model-value","onClick","handle-key-up"]),M(u,{class:"min-w-[85px] w-[85px] small-btn pl-[14px] pr-[15px] pt-[16px] py-[15px] rounded-[25px]",onClick:t[14]||(t[14]=()=>{}),"is-disabled":!0},{default:ve(()=>[DD]),_:1}),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/icon_join_height.svg"},null,8,["src"])]),TD,C("div",ID,[M(s,{class:"kp-input w-[calc(100%_-_95px)] pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",placeholder:"몸무게",type:"number",inputmode:"numeric",maxlength:"4","model-value":e.infoWeight,onClick:e.weightInputClick,"handle-key-up":e.numberCheck,"onUpdate:modelValue":t[15]||(t[15]=h=>e.infoWeight=h)},null,8,["model-value","onClick","handle-key-up"]),M(u,{class:"min-w-[85px] w-[85px] small-btn pl-[14px] pr-[15px] pt-[16px] py-[15px] rounded-[25px]",onClick:t[16]||(t[16]=()=>{}),"is-disabled":!0},{default:ve(()=>[AD]),_:1}),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/icon_join_weight.svg"},null,8,["src"])]),kD,C("div",MD,[M(s,{class:"kp-input w-[calc(100%_-_95px)] pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",placeholder:"나이",type:"number",inputmode:"numeric",maxlength:"4","model-value":e.infoAge,onClick:e.ageInputClick,"handle-key-up":e.numberCheck,"onUpdate:modelValue":t[17]||(t[17]=h=>e.infoAge=h)},null,8,["model-value","onClick","handle-key-up"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/icon_join_age.svg"},null,8,["src"]),M(u,{class:"min-w-[85px] w-[85px] small-btn pl-[14px] pr-[15px] pt-[16px] py-[15px] rounded-[25px]",onClick:t[18]||(t[18]=()=>{}),"is-disabled":!0},{default:ve(()=>[LD]),_:1}),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/icon_join_age.svg"},null,8,["src"])]),RD,C("div",OD,[PD,M(c,{class:"w-[50%]","select-value":e.gender,options:[{value:"남성",label:"남성"},{value:"여성",label:"여성"}],onOnChange:e.setGender},null,8,["select-value","onOnChange"])]),ND,BD,$D,UD,C("div",GD,[C("div",FD,[M(s,{class:"kp-input w-[calc(100%_-_15px)] pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",placeholder:"이름",type:"text",maxlength:"20","model-value":e.infoSosName1,onClick:e.sosName1InputClick,"onUpdate:modelValue":t[19]||(t[19]=h=>e.infoSosName1=h)},null,8,["model-value","onClick"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/icon_join_sos.svg"},null,8,["src"]),M(s,{class:"kp-input w-[calc(100%_-_0px)] pl-[15px] pr-[10px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",placeholder:"전화번호",type:"tel",maxlength:"13","model-value":e.infoSosPhone1,onClick:e.sosPhone1InputClick,"handle-key-up":e.phoneNumberCheck,"onUpdate:modelValue":t[20]||(t[20]=h=>e.infoSosPhone1=h)},null,8,["model-value","onClick","handle-key-up"])])]),HD,C("div",VD,[C("div",YD,[M(s,{class:"kp-input w-[calc(100%_-_15px)] pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",placeholder:"이름",type:"text",maxlength:"20","model-value":e.infoSosName2,onClick:e.sosName2InputClick,"onUpdate:modelValue":t[21]||(t[21]=h=>e.infoSosName2=h)},null,8,["model-value","onClick"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/icon_join_sos.svg"},null,8,["src"]),M(s,{class:"kp-input w-[calc(100%_-_0px)] pl-[15px] pr-[10px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",placeholder:"전화번호",type:"tel",maxlength:"13","model-value":e.infoSosPhone2,onClick:e.sosPhone2InputClick,"handle-key-up":e.phoneNumberCheck,"onUpdate:modelValue":t[22]||(t[22]=h=>e.infoSosPhone2=h)},null,8,["model-value","onClick","handle-key-up"])])]),zD,C("div",WD,[C("div",qD,[M(s,{class:"kp-input w-[calc(100%_-_15px)] pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",placeholder:"이름",type:"text",maxlength:"20","model-value":e.infoSosName3,onClick:e.sosName3InputClick,"onUpdate:modelValue":t[23]||(t[23]=h=>e.infoSosName3=h)},null,8,["model-value","onClick"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/icon_join_sos.svg"},null,8,["src"]),M(s,{class:"kp-input w-[calc(100%_-_0px)] pl-[15px] pr-[10px] outline-0 pt-[16px] py-[15px] rounded-[25px] mr-[10px]",placeholder:"전화번호",type:"tel",maxlength:"13","model-value":e.infoSosPhone3,onClick:e.sosPhone3InputClick,"handle-key-up":e.phoneNumberCheck,"onUpdate:modelValue":t[24]||(t[24]=h=>e.infoSosPhone3=h)},null,8,["model-value","onClick","handle-key-up"])])]),C("div",ZD,[C("div",KD,[XD,M(d,{"is-checked":e.isCall119Enabled,onOnToggleClick:e.setEnabled119,style:{"margin-left":"20px"}},null,8,["is-checked","onOnToggleClick"])])]),C("div",jD,[JD,M(c,{class:"w-[calc(50%_-_42px)] ml-[22px]","select-value":e.sosTryCount,options:[{value:"1",label:"1"},{value:"3",label:"3"},{value:"5",label:"5"},{value:"10",label:"10"}],onOnChange:e.setEmergencyCnt},null,8,["select-value","onOnChange"])]),QD,C("div",eT,[tT,C("div",nT,[C("div",aT,[rT,M(c,{class:"w-[calc(50%_-_42px)] ml-[22px]","select-value":e.normalHighBp,options:[{value:"70",label:"70"},{value:"80",label:"80"},{value:"90",label:"90"},{value:"100",label:"100"},{value:"110",label:"110"},{value:"120",label:"120"},{value:"130",label:"130"},{value:"140",label:"140"},{value:"150",label:"150"},{value:"160",label:"160"},{value:"170",label:"170"},{value:"180",label:"180"},{value:"190",label:"190"},{value:"200",label:"200"}],onOnChange:e.setBpHigh},null,8,["select-value","onOnChange"]),iT]),C("div",oT,[sT,M(c,{class:"w-[calc(50%_-_42px)] ml-[22px]","select-value":e.normalLowBp,options:[{value:"60",label:"60"},{value:"70",label:"70"},{value:"80",label:"80"},{value:"90",label:"90"},{value:"100",label:"100"},{value:"110",label:"110"},{value:"120",label:"120"},{value:"130",label:"130"}],onOnChange:e.setBpLow},null,8,["select-value","onOnChange"]),lT])])])])]),e.isIdDuplicateCheck!==null&&!e.isIdDuplicateCheck?(k(),O("p",uT,"아이디 중복체크를 해주세요.")):re("",!0),M(u,{class:ye(["w-full confirm-btn border-0 outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[20px]",e.userForm.userName.length>0&&e.userForm.userId.length>0&&e.userForm.pwd.length>0&&e.userForm.validatePwd.length>0&&e.userForm.phone.length>0&&e.userForm.email.length>0&&e.certNum.length===6&&e.infoHeight.length>0&&e.infoWeight.length>0&&e.infoAge.length>0?"activate":"deactivate"]),"is-disabled":!(e.userForm.userName.length>0&&e.userForm.userId.length>0&&e.userForm.pwd.length>0&&e.userForm.validatePwd.length>0&&e.userForm.phone.length>0&&e.userForm.email.length>0&&e.certNum.length===6&&e.infoHeight.length>0&&e.infoWeight.length>0&&e.infoAge.length>0),onClick:e.userFormCheck},{default:ve(()=>[cT]),_:1},8,["class","is-disabled","onClick"]),C("p",dT,[hT,C("span",{class:"guid-text-bold cursor-pointer",onClick:t[25]||(t[25]=(...h)=>e.doLogin&&e.doLogin(...h))},"로그인 하기")])])],64)}const fT=Se(NS,[["render",pT],["__scopeId","data-v-cca19483"]]);var Iy=(e=>(e.USER="user",e.PASSWORD="password",e))(Iy||{});const vT=be({name:"FindUserInfo",components:{LayoutHeader:Ct,KpInput:Ta,KpButton:yt,KpImage:Xe},setup(){const e=ze(),t=Vt(),n=xe(Ee.API_URL,e),a=nt(),r=I("user"),i=I(""),o=I(""),s=I(""),l=I(""),u=I(13),c=I(!1),d=I(!1),h=I(null),p=I(null),f=I(""),g=I(""),v=I(!1),m=I(null),y=I(!1),_=I(!1),w=I("아이디 찾기"),E=P=>{r.value!==P&&(i.value="",o.value="",s.value="",l.value=""),r.value=P,y.value=!1,_.value=!1,d.value=!1,P==="user"?w.value="아이디 찾기":w.value="비밀번호 찾기"},x=()=>{s.value===""?h.value=null:h.value=!!Nt.isEmail(s.value)},S=()=>{const P=l.value.replace(/-/g,"");p.value=Nt.isMobilePhone(P,"ko-KR")},b=P=>{let N="";return P.substring(0,2)==="02"?(u.value=12,N=P.replace(/[^0-9]/g,"").replace(/^(\d{2})(\d{3,4})(\d{4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"")):(u.value=13,N=P.replace(/[^0-9]/g,"").replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"")),N},D=()=>{const P=new RegExp("^(?=.*[A-Za-z])(?=.*\\d)(?=.*[$@$!%*#?&])[A-Za-z\\d$@$!%*#?&]{8,}$");v.value=P.test(f.value),m.value=null,g.value=""},T=()=>{f.value===""?m.value=null:m.value=v.value&&Nt.equals(f.value,g.value)},A=()=>{r.value==="user"?n.post("/api/1/users/findId",{userName:i.value,email:s.value,tel:l.value}).then(P=>{P.data.resultCode!==0?y.value=!0:(e.commit(sp,P.data.data[0].userId),a.replace({path:"/login/success/user"}))}):r.value==="password"&&n.post("/api/1/users/findPassword",{userName:i.value,userId:o.value,email:s.value,tel:l.value}).then(P=>{P.data.resultCode!==0?_.value=!0:(e.commit(zl,P.data.data[0].userIdx),w.value="비밀번호 재설정",d.value=!0)})},L=()=>{n.post("/api/1/users/changePassword",{userIdx:e.state.userIdx,pwd:f.value}).then(P=>{P.data.resultCode!==0||a.replace({path:"/"})})};return Ue(()=>{r.value=e.state.findUserInfoType}),ip(()=>{document.body.style.overflow="auto",document.body.style.position="relative",document.body.style.height="unset",document.body.style.width="unset"}),{store:e,route:t,router:a,type:r,userName:i,userId:o,email:s,phone:l,newPwd:f,newPwdCheck:g,isEmailValidCheck:h,isPhoneValidCheck:p,isPwdValidCheck:v,isPwdEqualsCheck:m,phoneMaxLength:u,modalVisible:c,resetPwdVisible:d,idNotFindState:y,pwdNotFindState:_,headerTitle:w,typingPassword:D,emailCheck:x,phoneValidCheck:S,pwdEqualsCheck:T,phoneNumberCheck:b,onClickChangeType:E,clickNextBtn:A,clickResetPwdBtn:L,userFindType:Iy}}}),gT={class:"find flex flex-col items-center px-[20px] pt-[30px]"},mT={class:"header-wrapper flex flex-row w-full"},yT={class:"line-wrapper flex flex-row w-full mb-[20px]"},_T={class:"relative input-form"},CT={class:"relative input-form"},wT={class:"relative input-form"},xT={key:0,class:"pl-[20px] mt-[10px] not-matching"},ET={class:"relative input-form"},bT={class:"relative input-form"},ST={class:"relative input-form"},DT={class:"relative input-form"},TT={key:0,class:"pl-[20px] not-matching"},IT=se("완료"),AT={key:0,class:"reset-info w-full mt-[10px]"},kT=C("div",{class:"main-title pl-[10px] mb-[5px]"},"비밀번호 재설정",-1),MT=C("div",{class:"sub-title pl-[10px] mb-[30px]"},"사용하실 비밀번호를 다시 설정해주세요.",-1),LT={class:"pwd-reset-form flex flex-col p-[20px] bg-white rounded-[10px] mb-[152px]"},RT={class:"relative input-form"},OT=C("p",{class:"guide-info pl-[20px] mb-[15px] text-[14px] text-[#646464]"},"소문자, 숫자, 기호를 조합한 8자리 이상의 비밀번호를 사용해주세요.",-1),PT={class:"relative input-form"},NT={key:0,class:"pl-[20px] not-matching"},BT=se("완료");function $T(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-input"),l=U("kpImage"),u=U("kp-image"),c=U("kp-button");return k(),O(Ie,null,[M(o,{title:e.headerTitle},null,8,["title"]),C("section",gT,[C("article",{class:ye(["find-info flex-1 w-full text-center",e.resetPwdVisible?"hidden":""])},[C("div",{class:ye(["user-input-form flex-1 bg-white rounded-[10px] p-[20px] mb-[190px]",e.type===e.userFindType.PASSWORD?"mb-[106px]":""])},[C("div",mT,[C("button",{class:ye(["w-full bottom-0 pb-[10px]",e.type===e.userFindType.USER?"activate":"deactivate"]),onClick:t[0]||(t[0]=d=>e.onClickChangeType(e.userFindType.USER))}," 아이디 찾기 ",2),C("button",{class:ye(["w-full text-[24px]bottom-0 pb-[10px]",e.type===e.userFindType.PASSWORD?"activate":"deactivate"]),onClick:t[1]||(t[1]=d=>e.onClickChangeType(e.userFindType.PASSWORD))}," 비밀번호 찾기 ",2)]),C("div",yT,[C("div",{class:ye(["w-1/2 mx-[20px] h-[2px] rounded-[20px]",e.type===e.userFindType.USER?"enabled":"disabled"])},null,2),C("div",{class:ye(["w-1/2 mx-[20px] h-[2px] bg-[#466FFF] rounded-[20px]",e.type===e.userFindType.PASSWORD?"enabled":"disabled"])},null,2)]),e.type==="user"?(k(),O("div",{key:0,class:ye([e.resetPwdVisible?"hidden":"","content-wrapper flex flex-col"])},[C("div",_T,[M(s,{class:"kp-input w-full pl-[55px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"이름 입력","model-value":e.userName,"onUpdate:modelValue":t[2]||(t[2]=d=>e.userName=d)},null,8,["model-value"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/user-icon.svg"},null,8,["src"])]),C("div",CT,[M(s,{class:"kp-input w-full pl-[55px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"전화번호","model-value":e.phone,"onUpdate:modelValue":t[3]||(t[3]=d=>e.phone=d),length:e.phoneMaxLength,"handle-key-up":e.phoneNumberCheck,onInput:e.phoneValidCheck,onChange:e.phoneValidCheck,onBlur:e.phoneValidCheck},null,8,["model-value","length","handle-key-up","onInput","onChange","onBlur"]),M(u,{class:"absolute left-5 top-[15px]",src:"images/common/phone-icon.svg"},null,8,["src"])]),C("div",wT,[M(s,{class:"kp-input w-full bg-[#F4F5F7] text-[16px] text-[#4E4B66] font-normal border-0 pl-[55px] outline-0 pt-[16px] py-[15px] rounded-[25px]",placeholder:"이메일 입력","model-value":e.email,"onUpdate:modelValue":t[4]||(t[4]=d=>e.email=d),onInput:e.emailCheck,onChange:e.emailCheck,onBlur:e.emailCheck},null,8,["model-value","onInput","onChange","onBlur"]),M(u,{class:"absolute left-5 top-[15px]",src:"images/common/mail-icon.svg"},null,8,["src"])]),e.idNotFindState?(k(),O("div",xT,"일치하는 사용자 정보를 확인할 수 없습니다.")):re("",!0)],2)):e.type==="password"?(k(),O("div",{key:1,class:ye([e.resetPwdVisible?"hidden":"","content-wrapper flex flex-col"])},[C("div",ET,[M(s,{class:"kp-input w-full bg-[#F4F5F7] text-[16px] text-[#4E4B66] font-normal border-0 pl-[55px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"이름 입력","model-value":e.userName,"onUpdate:modelValue":t[5]||(t[5]=d=>e.userName=d)},null,8,["model-value"]),M(u,{class:"absolute left-5 top-[15px]",src:"images/common/user-icon.svg"},null,8,["src"])]),C("div",bT,[M(s,{class:"kp-input w-full pl-[55px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"아이디 입력","model-value":e.userId,"onUpdate:modelValue":t[6]||(t[6]=d=>e.userId=d)},null,8,["model-value"]),M(u,{class:"absolute left-5 top-[15px]",src:"images/common/id-icon.svg"},null,8,["src"])]),C("div",ST,[M(s,{class:"kp-input w-full pl-[55px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"전화번호","model-value":e.phone,"onUpdate:modelValue":t[7]||(t[7]=d=>e.phone=d),length:e.phoneMaxLength,"handle-key-up":e.phoneNumberCheck,onInput:t[8]||(t[8]=d=>e.isPhoneValidCheck=null),onChange:e.phoneValidCheck,onBlur:e.phoneValidCheck},null,8,["model-value","length","handle-key-up","onChange","onBlur"]),M(u,{class:"absolute left-5 top-[15px]",src:"images/common/phone-icon.svg"},null,8,["src"])]),C("div",DT,[M(s,{class:"kp-input w-full pl-[55px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"이메일 입력","model-value":e.email,"onUpdate:modelValue":t[9]||(t[9]=d=>e.email=d),onInput:t[10]||(t[10]=d=>e.isEmailValidCheck=null),onChange:e.emailCheck,onBlur:e.emailCheck},null,8,["model-value","onChange","onBlur"]),M(u,{class:"absolute left-5 top-[15px]",src:"images/common/mail-icon.svg"},null,8,["src"])]),e.pwdNotFindState?(k(),O("div",TT,"일치하는 사용자 정보를 확인할 수 없습니다.")):re("",!0)],2)):re("",!0)],2),e.resetPwdVisible?re("",!0):(k(),fe(c,{key:0,class:ye(["w-[calc(100%_-_40px)] btn-wrapper border-0 outline-0 pt-[16px] py-[15px] rounded-[25px]",e.type==="user"&&(e.userName===""||!e.isEmailValidCheck||!e.isPhoneValidCheck)||e.type==="password"&&(e.userName===""||e.userId===""||!e.isEmailValidCheck||!e.isPhoneValidCheck)?"activate":"deactivate"]),"is-disabled":e.type==="user"&&(e.userName===""||!e.isEmailValidCheck||!e.isPhoneValidCheck)||e.type==="password"&&(e.userName===""||e.userId===""||!e.isEmailValidCheck||!e.isPhoneValidCheck),onClick:e.clickNextBtn},{default:ve(()=>[IT]),_:1},8,["class","is-disabled","onClick"]))],2),e.resetPwdVisible?(k(),O("article",AT,[kT,MT,C("div",LT,[C("div",RT,[M(s,{type:"password",class:"kp-input w-full pl-[55px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[10px]",placeholder:"비밀번호 입력","model-value":e.newPwd,"onUpdate:modelValue":t[11]||(t[11]=d=>e.newPwd=d),onInput:e.typingPassword},null,8,["model-value","onInput"]),M(u,{class:"absolute left-5 top-[15px]",src:"images/common/lock-icon.svg"},null,8,["src"]),OT]),C("div",PT,[M(s,{type:"password",class:"kp-input w-full pl-[55px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"비밀번호 재입력","model-value":e.newPwdCheck,"onUpdate:modelValue":t[12]||(t[12]=d=>e.newPwdCheck=d),onChange:e.pwdEqualsCheck,onBlur:e.pwdEqualsCheck},null,8,["model-value","onChange","onBlur"]),M(u,{class:"absolute left-5 top-[15px]",src:"images/common/lock-icon.svg"},null,8,["src"]),e.isPwdEqualsCheck?re("",!0):(k(),O("p",NT,"비밀번호가 일치하지 않습니다."))])]),M(c,{class:ye(["w-[calc(100%_-_40px)] confirm-btn border-0 outline-0 mx-[20px] pt-[16px] py-[15px] rounded-[25px]",e.isPwdValidCheck&&e.isPwdEqualsCheck?"activate":"deactivate"]),"is-disabled":!(e.isPwdValidCheck&&e.isPwdEqualsCheck),onClick:e.clickResetPwdBtn},{default:ve(()=>[BT]),_:1},8,["class","is-disabled","onClick"])])):re("",!0)])],64)}const UT=Se(vT,[["render",$T]]),GT=be({name:"Success",components:{LayoutHeader:Ct,KpButton:yt,KpImage:Xe},setup(){const e=ze(),t=Vt(),n=nt(),a=I(""),r=I(""),i=()=>{n.push({path:"/login"})};return xu(()=>{switch(a.value=e.state.findUserId,t.params.type){case"join":r.value="가입 완료";break;case"user":r.value="아이디 찾기";break;case"password":r.value="비밀번호 찾기 완료";break;default:r.value="";break}}),{store:e,route:t,router:n,userId:a,headerTitle:r,onClickConfirm:i}}}),FT={class:"success flex flex-col items-center px-[20px]"},HT={class:"success-info flex flex-col w-full items-center text-center flex-1"},VT={key:0,class:"success-form mt-[150px] mb-[208px]"},YT=C("div",{class:"join-main-title pb-[10px]"},"가입 완료!",-1),zT=C("div",{class:"join-sub-title"},[se("회원가입이 완료되었습니다."),C("br"),se("확인을 누르시면 로그인 화면으로 이동합니다.")],-1),WT={key:1,class:"success-form mt-[152px] mb-[212px]"},qT={class:"login-main-title pb-[10px] mb-[20px]"},ZT=se(" 회원님의 아이디는"),KT=C("br",null,null,-1),XT=se(" 입니다. "),jT={key:2,class:"success-form mt-[150px] mb-[186px]"},JT=C("div",{class:"main-title pb-[10px] mb-[20px]"},[se("새로운 비밀번호가"),C("br"),se("등록되었습니다.")],-1),QT=C("div",{class:"sub-title"},"확인을 누르시면 로그인 화면으로 이동합니다.",-1),eI={key:3,class:"user-sub-title mb-[15px]"},tI=se("확인");function nI(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-image"),l=U("kp-button");return k(),O(Ie,null,[M(o,{title:e.headerTitle},null,8,["title"]),C("section",FT,[C("article",HT,[e.route.params.type==="join"?(k(),O("div",VT,[M(s,{class:"mx-auto mb-[20px]",src:"images/icon/ico-badge.png"},null,8,["src"]),YT,zT])):re("",!0),e.route.params.type==="user"?(k(),O("div",WT,[M(s,{class:"mx-auto mb-[23px]",src:"images/icon/ico-address.png"},null,8,["src"]),C("div",qT,[ZT,KT,C("span",null,ee(e.userId),1),XT])])):e.route.params.type==="password"?(k(),O("div",jT,[M(s,{class:"mx-auto mb-[20px]",src:"images/icon/ico-user-lock.png"},null,8,["src"]),JT,QT])):re("",!0),e.route.params.type==="user"?(k(),O("div",eI,"확인을 누르시면 로그인 화면으로 이동합니다.")):re("",!0),M(l,{class:"w-full confirm-btn border-0 outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[60px]",onClick:e.onClickConfirm},{default:ve(()=>[tI]),_:1},8,["onClick"])])])],64)}const aI=Se(GT,[["render",nI]]),rI=be({name:"UserType.vue",components:{LayoutHeader:Ct,KpImage:Xe,KpButton:yt},setup(){const e=ze();Vt();const t=nt(),n=xe(Ee.API_URL,e),a=I(""),r=I("DEFAULT"),i=l=>{l&&(a.value=l)},o=()=>{n.post("/api/1/users/updateUser",{userType:a.value}).then(l=>{l.data.resultCode!==0?(window.alert("세션이 만료되었습니다."),t.replace("/login")):(r.value="ACCESS",e.commit(Xa,a.value),na(Fe.CONST.LOGIN_USER,JSON.stringify(Object.assign({},H(),{userType:a.value}))),a.value==="USER_DEVICE"?t.replace({path:"/device-connect"}):a.value==="USER"&&t.replace({path:"/"}))})},s=()=>{e.commit(Kt,""),e.commit(Xa,De.USER),Xr(),Qo(e),t.replace("/login")};return Ue(()=>{}),ot(()=>{r.value==="DEFAULT"&&(e.commit(Kt,""),Qo(e))}),{store:e,userType:a,clickType:i,updateUserType:o,goToLogin:s}}}),iI={class:"user-type flex flex-col h-[calc(100%_-_56px)] px-[20px] pt-[40px] pb-[60px] h-screen"},oI={class:"user-type-wrapper justify-evenly flex flex-col flex-1 h-full"},sI={class:"h-full"},lI=C("div",{class:"type-main-header pl-[10px]"},"버디케어 이용 유형 선택",-1),uI=C("div",{class:"type-sub-header pl-[10px] mb-[40px]"},"해당하는 유형을 선택해주세요.",-1),cI={class:"contents-wrapper flex flex-col items-start"},dI={class:"contents-wrapper flex flex-col items-start"},hI=se(" 확인 ");function pI(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-image"),l=U("kp-button");return k(),O(Ie,null,[M(o,{title:"사용자 유형","direct-redirection":e.goToLogin},null,8,["direct-redirection"]),C("section",iI,[C("article",oI,[C("div",sI,[lI,uI,C("button",{class:ye(["type-form-wrapper cursor-pointer flex relative items-center pl-[40px] pr-[30px] mb-[20px] w-full h-[120px] rounded-[25px] shadow-[0_3px_4px_1px_rgba(123,159,252,0.1)]",e.userType==="USER_DEVICE"?"bg-[#466FFF]":"bg-[#FFFFFF]"]),onClick:t[0]||(t[0]=u=>e.clickType("USER_DEVICE"))},[M(s,{class:"mr-[35px]",src:e.userType==="USER_DEVICE"?"images/icon/ico-user-check.png":"images/icon/ico-user.png"},null,8,["src"]),C("div",cI,[C("div",{class:ye(["contents-header mb-[10px]",e.userType==="USER_DEVICE"?"text-[#FFFFFF]":"text-[#4E4B66]"])},"사용자",2),C("div",{class:ye(["contents-sub text-start",e.userType==="USER_DEVICE"?"text-[#FFFFFF]":"text-[#4E4B66]"])}," 기기 사용자로서 기기 등록 후 버디케어 이용이 가능합니다. ",2)])],2),C("button",{class:ye(["type-form-wrapper cursor-pointer flex relative items-center px-[30px] mb-[112px] w-full h-[120px] rounded-[25px] shadow-[0_3px_4px_1px_rgba(123,159,252,0.1)]",e.userType==="USER"?"bg-[#466FFF]":"bg-[#FFFFFF]"]),onClick:t[1]||(t[1]=u=>e.clickType("USER"))},[M(s,{class:"mr-[30px]",src:e.userType==="USER"?"images/icon/ico-protector-check.png":"images/icon/ico-protector.png"},null,8,["src"]),C("div",dI,[C("div",{class:ye(["contents-header mb-[10px]",e.userType==="USER"?"text-[#FFFFFF]":"text-[#4E4B66]"])},"보호자",2),C("div",{class:ye(["contents-sub text-start",e.userType==="USER"?"text-[#FFFFFF]":"text-[#4E4B66]"])}," 사용자의 돌봄 그룹 연결 후 버디케어 이용이 가능합니다. ",2)])],2)]),M(l,{class:ye(["w-full confirm-btn bottom-0 pt-[16px] pb-[15px] rounded-[25px]",{"is-disabled":e.userType===""}]),onClick:t[2]||(t[2]=u=>e.updateUserType())},{default:ve(()=>[hI]),_:1},8,["class"])])])],64)}const fI=Se(rI,[["render",pI]]),vI=be({name:"FindUserId",components:{LayoutHeader:Ct,KpInput:Ta,KpButton:yt,KpImage:Xe},setup(){const e=ze(),t=Vt(),n=xe(Ee.API_URL,e),a=nt(),r=I(""),i=I(""),o=I(""),s=I(13),l=I(null),u=I(null),c=I(!1);return{router:a,route:t,userName:r,email:i,phone:o,phoneMaxLength:s,isPhoneValidCheck:u,isEmailValidCheck:l,idNotFindState:c,phoneValidCheck:()=>{const g=o.value.replace(/-/g,"");u.value=Nt.isMobilePhone(g,"ko-KR")},phoneNumberCheck:g=>{let v="";return g.substring(0,2)==="02"?(s.value=12,v=g.replace(/[^0-9]/g,"").replace(/^(\d{2})(\d{3,4})(\d{4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"")):g.substring(0,3)==="010"?(s.value=13,v=g.replace(/[^0-9]/g,"").replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"")):(s.value=12,v=g.replace(/[^0-9]/g,"").replace(/^(\d{0,3})(\d{0,3})(\d{0,4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"")),v},clickNextBtn:()=>{n.post("/api/1/users/findId",{userName:r.value.trim(),email:i.value.trim(),tel:o.value}).then(g=>{g.data.resultCode!==0?c.value=!0:(e.commit(sp,g.data.data[0].userId),a.replace({path:"/login/success/user"}))})},emailCheck:()=>{i.value===""?l.value=null:l.value=!!Nt.isEmail(i.value.trim())}}}}),gI={class:"find flex flex-col items-center px-[20px] pt-[30px] h-[calc(100%_-_56px)]"},mI={class:"relative find-info justify-evenly flex flex-col flex-1 w-full text-center"},yI={class:"user-input-form flex-1 rounded-[10px] p-[20px]"},_I={class:"content-wrapper flex flex-col"},CI={class:"relative input-form"},wI={class:"relative input-form"},xI={class:"relative input-form"},EI={key:0,class:"pl-[20px] mt-[10px] not-matching z-10"},bI=se("완료");function SI(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-input"),l=U("kpImage"),u=U("kp-button");return k(),O(Ie,null,[M(o,{title:"아이디 찾기"}),C("section",gI,[C("article",mI,[C("div",{class:ye(["w-full bg-white absolute top-0 rounded-[10px]",e.idNotFindState?"h-[247px]":"h-[220px]"])},null,2),C("div",yI,[C("div",_I,[C("div",CI,[M(s,{class:"kp-input w-full pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"이름 입력","model-value":e.userName,"onUpdate:modelValue":t[0]||(t[0]=c=>e.userName=c)},null,8,["model-value"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/user-icon.svg"},null,8,["src"])]),C("div",wI,[M(s,{class:"kp-input w-full pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"전화번호","model-value":e.phone,"onUpdate:modelValue":t[1]||(t[1]=c=>e.phone=c),length:e.phoneMaxLength,"handle-key-up":e.phoneNumberCheck,onInput:e.phoneValidCheck,onChange:e.phoneValidCheck,onBlur:e.phoneValidCheck},null,8,["model-value","length","handle-key-up","onInput","onChange","onBlur"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/phone-icon.svg"},null,8,["src"])]),C("div",xI,[M(s,{class:"kp-input w-full bg-[#F4F5F7] text-[16px] text-[#4E4B66] font-normal pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px]",placeholder:"이메일 입력","model-value":e.email,"onUpdate:modelValue":t[2]||(t[2]=c=>e.email=c),onInput:e.emailCheck,onChange:e.emailCheck,onBlur:e.emailCheck},null,8,["model-value","onInput","onChange","onBlur"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/mail-icon.svg"},null,8,["src"])]),e.idNotFindState?(k(),O("div",EI,"일치하는 사용자 정보를 확인할 수 없습니다.")):re("",!0)])]),C("div",null,[M(u,{class:"w-[calc(100%_-_40px)] btn-wrapper border-0 outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[60px]","is-disabled":e.userName===""||!e.isEmailValidCheck||!e.isPhoneValidCheck,onClick:e.clickNextBtn},{default:ve(()=>[bI]),_:1},8,["is-disabled","onClick"])])])])],64)}const DI=Se(vI,[["render",SI]]),TI=be({name:"FindUserPassword",components:{LayoutHeader:Ct,KpInput:Ta,KpButton:yt,KpImage:Xe},setup(){const e=ze(),t=Vt(),n=xe(Ee.API_URL,e),a=nt(),r=I(""),i=I(""),o=I(""),s=I(""),l=I(13),u=I(""),c=I(""),d=I(null),h=I(null),p=I(null),f=I(null),g=I(!1),v=I(!1),m=()=>{const D=s.value.replace(/-/g,"");f.value=Nt.isMobilePhone(D,"ko-KR")},y=D=>{let T="";return D.substring(0,2)==="02"?(l.value=12,T=D.replace(/[^0-9]/g,"").replace(/^(\d{2})(\d{3,4})(\d{4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"")):D.substring(0,3)==="010"?(l.value=13,T=D.replace(/[^0-9]/g,"").replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"")):(l.value=12,T=D.replace(/[^0-9]/g,"").replace(/^(\d{0,3})(\d{0,3})(\d{0,4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"")),T},_=()=>{o.value===""?p.value=null:p.value=!!Nt.isEmail(o.value.trim())},w=()=>{n.post("/api/1/users/findPassword",{userName:r.value.trim(),userId:i.value.trim(),email:o.value.trim(),tel:s.value}).then(D=>{D.data.resultCode!==0?g.value=!0:(e.commit(zl,D.data.data[0].userIdx),v.value=!0)})},E=()=>{const D=new RegExp("^(?=.*[A-Za-z])(?=.*\\d)(?=.*[$@$!%*#?&])[A-Za-z\\d$@$!%*#?&]{8,}$");d.value=D.test(u.value.trim()),h.value=null,c.value=""},x=()=>{u.value===""?h.value=null:h.value=d.value&&Nt.equals(u.value.trim(),c.value.trim())},S=()=>{const D=new RegExp("^(?=.*[A-Za-z])(?=.*\\d)(?=.*[$@$!%*#?&])[A-Za-z\\d$@$!%*#?&]{8,}$");d.value=D.test(u.value.trim()),u.value===""?h.value=null:h.value=d.value&&Nt.equals(u.value.trim(),c.value.trim()),d.value&&h.value&&b()},b=()=>{n.post("/api/1/users/changePassword",{userIdx:e.state.userIdx,pwd:u.value.trim()}).then(D=>{D.data.resultCode!==0||(e.commit(zl,""),window.alert("비밀번호가 재설정 되었습니다."),a.replace({path:"/login"}))})};return{store:e,route:t,router:a,userName:r,userId:i,email:o,phone:s,newPwd:u,newPwdCheck:c,phoneMaxLength:l,isPwdValidCheck:d,isPwdEqualsCheck:h,isEmailValidCheck:p,isPhoneValidCheck:f,pwdNotFindState:g,resetPwdVisible:v,emailCheck:_,phoneValidCheck:m,phoneNumberCheck:y,clickNextBtn:w,clickResetPwdBtn:b,typingPassword:E,pwdEqualsCheck:x,validateCheck:S}}}),II={class:"find flex flex-col items-center px-[20px] pt-[30px] h-[calc(100%_-_56px)]"},AI={key:0,class:"relative find-info justify-evenly flex flex-col flex-1 w-full text-center"},kI={class:"user-input-form flex-1 rounded-[10px] p-[20px]"},MI={class:"content-wrapper flex flex-col"},LI={class:"relative input-form"},RI={class:"relative input-form"},OI={class:"relative input-form"},PI={class:"relative input-form"},NI={key:0,class:"pl-[20px] not-matching z-10"},BI=se("완료"),$I={key:1,class:"reset-info w-full mt-[10px] justify-evenly flex flex-col flex-1"},UI={class:"h-full"},GI=C("div",{class:"main-title pl-[10px] mb-[5px]"},"비밀번호 재설정",-1),FI=C("div",{class:"sub-title pl-[10px] mb-[30px]"},"사용하실 비밀번호를 다시 설정해주세요.",-1),HI={class:"pwd-reset-form flex flex-col p-[20px] justify-evenly flex flex-col bg-white rounded-[10px]"},VI={class:"relative input-form"},YI={key:0,class:"not-matching pl-[20px] mb-[15px] text-[14px]"},zI={key:1,class:"guide-info pl-[20px] mb-[15px] text-[14px] text-[#646464]"},WI={class:"relative input-form"},qI={key:0,class:"mt-[10px] pl-[20px] not-matching"},ZI=se("완료");function KI(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-input"),l=U("kp-image"),u=U("kp-button");return k(),O(Ie,null,[M(o,{title:"비밀번호 찾기"}),C("section",II,[e.resetPwdVisible?(k(),O("article",$I,[C("div",UI,[GI,FI,C("form",HI,[C("div",VI,[M(s,{type:"password",class:"kp-input w-full pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[10px]",placeholder:"비밀번호 입력","model-value":e.newPwd,"onUpdate:modelValue":t[4]||(t[4]=c=>e.newPwd=c)},null,8,["model-value"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/lock-icon.svg"},null,8,["src"]),e.isPwdValidCheck!==null&&!e.isPwdValidCheck?(k(),O("p",YI," 소문자, 숫자, 기호를 조합한 8자리 이상의 비밀번호를 사용해주세요. ")):(k(),O("p",zI," 소문자, 숫자, 기호를 조합한 8자리 이상의 비밀번호를 사용해주세요. "))]),C("div",WI,[M(s,{type:"password",class:"kp-input w-full pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px]",placeholder:"비밀번호 재입력","model-value":e.newPwdCheck,"onUpdate:modelValue":t[5]||(t[5]=c=>e.newPwdCheck=c),onInput:t[6]||(t[6]=c=>e.isPwdEqualsCheck=null)},null,8,["model-value"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/lock-icon.svg"},null,8,["src"]),e.isPwdEqualsCheck!==null&&!e.isPwdEqualsCheck?(k(),O("p",qI,"비밀번호가 일치하지 않습니다.")):re("",!0)])])]),C("div",null,[M(u,{class:"w-full confirm-btn border-0 outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[60px]","is-disabled":!(e.newPwd.length>0&&e.newPwdCheck.length>0),onClick:e.validateCheck},{default:ve(()=>[ZI]),_:1},8,["is-disabled","onClick"])])])):(k(),O("article",AI,[C("div",{class:ye(["w-full bg-white absolute top-0 rounded-[10px]",e.pwdNotFindState?"h-[314px]":"h-[285px]"])},null,2),C("div",kI,[C("div",MI,[C("div",LI,[M(s,{class:"kp-input w-full bg-[#F4F5F7] text-[16px] text-[#4E4B66] font-normal border-0 pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"이름 입력","model-value":e.userName,"onUpdate:modelValue":t[0]||(t[0]=c=>e.userName=c)},null,8,["model-value"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/user-icon.svg"},null,8,["src"])]),C("div",RI,[M(s,{class:"kp-input w-full pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"아이디 입력","model-value":e.userId,"onUpdate:modelValue":t[1]||(t[1]=c=>e.userId=c)},null,8,["model-value"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/id-icon.svg"},null,8,["src"])]),C("div",OI,[M(s,{class:"kp-input w-full pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"전화번호","model-value":e.phone,"onUpdate:modelValue":t[2]||(t[2]=c=>e.phone=c),length:e.phoneMaxLength,"handle-key-up":e.phoneNumberCheck,onInput:e.phoneValidCheck,onChange:e.phoneValidCheck,onBlur:e.phoneValidCheck},null,8,["model-value","length","handle-key-up","onInput","onChange","onBlur"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/phone-icon.svg"},null,8,["src"])]),C("div",PI,[M(s,{class:"kp-input w-full pl-[55px] pr-[30px] outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[15px]",placeholder:"이메일 입력","model-value":e.email,"onUpdate:modelValue":t[3]||(t[3]=c=>e.email=c),onInput:e.emailCheck,onChange:e.emailCheck,onBlur:e.emailCheck},null,8,["model-value","onInput","onChange","onBlur"]),M(l,{class:"absolute left-5 top-[15px]",src:"images/common/mail-icon.svg"},null,8,["src"])]),e.pwdNotFindState?(k(),O("div",NI,"일치하는 사용자 정보를 확인할 수 없습니다.")):re("",!0)])]),C("div",null,[M(u,{class:"w-full btn-wrapper border-0 outline-0 pt-[16px] py-[15px] rounded-[25px] mb-[60px]","is-disabled":e.userName===""||e.userId===""||!e.isEmailValidCheck||!e.isPhoneValidCheck,onClick:e.clickNextBtn},{default:ve(()=>[BI]),_:1},8,["is-disabled","onClick"])])]))])],64)}const XI=Se(TI,[["render",KI]]),jI=be({name:"DashBoard",setup(){const e=ze(),t=nt(),n=I(null),a=()=>{const i=Bt(Fe.CONST.LOGIN_USER);i&&(n.value=JSON.parse(i))},r=()=>{window.appInterface.getMessageType()};return xu(()=>{a()}),Ue(()=>{var o,s,l,u;const i=H();if(e.state.authToken===""&&Bt(Ee.KEY_LIST.CONST.LOGIN_TOKEN)&&e.commit(Kt,Bt(Ee.KEY_LIST.CONST.LOGIN_TOKEN)),i){window.appInterface.setUserName(i.userName);try{he().addEventListener(we.CONNECT,r)}catch(c){console.error(c)}if(i.userType===De.MANAGER)t.replace({path:"/main-manager"});else if(i.userType===De.USER_DEVICE)try{((s=(o=G().getCurrentGroup())==null?void 0:o.creatorInfo)==null?void 0:s.userIdx)!==void 0&&H().userIdx!==((u=(l=G().getCurrentGroup())==null?void 0:l.creatorInfo)==null?void 0:u.userIdx)?t.replace({path:"/main-user"}):t.replace({path:"/main-device"})}catch(c){console.error(c),t.replace({path:"/main-device"})}else i.userType===De.USER&&t.replace({path:"/main-user"})}}),{}}});function JI(e,t,n,a,r,i){return null}const QI=Se(jI,[["render",JI]]),eA=be({name:"ChatPreview",components:{KpImage:Xe,KpLink:xt},setup(){const e=ze(),t=nt(),n=I(),a=I(!1),r=ke(()=>e.state.selectedGroup),i=I(),o=I(),s=I(),l=I(),u=()=>{if(i.value){const _=i.value.getLastMessage();_&&(n.value=_,lt(()=>{m(),y()}))}},c=()=>{var _;i.value&&((_=i.value)!=null&&_.isUpdated())&&(a.value=!0)},d=()=>{i.value&&(G().joinChannel(i.value.channelIdx),t.push({path:`/chat-room/${i.value.groupIdx}`}))},h=_=>{var E;const w=_.detail;((E=i.value)==null?void 0:E.channelIdx)===w&&f()},p=()=>{i.value=G().getCurrentGroup(),lt(()=>{f()})},f=()=>{u(),c(),v(),m(),y()},g=()=>{i.value=G().getCurrentGroup(),u()},v=()=>{var _,w,E,x,S;Q().diff(Q((_=n.value)==null?void 0:_.dateReg),"years")>=1?o.value=Q((w=n.value)==null?void 0:w.dateReg).format("YY년 MM월 DD일"):Q().diff(Q((E=n.value)==null?void 0:E.dateReg),"days")>=1?o.value=Q((x=n.value)==null?void 0:x.dateReg).format("MM월 DD일"):o.value=Q((S=n.value)==null?void 0:S.dateReg).format("a h:mm")},m=()=>{var _,w,E,x,S;if((_=n.value)!=null&&_.messageType)switch(n.value.messageType){case oe.TEXT:case oe.EMERGENCY:case oe.EMERGENCY_ALARM:s.value=(w=n.value)==null?void 0:w.messageBody;break;case oe.IMAGE:case oe.EMERGENCY_IMAGE:s.value="사진이 전송되었습니다.";break;case oe.VIDEO:case oe.EMERGENCY_VIDEO:s.value="동영상이 전송되었습니다.";break;case oe.ENTER:s.value=`${(E=n.value)==null?void 0:E.username}님이 참가하셨습니다.`;break;case oe.LEAVE:s.value=`${(x=n.value)==null?void 0:x.username}님이 퇴장하셨습니다.`;break;default:s.value=(S=n.value)==null?void 0:S.messageBody;break}},y=()=>{var _,w;try{if(n.value)if([oe.EMERGENCY,oe.EMERGENCY_ALARM,oe.EMERGENCY_VIDEO,oe.EMERGENCY_IMAGE,oe.TEXT,oe.VIDEO,oe.IMAGE].indexOf((_=n.value)==null?void 0:_.messageType)>-1){const E=(w=n.value)==null?void 0:w.userProfile;if(E){const x=JSON.parse(E);l.value=Ee.FILE_SERVER+x[0].savedName}else l.value=void 0}else l.value=void 0}catch(E){console.log(E)}};return He(()=>r.value,()=>{g()}),Ue(()=>{p(),G().addEventListener(ge.MESSAGE_RECEIVED,h)}),ot(()=>{G().removeEventListener(ge.MESSAGE_RECEIVED,h)}),{lastMessage:n,isUpdated:a,isEmergency:ke(()=>{var _;return n.value&&[oe.EMERGENCY,oe.EMERGENCY_ALARM,oe.EMERGENCY_IMAGE,oe.EMERGENCY_VIDEO].includes((_=n.value)==null?void 0:_.messageType)}),msgViewDate:o,msgViewBody:s,userProfileView:l,openChannelRoom:d,userProfileResolver:y,selectedGroup:i}}}),tA={class:"user-wrapper w-[80px] flex justify-center items-center relative"},nA={key:1,class:"profile-wrapper w-[50px] h-[50px] rounded-[50%] flex items-center justify-center"},aA={key:2,class:"w-[15px] h-[15px] absolute top-0 right-[15px]"},rA=C("div",{class:"w-full h-full rounded-[100%] bg-[#FFF] flex items-center justify-center"},[C("div",{class:"w-[calc(100%_-_2px)] h-[calc(100%_-_2px)] rounded-[100%] bg-[#466FFF]"})],-1),iA=[rA],oA={key:0,class:"message-body flex flex-1 flex-col items-center pr-[15px] max-w-[calc(100%_-_75px)]"},sA={class:"message-info w-full justify-between flex items-center mb-[5px]"},lA={class:"user-id"},uA={key:0,class:"date"},cA={class:"message-content w-full relative"},dA={class:"message text-ellipsis overflow-hidden whitespace-nowrap"},hA={key:1};function pA(e,t,n,a,r,i){const o=U("kpImage"),s=U("kpLink");return k(),fe(s,{link:"#","on-click":e.openChannelRoom,class:"preview w-full h-[180px]"},{default:ve(()=>[C("div",{class:ye(["preview-body flex justify-start items-center w-full h-[80px] rounded-[15px]",{emergency:e.isEmergency}])},[C("div",tA,[e.userProfileView?(k(),fe(o,{key:0,class:"w-[50px] h-[50px] object-cover rounded-[50%]",src:e.userProfileView},null,8,["src"])):(k(),O("div",nA,[M(o,{class:"w-[20px] h-[25px]",src:"images/common/base-profile.svg"})])),e.isUpdated?(k(),O("div",aA,iA)):re("",!0)]),e.lastMessage?(k(),O("div",oA,[C("div",sA,[C("span",lA,ee(e.lastMessage.username),1),e.msgViewDate?(k(),O("span",uA,ee(e.msgViewDate),1)):re("",!0)]),C("div",cA,[C("p",dA,ee(e.msgViewBody),1)])])):(k(),O("div",hA))],2)]),_:1},8,["on-click"])}const Ay=Se(eA,[["render",pA]]),fA=be({name:"RefreshButton",components:{KpImage:Xe,KpButton:yt},emit:["click"],setup(e,{emit:t}){return{onClickBtn:()=>{t("click")}}}});function vA(e,t,n,a,r,i){const o=U("kp-image"),s=U("kp-button");return k(),fe(s,{class:"flex items-center justify-center ml-[8px]","btn-class":"btn-refresh","on-click":e.onClickBtn},{default:ve(()=>[M(o,{src:"images/icon/ico-btn-refresh.svg"})]),_:1},8,["on-click"])}const Su=Se(fA,[["render",vA]]),gA=be({name:"GroupUsersPopup",components:{KpLink:xt,KpImage:Xe},props:{closeHandler:{type:Function,required:!1}},setup(e){const t=ze(),n=I(),a=I([]),r=I(!1),i=()=>{var l,u,c;n.value=(l=G().getCurrentGroup())==null?void 0:l.creatorInfo;for(const d of G().groupList)d.creatorInfo&&d.creatorInfo.userIdx!==((u=n.value)==null?void 0:u.userIdx)&&((c=a.value)==null||c.push(d.creatorInfo));r.value=!0},o=l=>{const u=l.userIdx,c=G().groupList.find(d=>{var h;return((h=d.creatorInfo)==null?void 0:h.userIdx)===u});c&&G().setCurrentGroup(c.groupIdx),e.closeHandler&&e.closeHandler(),t.dispatch(ft,et.NONE)},s=l=>dn(l)||"images/common/base-profile.svg";return Ue(()=>{i()}),ot(()=>{e.closeHandler&&e.closeHandler(),t.dispatch(ft,et.NONE)}),{isOpen:r,curGroup:n,groupInfoList:a,handleSelectGroup:o,profileResolver:s}}}),mA={class:"group-users-wrapper w-full min-h-[80px] absolute left-0 top-0 flex flex-col rounded-b-[25px]"},yA={class:"mr-[15px]"},_A={key:0,class:"profile-background w-[40px] h-[40px]"},CA={class:"text-wrapper flex-1"},wA={class:"user-name mr-[10px]"},xA={class:"user-etc"},EA={key:1,class:"w-full h-full"},bA={class:"mr-[15px]"},SA={key:0,class:"profile-background w-[40px] h-[40px]"},DA={class:"text-wrapper"},TA={class:"user-name mr-[10px]"},IA={class:"user-etc"};function AA(e,t,n,a,r,i){const o=U("kp-image"),s=U("kp-link"),l=U("portal");return e.isOpen?(k(),fe(l,{key:0,to:"group-users",class:"group-users-popup relative"},{default:ve(()=>[C("div",mA,[e.curGroup?(k(),O("div",{key:0,class:ye(["cur-group px-[30px] h-[80px] flex items-center justify-between",{single:e.groupInfoList.length<1}])},[C("div",yA,[e.curGroup.userProfile?(k(),fe(o,{key:1,class:"w-[40px] h-[40px] object-cover rounded-[50%]",src:e.profileResolver(e.curGroup.userProfile)},null,8,["src"])):(k(),O("div",_A,[M(o,{class:"w-[20px] h-[25px]",src:"images/common/base-profile.svg"})]))]),C("div",CA,[C("span",wA,ee(e.curGroup.userId),1),C("span",xA,ee(e.curGroup.username),1)]),M(o,{class:"w-[20px] h-[15px]",src:"images/common/check-icon.png"})],2)):re("",!0),e.groupInfoList&&e.groupInfoList.length>0?(k(),O("div",EA,[(k(!0),O(Ie,null,gt(e.groupInfoList,u=>(k(),O("div",{class:"group-list-wrapper rounded-b-[25px]",key:`${u.userIdx}`},[M(s,{link:"#",class:"group-area flex items-center h-[70px] px-[30px] w-full","on-click":()=>e.handleSelectGroup(u)},{default:ve(()=>[C("div",bA,[u.userProfile?(k(),fe(o,{key:1,class:"w-[40px] h-[40px] rounded-[50%] object-cover",src:e.profileResolver(u.userProfile)},null,8,["src"])):(k(),O("div",SA,[M(o,{class:"w-[20px] h-[25px]",src:"images/common/base-profile.svg"})]))]),C("div",DA,[C("span",TA,ee(u.userId),1),C("span",IA,ee(u.username),1)])]),_:2},1032,["on-click"])]))),128))])):re("",!0)])]),_:1})):re("",!0)}const ky=Se(gA,[["render",AA]]),kA=be({name:"LocationMap",props:{uuid:{type:String,required:!1},currentGroup:{type:Object,required:!1},onInitMap:{type:Function,required:!1},isGroupEmpty:{type:Boolean,require:!1,default:!1}},setup(e){const t=ze();let n=null;const a=I(),r=[37.5666805,126.9784147],i=ke(()=>e.currentGroup),o=Ze(e,"isGroupEmpty"),s=I(null),l=I(!1),u=()=>{var h,p,f,g,v,m,y,_;let d={userIdx:e.uuid?(p=(h=i.value)==null?void 0:h.creatorInfo)==null?void 0:p.userIdx:H().userIdx};H().userType===De.USER?d.userIdx=(g=(f=G().getCurrentGroup())==null?void 0:f.creatorInfo)==null?void 0:g.userIdx:H().userType===De.USER_DEVICE&&G().getCurrentGroup()&&d.userIdx!==((m=(v=G().getCurrentGroup())==null?void 0:v.creatorInfo)==null?void 0:m.userIdx)&&(d.userIdx=(_=(y=G().getCurrentGroup())==null?void 0:y.creatorInfo)==null?void 0:_.userIdx),d.userIdx&&(e.onInitMap||xe(Ee.API_URL,t).post("/api/1/location/getLocation",d).then(w=>{if(w.data.resultCode===0){let E=w.data.data;if(n&&E.length>0)try{H().userType===De.USER_DEVICE?(s.value=new naver.maps.Marker({position:new naver.maps.LatLng(E[0].lat,E[0].lng),map:n,icon:"images/common/current-marker-small.svg"}),n.setCenter({lat:E[0].lat,lng:E[0].lng})):E[0].stateConnect==="Y"?(s.value=new naver.maps.Marker({position:new naver.maps.LatLng(E[0].lat,E[0].lng),map:n,icon:"images/common/current-marker-small.svg"}),n.setCenter({lat:E[0].lat,lng:E[0].lng})):E[0].stateConnect==="N"&&(s.value=new naver.maps.Marker({position:new naver.maps.LatLng(E[0].lat,E[0].lng),map:n,icon:"images/common/current-marker-small.svg"}),n.setCenter({lat:E[0].lat,lng:E[0].lng}))}catch(x){console.error(x)}}}))},c=()=>{u()};return He(()=>o.value,()=>{o.value&&s.value&&(s.value.setMap(null),n&&n.setCenter({lat:r[0],lng:r[1]}))}),He(()=>s.value,()=>{s.value&&(l.value=!l.value)}),op(()=>{c()}),Ue(()=>{window.addEventListener("SEARCH_LOCATION",u),a.value&&(a.value.innerHTML=""),n=new naver.maps.Map(e.uuid?`map_${e.uuid}`:"map",{center:new naver.maps.LatLng(r[0],r[1]),zoom:16,mapDataControl:!1,disableKineticPan:!1,scaleControl:!1,draggable:!1,pinchZoom:!1,scrollWheel:!1,keyboardShortcuts:!1,disableDoubleTapZoom:!0,disableDoubleClickZoom:!0,disableTwoFingerTapZoom:!0}),lt(()=>{e.onInitMap&&e.onInitMap(n),c()})}),ot(()=>{var d;window.removeEventListener("SEARCH_LOCATION",u),n&&n.destroy(),(d=a.value)==null||d.remove()}),{mapEl:a,mapMarker:s}}}),MA=["id"];function LA(e,t,n,a,r,i){return k(),O("div",{id:e.uuid?`map_${e.uuid}`:"map",class:"map rounded-[10px] h-full",ref:"mapEl"},null,8,MA)}const Du=Se(kA,[["render",LA]]),RA=be({name:"GroupWaitingPopup",components:{KpButton:yt},setup(){const e=ze();Vt();const t=nt();return{onClickSetting:()=>{t.push("/setting/group")},onClickBack:()=>{e.commit(Kt,""),Ut(Fe.CONST.LOGIN_USER),Ut(Fe.CONST.LOGIN_TOKEN),Mr(Fe.CONST.LOGIN_TOKEN),Xr(),t.replace("/")}}}}),OA={class:"waiting-popup"},PA={class:"waiting-popup-wrapper"},NA=C("p",{class:"title"},"돌봄 그룹 연결 대기중입니다.",-1),BA=C("p",{class:"desc"},[se("기기 사용자에게"),C("br"),se("돌봄 그룹 연결을 요청해주세요.")],-1),$A=se("돌봄 그룹 설정");function UA(e,t,n,a,r,i){const o=U("kp-button");return k(),O("div",OA,[C("div",PA,[NA,BA,M(o,{class:"btn-setting",isDefault:"","on-click":e.onClickSetting},{default:ve(()=>[$A]),_:1},8,["on-click"])])])}const My=Se(RA,[["render",UA]]),Ly=e=>{const t=new Date(`${e.year}-${e.month.toString().padStart(2,"0")}-${e.day.toString().padStart(2,"0")}`),n=Q(t).format("YYYYMMDD");return e==null?void 0:e.items.map((a,r)=>{const i=Math.floor(a.period/60).toString().padStart(2,"0"),o=Math.floor(a.period%60).toString().padStart(2,"0");return{period:Number(`${n}${i}${o}`),temperature:a.temperatureValue}})},Ry=e=>{const t=new Date(`${e.year}-${e.month.toString().padStart(2,"0")}-${e.day.toString().padStart(2,"0")}`),n=Q(t).format("YYYYMMDD");return e==null?void 0:e.items.map((a,r)=>{const i=Math.floor(a.period/60).toString().padStart(2,"0"),o=Math.floor(a.period%60).toString().padStart(2,"0");return{period:Number(`${n}${i}${o}`),bloodPressure:a.highBloodPressureValue,bloodPressureLow:a.lowBloodPressureValue}})},Oy=e=>{const t=new Date(`${e.year}-${e.month.toString().padStart(2,"0")}-${e.day.toString().padStart(2,"0")}`),n=Q(t).format("YYYYMMDD");return e==null?void 0:e.items.map((a,r)=>{const i=Math.floor(a.period/60).toString().padStart(2,"0"),o=Math.floor(a.period%60).toString().padStart(2,"0");return{period:Number(`${n}${i}${o}`),heartRate:a.heartRate}})},Py=e=>{const t=new Date(`${e.year}-${e.month.toString().padStart(2,"0")}-${e.day.toString().padStart(2,"0")}`),n=Q(t).format("YYYYMMDD");return e==null?void 0:e.items.map((a,r)=>{const i=Math.floor(a.period/60).toString().padStart(2,"0"),o=Math.floor(a.period%60).toString().padStart(2,"0");return{period:Number(`${n}${i}${o}`),stressRate:a.stressValue}})},Ny=e=>{const t=new Date(`${e.year}-${e.month.toString().padStart(2,"0")}-${e.day.toString().padStart(2,"0")}`),n=Q(t).format("YYYYMMDD");return e==null?void 0:e.items.map((a,r)=>{const i=Math.floor(a.time/60).toString().padStart(2,"0"),o=Math.floor(a.time%60).toString().padStart(2,"0");return{period:Number(`${n}${i}${o}`),stepCount:a.stepCount,totalStepCount:e.totalStepCount,calorie:e.totalCalories,distance:e.totalDistance}})},By=e=>{const t=new Date(`${e.year}-${e.month.toString().padStart(2,"0")}-${e.day.toString().padStart(2,"0")}`),n=Q(t).format("YYYYMMDD");return e==null?void 0:e.items.map((a,r)=>{const i=Math.floor(a.period/60).toString().padStart(2,"0"),o=Math.floor(a.period%60).toString().padStart(2,"0");return{period:Number(`${n}${i}${o}`),oxygen:a.oxygenValue}})},$y=e=>{var i,o;let t=-1;(i=e==null?void 0:e.items)==null||i.map((s,l)=>{l<(e==null?void 0:e.items.length)-1&&s.startTime>(e==null?void 0:e.items[l+1].startTime)&&(t=l)});const n=new Date(`${e.year}-${e.month.toString().padStart(2,"0")}-${e.day.toString().padStart(2,"0")}`),a=new Date(n),r=new Date(n.setDate(n.getDate()-1));return(o=e==null?void 0:e.items)==null?void 0:o.map((s,l)=>{let u=Q(a).format("YYYYMMDD");l<=t&&(u=Q(r).format("YYYYMMDD"));const c=Math.floor(s.startTime/60).toString().padStart(2,"0"),d=Math.floor(s.startTime%60).toString().padStart(2,"0");return{period:Number(`${u}${c}${d}`),sleepStartTimeHour:e.sleepStartTimeHour,sleepStartTimeMin:e.sleepStartTimeMinute,sleepEndTimeHour:e.sleepEndTimeHour,sleepEndTimeMin:e.sleepEndTimeMins,totalSleepMin:e.totalSleepMins,lightSleepCount:e.lightSleepCount,lightSleepMin:e.lightSleepMins,deepSleepCount:e.deepSleepCount,deepSleepMin:e.deepSleepMins,awakeCount:e.awakeCount,awakeMin:e.awakeMins,remMin:e.remMins,sleepScore:e.sleepScore,level:s.level*-1,duration:s.duration,startTime:s.startTime,endTime:s.endTime}})},Uy=(e,t)=>{const n=(a,r)=>{e.post("/api/1/notice/getNoticeHeartRateInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},Gy=(e,t)=>{const n=(a,r)=>{e.post("/api/1/notice/getNoticeTempInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},GA=(e,t)=>{const n=(a,r)=>{e.post("/api/1/notice/getNoticeBloodInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},Fy=(e,t)=>{const n=(a,r)=>{e.post("/api/1/notice/getNoticeSleepInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},Hy=(e,t)=>{const n=(a,r)=>{e.post("/api/1/notice/getNoticeOxygenInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},Vy=(e,t)=>{const n=(a,r)=>{e.post("/api/1/notice/getNoticeStressInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):a({data:i.data.data})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},FA=(e,t)=>{const n=(a,r)=>{e.post("/api/1/notice/insertNoticeHeartRateInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):(window.appInterface.setHeartRateSetting({startRemindHour:0,startRemindMinute:0,endRemindHour:23,endRemindMinute:59,maxHeartRate:t.maxHeartRate,minHeartRate:0,interval:10,isEnableAutoTest:!0}),a({data:i.data.data}))}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},HA=(e,t)=>{const n=(a,r)=>{e.post("/api/1/notice/insertNoticeTempInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):window.appInterface.setTemperatureSetting({endRemindHour:23,endRemindMinute:59,interval:10,isEnableAutoTest:!0,isEnableTimePeriod:!1,isEnableWarningTemperature:t.stateReg==="Y",startRemindHour:0,startRemindMinute:0,warningTemperature:t.maxWaringTemp,warningLowTemperature:t.minWaringTemp})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},VA=(e,t)=>{const n=(a,r)=>{e.post("/api/1/notice/insertNoticeBloodInfo",t).then(i=>{i.data.resultCode===0&&(i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):window.appInterface.setBloodPreasureSetting({isEnableAutoTest:!0,isEnableTimePeriod:!1,isEnableWarningBloodpressure:t.stateReg==="Y",endRemindHour:23,endRemindMinute:59,interval:10,startRemindHour:0,startRemindMinute:0,minBloodPressure:t.minBloodPressure,maxBloodPressure:t.maxBloodPressure}))}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},YA=(e,t)=>{const n=(a,r)=>{e.post("/api/1/notice/insertNoticeSleepInfo",t).then(i=>{if(i.data.resultCode!==0)console.error(i),r("msg."+i.data.resultMsg);else{const o={PERFECT:"PERFECT",GOOD:"GOOD",OK:"OK",BAD:"BAD"};let s=o.PERFECT;Number(t.sleepQuality)/60<6?s=o.GOOD:Number(t.sleepQuality)/60<5?s=o.OK:Number(t.sleepQuality)/60<4&&(s=o.BAD),window.appInterface.setSleepQualitySetting({qualityScore:s})}}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},zA=(e,t)=>{const n=(a,r)=>{e.post("/api/1/notice/insertNoticeOxygenInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):window.appInterface.setBloodOxygenSetting({isEnableAutoTest:!0,isEnableTimePeriod:!1,isEnableWarningOxygen:t.stateReg==="Y",startRemindHour:0,startRemindMinute:0,endRemindHour:23,endRemindMinute:59,interval:10,minOxygen:t.minOxy,maxOxygen:100})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},WA=(e,t)=>{const n=(a,r)=>{e.post("/api/1/notice/insertNoticeStressInfo",t).then(i=>{i.data.resultCode!==0?(console.error(i),r("msg."+i.data.resultMsg)):window.appInterface.setStressSetting({startRemindHour:0,startRemindMinute:0,endRemindHour:23,endRemindMinute:59,interval:10,minStress:t.mixStress,maxStress:t.maxStress})}).catch(i=>{console.error(i),r("msg.RESULT_FAILED")})};return new Promise(n)},qA=be({name:"DashBoard",components:{GroupWaitingPopup:My,LocationMap:Du,LayoutHeader:Ct,GroupUsersPopup:ky,KpLink:xt,RefreshButton:Su,ChatPreview:Ay,KpImage:Xe},setup(){const e=ze(),t=ke(()=>xe(Ee.API_URL,e)),n=nt(),a=I(null),r=I(),i=I(),o=I(0),s=I(null),l=I(null),u=I(e.state.syncUpdateTime?Q(e.state.syncUpdateTime):""),c=I(!1),d=I(),h=I(!1),p=I(null),f=I(120),{HEALTH_TYPE:g}=Fe,v=I({type:g.WORKING,title:"걸음수",prefix:"걸음",value:"-",prefixSub:""}),m=I({type:g.HEARTRATE,title:"심박수",prefix:"BPM",value:"-",prefixSub:""}),y=I({type:g.TEMPERATURE,title:"체온",prefix:"°C",value:"-",prefixSub:""}),_=I({type:g.BLOODPRESSURE,title:"혈압",prefix:"mmHg",value:"-/-",prefixSub:""}),w=I({type:g.SLEEP,title:"수면",prefix:"시간",value:"-",prefixSub:""}),E=ke(()=>[v.value,m.value,y.value,_.value,w.value]),x=()=>({datasets:[{data:[100-o.value,o.value],backgroundColor:["#ffffff","rgba(44, 128, 255, 1)"],borderWidth:0,borderJoinStyle:"round",borderRadius:100}]}),S=()=>({type:"doughnut",data:x(),options:{responsive:!0,cutout:20,plugins:{legend:{display:!1},title:{display:!1},tooltip:{enabled:!1}},animation:{animateScale:!1,animateRotate:!0}}}),b=()=>{window.appInterface.getDeviceInfo(),window.appInterface.syncAll(Q(new Date).format("YYYYMMDD")),window.appInterface.getGpsInfo();let me=Q().local();z(me),e.commit(Sa,me.toDate()),F()},D=(me,le)=>{if(le){if(!i.value)return;const Ge=Qt.exports.findIndex(i.value,ht=>ht.channelIdx===le),je=G().groupList.find(ht=>ht.channelIdx===le);je&&Ge>-1&&(i.value[Ge]=je)}else i.value=G().getGroupList(),r.value=void 0,lt(()=>{i.value&&i.value.length>0&&(r.value=i.value[0])})},T=async me=>{var Ge;D(),h.value=!1,e.commit(Tr,!1);const le=G().getCurrentGroup();le?(H().userIdx!==((Ge=le==null?void 0:le.creatorInfo)==null?void 0:Ge.userIdx)&&n.replace({path:"/main-user"}),d.value===void 0&&(d.value=le.creatorInfo),F()):d.value={userIdx:H().userIdx,username:H().userName,userId:H().userId,userProfile:void 0,deviceIdx:H().deviceIdx??void 0,email:H().email,tel:H().tel,dateReg:new Date}},A=()=>{const me=(le,Ge)=>{Kr(t.value,{stateReg:hn.RESOLVE}).then(async je=>{var Ne,Qe;const ht=je.data,an=G().getCurrentGroup();if(d.value=void 0,an)d.value=an.creatorInfo;else{const Rt=G().getGroupList();Rt&&Rt.length>0&&(d.value=Rt[0].creatorInfo)}(Ne=d.value)!=null&&Ne.userProfile?a.value=Br((Qe=d.value)==null?void 0:Qe.userProfile):a.value=null,await G().updateGroupList(ht),D(),le()}).catch(je=>{Ge(je)})};return new Promise(me)},L=me=>{const le=me.detail;D(me,le),window.appInterface.getMessageType()},P=async()=>{var me;await A(),r.value=G().getCurrentGroup(),e.dispatch(Yl,(me=r.value)==null?void 0:me.groupIdx)},N=()=>{var me;i.value&&((me=i.value)==null?void 0:me.length)>0&&(c.value=!0,e.dispatch(ft,et.GROUP_USERS))},B=()=>{var me,le;if(c.value=!1,H().userIdx!==((le=(me=G().getCurrentGroup())==null?void 0:me.creatorInfo)==null?void 0:le.userIdx)){n.replace("/main-user");return}b(),lt(()=>{D()})},K=me=>{let le=JSON.parse(me.detail);switch(le.type){case"body_temp":ce(JSON.parse(le.data));break;case"bool_pressure":$(JSON.parse(le.data));break;case"heart_rate":W(JSON.parse(le.data));break;case"stress":ae(JSON.parse(le.data));break;case"sport_activity":Z(JSON.parse(le.data));break;case"oxygen":ne(JSON.parse(le.data));break;case"sleep":Y(JSON.parse(le.data));break}},ce=me=>{let le=Ly(me);le&&le.length>0&&(y.value={...y.value,value:Ae(le[le.length-1].temperature.toString())},t.value.post("/api/1/health/insertTemperature",{data:le}).then(Ge=>{Ge.data.resultCode===0&&F()}))},$=me=>{let le=Ry(me);le&&le.length>0&&(_.value={..._.value,value:`${Ae(le[le.length-1].bloodPressure)}/${Ae(le[le.length-1].bloodPressureLow)}`},t.value.post("/api/1/health/insertBloodPressure",{data:le}).then(Ge=>{Ge.data.resultCode===0&&F()}))},W=me=>{let le=Oy(me);le&&le.length>0&&(m.value={...m.value,value:Ae(le[le.length-1].heartRate)},t.value.post("/api/1/health/insertHeartRate",{data:le}).then(Ge=>{Ge.data.resultCode===0&&F()}))},ae=me=>{let le=Py(me);le&&le.length>0&&t.value.post("/api/1/health/insertStress",{data:le}).then(Ge=>{Ge.data.resultCode})},Z=me=>{let le=Ny(me);le&&le.length>0&&(v.value={...v.value,value:Ae(`${le[le.length-1].totalStepCount}`)},t.value.post("/api/1/health/insertActivity",{data:le}).then(Ge=>{Ge.data.resultCode===0&&F()}))},ne=me=>{let le=By(me);le&&le.length>0&&t.value.post("/api/1/health/insertOxygen",{data:le}).then(Ge=>{Ge.data.resultCode})},Y=me=>{let le=$y(me);if(le&&le.length>0){const Ge=le[le.length-1].totalSleepMin;w.value={...w.value,value:`${Math.floor(Ge/60).toString().padStart(2,"0")}:${(Ge%60).toString().padStart(2,"0")}`},t.value.post("/api/1/health/insertSleepTime",{data:le}).then(je=>{je.data.resultCode===0&&F()})}},q=me=>{n.push(`/health/${me}`)},ie=()=>{r.value&&(G().joinChannel(r.value.channelIdx),n.push({path:`/chat-room/${r.value.groupIdx}`}))},te=me=>{me&&t.value.post("/api/1/device/getDeviceInfo",{deviceIdx:me}).then(le=>{if(le.data.resultCode===0){let Ge=le.data.data[0];p.value=Ge,window.appInterface.doConnectDevice(Ge.macAddress)}})},X=me=>{me.detail===It.SUCCESS_BIND&&window.appInterface.getDeviceInfo()},j=me=>{let le=JSON.parse(me.detail);o.value=le.batteryLevel;let Ge={deviceIdx:H().deviceIdx,batteryLevel:le.batteryLevel,stateConnect:"Y",firmwareVersion:le.firmwareVersion!==""?"V"+le.firmwareVersion.split("V")[1]:""};t.value.post("/api/1/device/updateDeviceInfoForUser",Ge).then(je=>{}),lt(()=>{J()})},J=()=>{s.value=S(),lt(()=>{if(l.value&&s.value){let me=Ni.getChart(l.value);me&&me.destroy(),new Ni(l.value,s.value)}})},z=me=>{e.commit(Sa,me.toDate()),(u.value===""||u.value.isBefore(me))&&(u.value=me)},F=()=>{let me=Q().local();z(me);let le={userIdx:H().userIdx};t.value.post("/api/1/health/getActivity",le).then(Ge=>{let{data:je}=Ge.data;if(je&&je.length>0){let ht=je[0];const an=new Date(ht.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let Ne=Q(new Date),Qe=Q(an);Ne.diff(Qe,"days")<1?v.value={...v.value,value:Ae(ht.totalStepCount)}:v.value={...v.value,value:Ae(0)}}}),t.value.post("/api/1/health/getHeartRate",le).then(Ge=>{let{data:je}=Ge.data;if(je&&je.length>0){let ht=je[0];const an=new Date(ht.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let Ne=Q(new Date),Qe=Q(an);m.value={...m.value,value:Ae(ht.value),prefixSub:""},Q.duration(Ne.diff(Qe)).asMinutes()>f.value&&(m.value={...m.value,prefixSub:`(${Q(ht.period,"YYYYMMDDHHmm").fromNow()})`})}}),t.value.post("/api/1/health/getTemperature",le).then(Ge=>{let{data:je}=Ge.data;if(je&&je.length>0){let ht=je[0];const an=new Date(ht.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let Ne=Q(new Date),Qe=Q(an);y.value={...y.value,value:Ae(ht.value),prefixSub:""},Q.duration(Ne.diff(Qe)).asMinutes()>f.value&&(y.value={...y.value,prefixSub:`(${Q(ht.period,"YYYYMMDDHHmm").fromNow()})`})}}),t.value.post("/api/1/health/getBloodPressure",le).then(Ge=>{let{data:je}=Ge.data;if(je&&je.length>0){let ht=je[0];const an=new Date(ht.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let Ne=Q(new Date),Qe=Q(an);_.value={..._.value,value:`${Ae(ht.valueHigh)}/${Ae(ht.valueLow)}`,prefixSub:""},Q.duration(Ne.diff(Qe)).asMinutes()>f.value&&(_.value={..._.value,prefixSub:`(${Q(ht.period,"YYYYMMDDHHmm").fromNow()})`})}}),le.startDt=Number(Q(new Date).format("YYYYMMDD0000")),le.endDt=Number(Q(new Date).format("YYYYMMDD9999")),t.value.post("/api/1/health/getSleepTime",le).then(Ge=>{let{data:je}=Ge.data;if(je&&je.length>0){const ht=je[je.length-1].totalSleepMin??0;Number(ht)>0&&(w.value={...w.value,value:`${Math.floor(ht/60).toString().padStart(2,"0")}:${(ht%60).toString().padStart(2,"0")}`})}})},V=()=>{t.value.post("/api/1/device/getDeviceInfoByGroup").then(me=>{if(me.data.resultCode===0){if(me.data.data&&me.data.data.length>0&&me.data.data.filter(le=>le.userIdx===H().userIdx).length>0){let le=me.data.data.filter(Ge=>Ge.userIdx===H().userIdx);le[0].batteryLevel&&(o.value=Number(le[0].batteryLevel),J())}H().stateUpdate&&window.appInterface.setBackgroundSyncTime(Number(H().stateUpdate)*60)}}),Wn()},ue=()=>{n.push("/map")},de=()=>{h.value=!1,e.commit(Tr,!1)},Ce=async()=>{try{to(),Ui().launchChat(),await A(),D(),de()}catch(me){throw me}},Tt=me=>{me.detail===It.CONNECTED&&window.appInterface.getDeviceInfo()},Bn=me=>{me.detail===It.SUCCESS_BIND&&(Ui().launchChat(),window.appInterface.getDeviceInfo()),me.detail===It.FAILED_BIND&&te(H().deviceIdx)},Wn=()=>{let me={deviceIdx:H().deviceIdx};e.state.isHeartSetting||Uy(t.value,me).then(le=>{le.data.length>0&&window.appInterface.setHeartRateSetting({startRemindHour:0,startRemindMinute:0,endRemindHour:23,endRemindMinute:59,maxHeartRate:le.data[0].maxHeartRate,minHeartRate:0,interval:10,isEnableAutoTest:!0})}),e.state.isTempSetting||Gy(t.value,me).then(le=>{le.data.length>0&&window.appInterface.setTemperatureSetting({endRemindHour:23,endRemindMinute:59,interval:10,isEnableAutoTest:!0,isEnableTimePeriod:!1,isEnableWarningTemperature:le.data[0].stateReg==="Y",startRemindHour:0,startRemindMinute:0,warningTemperature:Number(le.data[0].maxWaringTemp).toFixed(1)})}),e.state.isSleepSetting||Fy(t.value,me).then(le=>{if(le.data.length>0){const Ge={PERFECT:"PERFECT",GOOD:"GOOD",OK:"OK",BAD:"BAD"};let je=Ge.PERFECT;Number(le.data[0].sleepQuality)<6?je=Ge.GOOD:Number(le.data[0].sleepQuality)<5?je=Ge.OK:Number(le.data[0].sleepQuality)<4&&(je=Ge.BAD),window.appInterface.setSleepQualitySetting({qualityScore:je})}}),e.state.isOxygenSetting||Hy(t.value,me).then(le=>{le.data.length>0&&window.appInterface.setBloodOxygenSetting({isEnableAutoTest:!0,isEnableTimePeriod:!1,isEnableWarningOxygen:le.data[0].stateReg==="Y",startRemindHour:0,startRemindMinute:0,endRemindHour:23,endRemindMinute:59,interval:10,minOxygen:le.data[0].maxOxy,maxOxygen:100})}),e.state.isStressSetting||Vy(t.value,me).then(le=>{le.data.length>0&&window.appInterface.setStressSetting({startRemindHour:0,startRemindMinute:0,endRemindHour:23,endRemindMinute:59,interval:10,minStress:le.data[0].maxStress,maxStress:100})})},Me=()=>{e.commit(vy,!0)},Le=()=>{e.commit(gy,!0)},ai=()=>{e.commit(my,!0)},ri=()=>{e.commit(yy,!0)},ii=()=>{e.commit(_y,!0)},to=()=>{oi(),G().addEventListener(ge.LOAD_START,D),G().addEventListener(ge.LOAD_COMPLETE,T),G().addEventListener(ge.MESSAGE_RECEIVED,L),G().addEventListener(ge.CHANGE_GROUP,P)},oi=()=>{G().removeEventListener(ge.LOAD_START,D),G().removeEventListener(ge.LOAD_COMPLETE,T),G().removeEventListener(ge.MESSAGE_RECEIVED,L),G().removeEventListener(ge.CHANGE_GROUP,P)};return He(()=>o.value,()=>{J()}),He(()=>l.value,()=>{l.value&&J()}),Ue(()=>{console.log(H()),e.state.authToken===""&&Bt(Ee.KEY_LIST.CONST.LOGIN_TOKEN)&&e.commit(Kt,Bt(Ee.KEY_LIST.CONST.LOGIN_TOKEN)),Ce(),V(),b(),window.appInterface.addEventListener(pe.GET_DEVICE_CONNECT_STATE,X),window.appInterface.addEventListener(pe.GET_DEVICE_BIND_STATE,Bn),window.appInterface.addEventListener(pe.GET_DEVICE_INFO,j),window.appInterface.addEventListener(pe.SYNC_DATA,K),window.appInterface.addEventListener(pe.GET_DEVICE_CONNECTING,Tt),window.appInterface.addEventListener(pe.HEART_SETTING_CALLBACK,Me),window.appInterface.addEventListener(pe.TEMP_SETTING_CALLBACK,Le),window.appInterface.addEventListener(pe.SLEEP_SETTING_CALLBACK,ai),window.appInterface.addEventListener(pe.OXYGEN_SETTING_CALLBACK,ri),window.appInterface.addEventListener(pe.STRESS_SETTING_CALLBACK,ii),Sy(xe(),{}).then(me=>{if(me.data.emergencyUserInfo.length>0){const le=me.data.emergencyUserInfo[0];if(le.tel){const Ge=le.tel.replace(/-/g,"");e.commit(Jo,Ge),window.appInterface.setEmergencyNum(Ge)}}})}),ot(()=>{oi(),$i(),window.appInterface.removeEventListener(pe.GET_DEVICE_CONNECT_STATE,X),window.appInterface.removeEventListener(pe.GET_DEVICE_BIND_STATE,Bn),window.appInterface.removeEventListener(pe.GET_DEVICE_INFO,j),window.appInterface.removeEventListener(pe.SYNC_DATA,K),window.appInterface.removeEventListener(pe.GET_DEVICE_CONNECTING,Tt),window.appInterface.removeEventListener(pe.HEART_SETTING_CALLBACK,Me),window.appInterface.removeEventListener(pe.TEMP_SETTING_CALLBACK,Le),window.appInterface.removeEventListener(pe.SLEEP_SETTING_CALLBACK,ai),window.appInterface.removeEventListener(pe.OXYGEN_SETTING_CALLBACK,ri),window.appInterface.removeEventListener(pe.STRESS_SETTING_CALLBACK,ii)}),{HEALTH_TYPE:g,chartRef:l,healthInfo:E,battery:o,updateTime:ke(()=>u.value===""?"":u.value.format("MM.DD a HH:mm")),groupList:i,selectedGroup:r,isOpenGroups:c,currentUserInfo:d,isOpenWaiting:h,profileImg:a,hasNoGroup:ke(()=>!i.value||i.value&&i.value.length===0),getImgUrl:Br,showMyGroupList:N,closeMyGroupList:B,getUpdateData:b,goToHealthPage:q,openChannelRoom:ie,goToLocation:ue,getNumberFormat:Ae}}}),ZA={class:"dash-board"},KA={class:"board user-info flex items-center w-full px-[20px] pb-[20px]"},XA={class:"flex-none thumbnail mr-px"},jA={class:"name-space w-[calc(100%_-_150px)] flex-col ml-[15px]"},JA={class:"user-name flex items-center"},QA={key:0,class:"mr-[5px] truncate"},ek={key:1,class:"mr-[5px]"},tk={key:0,class:"user-id mt-[5px]"},nk={key:1,class:"user-id mt-[5px]"},ak={class:"w-[40px] ml-[10px]"},rk={key:0,class:"battery-wrapper"},ik={class:"battery flex items-center justify-center"},ok={class:"battery-img"},sk={class:"chart-wrapper",style:{"max-width":"48px"}},lk={ref:"chartRef"},uk={class:"battery-percent"},ck={key:1,class:"battery-wrapper"},dk={class:"battery-empty w-[40px] h-[40px] rounded-[50%] flex items-center justify-center mb-[10px] mt-[10px]"},hk={class:"w-[40px] h-[19px] flex justify-center items-start"},pk={class:"info px-[20px] pt-[30px]"},fk={class:"title-wrapper flex justify-between items-center mb-[10px]"},vk=C("h2",{class:"title"},"건강정보 - 개발",-1),gk={class:"flex flex-row items-center"},mk={class:"time-refresh"},yk={class:"contents-wrapper grid grid-cols-3 gap-[10px]"},_k=["onClick"],Ck={class:"flex justify-between items-center w-full px-[10px]"},wk={class:"title"},xk={class:"icon"},Ek={class:"prefix"},bk={key:0,class:"prefix-sub"},Sk={class:"chat-wrapper info px-[20px] pt-[30px] pb-[110px]"},Dk={class:"title-wrapper flex justify-between items-center mb-[10px]"},Tk=C("h2",{class:"title"},"채팅",-1),Ik={class:"flex flex-row items-center"},Ak=se("더보기"),kk={class:"preview-wrapper"},Mk={key:1,class:"empty-chat w-full text-center pt-[33px]"};function Lk(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-image"),l=U("kp-link"),u=U("refresh-button"),c=U("location-map"),d=U("chat-preview"),h=U("GroupUsersPopup"),p=U("GroupWaitingPopup");return k(),O(Ie,null,[M(o),C("section",ZA,[C("article",KA,[C("div",XA,[e.profileImg?(k(),fe(s,{key:1,src:e.profileImg,class:"rounded-full object-cover w-[80px] h-[80px]"},null,8,["src"])):(k(),fe(s,{key:0,src:"images/view/default-profile.svg"},null,8,["src"]))]),C("div",jA,[C("div",JA,[e.currentUserInfo?(k(),O("span",QA,ee(e.currentUserInfo.username),1)):e.hasNoGroup||!e.currentUserInfo?(k(),O("span",ek,"사용자")):re("",!0),M(l,{link:"#",class:"min-w-[20px] h-[20px]","on-click":e.showMyGroupList},{default:ve(()=>[M(s,{src:"images/common/main-arrow-down.svg"},null,8,["src"])]),_:1},8,["on-click"])]),e.currentUserInfo?(k(),O("div",tk,ee(e.currentUserInfo.userId),1)):e.hasNoGroup||!e.currentUserInfo?(k(),O("div",nk,"BuddyCare")):re("",!0)]),C("div",ak,[e.currentUserInfo?(k(),O("div",rk,[C("div",ik,[C("div",ok,[C("span",{style:ws({width:e.battery+"%"})},null,4)]),C("div",sk,[C("canvas",lk,null,512)])]),C("div",uk,ee(e.battery)+"%",1)])):e.hasNoGroup||!e.currentUserInfo?(k(),O("div",ck,[C("div",dk,[M(s,{class:"w-[25px] h-[25px]",src:"images/icon/icon-base-battery.svg"})]),C("div",hk,[M(s,{class:"w-[25px] h-[19px]",src:"images/icon/icon-base-percent.svg"})])])):re("",!0)])]),C("article",pk,[C("div",fk,[vk,C("div",gk,[C("span",mk,ee(e.updateTime),1),M(u,{onClick:e.getUpdateData},null,8,["onClick"])])]),C("div",yk,[(k(!0),O(Ie,null,gt(e.healthInfo,f=>(k(),O("div",{key:`${f.type}_${f.value}`,class:ye(["board detail-info flex flex-col justify-between",f.type]),onClick:g=>e.goToHealthPage(f.type)},[C("div",Ck,[C("span",wk,ee(f.title),1),C("span",xk,[M(s,{src:`images/icon/ico-main-${f.type}.svg`},null,8,["src"])])]),C("div",{class:ye(["value",f.prefixSub?"prev":""])},[se(ee(f.value)+" ",1),C("div",Ek,[se(ee(f.prefix)+" ",1),f.prefixSub?(k(),O("span",bk,ee(f.prefixSub?`${f.prefixSub}`:""),1)):re("",!0)])],2)],10,_k))),128)),C("div",{class:"board detail-info map",onClick:t[0]||(t[0]=(...f)=>e.goToLocation&&e.goToLocation(...f))},[M(c)])])]),C("article",Sk,[C("div",Dk,[Tk,C("div",Ik,[M(l,{link:"#","on-click":e.openChannelRoom,class:"btn-more flex items-center justify-center"},{default:ve(()=>[Ak]),_:1},8,["on-click"])])]),C("div",kk,[e.selectedGroup&&e.selectedGroup.messageList.length>0?(k(),fe(d,{key:0})):(k(),O("div",Mk,"돌봄그룹에서 대화를 시작해보세요!"))])]),e.isOpenGroups?(k(),fe(h,{key:0,to:"group-users","close-handler":e.closeMyGroupList,class:"group-users-popup relative"},null,8,["close-handler"])):re("",!0),e.isOpenWaiting?(k(),fe(p,{key:1})):re("",!0)])],64)}const Rk=Se(qA,[["render",Lk]]),Ok=be({name:"DashBoard",components:{GroupWaitingPopup:My,LocationMap:Du,LayoutHeader:Ct,GroupUsersPopup:ky,KpLink:xt,RefreshButton:Su,ChatPreview:Ay,KpButton:yt,KpImage:Xe},setup(){const e=ze(),t=nt(),n=I(null),a=I(),r=I(),i=I(0),o=I(null),s=I(null),l=I(e.state.syncUpdateTime?Q(e.state.syncUpdateTime):""),u=I(!1),c=I(),d=ke(()=>xe(Ee.API_URL,e)),h=I(!1),p=I(120),{HEALTH_TYPE:f}=Fe,g=I({type:f.WORKING,title:"걸음수",prefix:"걸음",value:"-",prefixSub:""}),v=I({type:f.HEARTRATE,title:"심박수",prefix:"BPM",value:"-",prefixSub:""}),m=I({type:f.TEMPERATURE,title:"체온",prefix:"°C",value:"-",prefixSub:""}),y=I({type:f.BLOODPRESSURE,title:"혈압",prefix:"mmHg",value:"-/-",prefixSub:""}),_=I({type:f.SLEEP,title:"수면",prefix:"시간",value:"-",prefixSub:""}),w=ke(()=>[g.value,v.value,m.value,y.value,_.value]),E=()=>({datasets:[{data:[100-i.value,i.value],backgroundColor:["#ffffff","rgba(44, 128, 255, 1)"],borderWidth:0,borderJoinStyle:"round",borderRadius:100}]}),x=()=>({type:"doughnut",data:E(),options:{responsive:!0,cutout:20,plugins:{legend:{display:!1},title:{display:!1},tooltip:{enabled:!1}},animation:{animateScale:!1,animateRotate:!0}}}),S=async()=>{var te,X;H().userType===De.USER_DEVICE?H().userIdx===((X=(te=G().getCurrentGroup())==null?void 0:te.creatorInfo)==null?void 0:X.userIdx)?(window.appInterface.getDeviceInfo(),window.appInterface.syncAll(Q(new Date).format("YYYYMMDD")),window.appInterface.getGpsInfo()):Y():H().userType===De.USER&&Y(),W()},b=(te,X)=>{if(X){if(!r.value)return;const j=Qt.exports.findIndex(r.value,z=>z.channelIdx===X),J=G().groupList.find(z=>z.channelIdx===X);J&&j>-1&&(r.value[j]=J)}else r.value=G().getGroupList(),lt(()=>{r.value&&r.value.length>0&&(a.value=r.value[0])})},D=async te=>{await T(),b(),H().userType===De.USER_DEVICE?(h.value=!1,e.commit(Tr,!1)):(h.value=G().getGroupList().length<1,e.commit(Tr,G().getGroupList().length<1)),S()},T=()=>{const te=(X,j)=>{Kr(d.value,{stateReg:hn.RESOLVE}).then(J=>{var F,V;const z=J.data;if(G().groupList.length===z.length){for(let de=0;de<z.length;de++){let Ce=G().groupList.findIndex(Tt=>{var Bn,Wn;return((Bn=Tt.creatorInfo)==null?void 0:Bn.userIdx)===((Wn=z[de].creatorInfo)==null?void 0:Wn.userIdx)});G().groupList[Ce].creatorInfo=z[de].creatorInfo}const ue=G().getCurrentGroup();if(ue)c.value=ue.creatorInfo;else{const de=G().getGroupList();de&&de.length>0?c.value=de[0].creatorInfo:c.value=void 0}(F=c.value)!=null&&F.userProfile?n.value=Br((V=c.value)==null?void 0:V.userProfile):n.value=null}X()}).catch(J=>{j(J)})};return new Promise(te)},A=te=>{const X=te.detail;b(te,X)},L=async()=>{var te;await T(),a.value=G().getCurrentGroup(),G().getCurrentGroup()===void 0&&(h.value=G().getGroupList().length<1,e.commit(Tr,G().getGroupList().length<1),g.value={type:f.WORKING,title:"걸음수",prefix:"걸음",value:"-",prefixSub:""},v.value={type:f.HEARTRATE,title:"심박수",prefix:"BPM",value:"-",prefixSub:""},m.value={type:f.TEMPERATURE,title:"체온",prefix:"°C",value:"-",prefixSub:""},y.value={type:f.BLOODPRESSURE,title:"혈압",prefix:"mmHg",value:"-/-",prefixSub:""},_.value={type:f.SLEEP,title:"수면",prefix:"시간",value:"-",prefixSub:""}),e.dispatch(Yl,(te=a.value)==null?void 0:te.groupIdx)},P=()=>{var te;r.value&&((te=r.value)==null?void 0:te.length)>0&&(u.value=!0,e.dispatch(ft,et.GROUP_USERS))},N=()=>{var te,X,j,J;u.value=!1,H().userIdx!==((X=(te=G().getCurrentGroup())==null?void 0:te.creatorInfo)==null?void 0:X.userIdx)?t.replace("/main-user"):H().userIdx===((J=(j=G().getCurrentGroup())==null?void 0:j.creatorInfo)==null?void 0:J.userIdx)&&t.replace("/main-device"),S()},B=te=>{t.push(`/health/${te}`)},K=()=>{a.value&&(G().joinChannel(a.value.channelIdx),t.push({path:`/chat-room/${a.value.groupIdx}`}))},ce=()=>{if(o.value=x(),s.value&&o.value){let te=Ni.getChart(s.value);te&&te.destroy(),new Ni(s.value,o.value)}},$=te=>{e.commit(Sa,te.toDate()),(l.value===""||l.value.isBefore(te))&&(l.value=te)},W=()=>{var j,J;let te=Q().local();$(te);const X=(J=(j=G().getCurrentGroup())==null?void 0:j.creatorInfo)==null?void 0:J.userIdx;if(X){let z={userIdx:X};d.value.post("/api/1/health/getActivity",z).then(F=>{let{data:V}=F.data;if(V&&V.length>0){let ue=V[0];const de=new Date(ue.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let Ce=Q(new Date),Tt=Q(de);Ce.diff(Tt,"days")<1?g.value={...g.value,value:Ae(ue.totalStepCount)}:g.value={...g.value,value:Ae(0)}}}),d.value.post("/api/1/health/getHeartRate",z).then(F=>{let{data:V}=F.data;if(V&&V.length>0){let ue=V[0];const de=new Date(ue.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let Ce=Q(new Date),Tt=Q(de);v.value={...v.value,value:Ae(ue.value),prefixSub:""},Q.duration(Ce.diff(Tt)).asMinutes()>p.value&&(v.value={...v.value,prefixSub:`(${Q(ue.period,"YYYYMMDDHHmm").fromNow()})`})}}),d.value.post("/api/1/health/getTemperature",z).then(F=>{let{data:V}=F.data;if(V&&V.length>0){let ue=V[0];const de=new Date(ue.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let Ce=Q(new Date),Tt=Q(de);m.value={...m.value,value:Ae(ue.value),prefixSub:""},Q.duration(Ce.diff(Tt)).asMinutes()>p.value&&(m.value={...m.value,prefixSub:`(${Q(ue.period,"YYYYMMDDHHmm").fromNow()})`})}}),d.value.post("/api/1/health/getBloodPressure",z).then(F=>{let{data:V}=F.data;if(V&&V.length>0){let ue=V[0];const de=new Date(ue.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let Ce=Q(new Date),Tt=Q(de);y.value={...y.value,value:`${Ae(ue.valueHigh)}/${Ae(ue.valueLow)}`,prefixSub:""},Q.duration(Ce.diff(Tt)).asMinutes()>p.value&&(y.value={...y.value,prefixSub:`(${Q(ue.period,"YYYYMMDDHHmm").fromNow()})`})}}),z.startDt=Number(Q(new Date).format("YYYYMMDD0000")),z.endDt=Number(Q(new Date).format("YYYYMMDD9999")),d.value.post("/api/1/health/getSleepTime",z).then(F=>{let{data:V}=F.data;if(V&&V.length>0){const ue=V[V.length-1].totalSleepMin??0;Number(ue)>0&&(_.value={..._.value,value:`${Math.floor(ue/60).toString().padStart(2,"0")}:${(ue%60).toString().padStart(2,"0")}`})}})}},ae=()=>{t.push("/map")},Z=()=>{G().isReady&&(h.value=G().getGroupList().length<1,e.commit(Tr,G().getGroupList().length<1))},ne=async()=>{try{q(),await T(),Ui().launchChat(),b(),Z()}catch(te){throw te}},Y=()=>{xe(Ee.API_URL,e).post("/api/1/device/getDeviceInfoByGroup").then(te=>{if(te.data.resultCode===0){let X=te.data.data.filter(j=>{var J;return j.groupIdx===((J=G().getCurrentGroup())==null?void 0:J.groupIdx)});if(X&&X.length>0){const{deviceName:j,macAddress:J,firmwareVersion:z,batteryLevel:F,stateConnect:V}=X[0];i.value=isNaN(F)?0:Number(F)}}})},q=()=>{ie(),G().addEventListener(ge.LOAD_START,b),G().addEventListener(ge.LOAD_COMPLETE,D),G().addEventListener(ge.MESSAGE_RECEIVED,A),G().addEventListener(ge.CHANGE_GROUP,L)},ie=()=>{G().removeEventListener(ge.LOAD_START,b),G().removeEventListener(ge.LOAD_COMPLETE,D),G().removeEventListener(ge.MESSAGE_RECEIVED,A),G().removeEventListener(ge.CHANGE_GROUP,L)};return He(()=>i.value,()=>{ce()}),He(()=>s.value,()=>{s.value&&ce()}),Ue(()=>{e.state.authToken===""&&Bt(Ee.KEY_LIST.CONST.LOGIN_TOKEN)&&e.commit(Kt,Bt(Ee.KEY_LIST.CONST.LOGIN_TOKEN)),ne()}),ot(()=>{ie(),$i()}),{HEALTH_TYPE:f,chartRef:s,healthInfo:w,battery:i,updateTime:ke(()=>l.value===""?"":l.value.format("MM.DD a HH:mm")),groupList:r,selectedGroup:a,isOpenGroups:u,currentUserInfo:c,isOpenWaiting:h,profileImg:n,hasNoGroup:ke(()=>!r.value||r.value&&r.value.length===0),getImgUrl:Br,showMyGroupList:P,closeMyGroupList:N,getUpdateData:S,goToHealthPage:B,openChannelRoom:K,goToLocation:ae}}}),Pk={class:"dash-board"},Nk={class:"board user-info flex items-center w-full px-[20px] pb-[20px]"},Bk={class:"flex-none thumbnail mr-px"},$k={class:"name-space w-[calc(100%_-_150px)] flex-col ml-[15px]"},Uk={class:"user-name flex items-center"},Gk={key:0,class:"mr-[5px] truncate"},Fk={key:1,class:"mr-[5px]"},Hk={key:0,class:"user-id mt-[5px]"},Vk={key:1,class:"user-id mt-[5px]"},Yk={class:"w-[40px] ml-[10px]"},zk={key:0,class:"battery-wrapper"},Wk={class:"battery flex items-center justify-center"},qk={class:"battery-img"},Zk={class:"chart-wrapper",style:{"max-width":"48px"}},Kk={ref:"chartRef"},Xk={class:"battery-percent"},jk={key:1,class:"battery-wrapper"},Jk={class:"battery-empty w-[48px] h-[48px] rounded-[50%] flex items-center justify-center mb-[10px] mt-[0px]"},Qk={class:"w-[40px] h-[19px] flex justify-center items-start"},eM={class:"info px-[20px] pt-[30px]"},tM={class:"title-wrapper flex justify-between items-center mb-[10px]"},nM=C("h2",{class:"title"},"건강정보 - 개발",-1),aM={class:"flex flex-row items-center"},rM={class:"time-refresh"},iM={class:"contents-wrapper grid grid-cols-3 gap-[10px]"},oM=["onClick"],sM={class:"flex justify-between items-center w-full px-[10px]"},lM={class:"title"},uM={class:"icon"},cM={class:"value"},dM={class:"prefix"},hM={class:"chat-wrapper info px-[20px] pt-[30px] pb-[110px]"},pM={class:"title-wrapper flex justify-between items-center mb-[10px]"},fM=C("h2",{class:"title"},"채팅",-1),vM={class:"flex flex-row items-center"},gM=se("더보기"),mM={class:"preview-wrapper"},yM={key:1,class:"empty-chat w-full text-center pt-[33px]"};function _M(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-image"),l=U("kpImage"),u=U("kp-link"),c=U("refresh-button"),d=U("location-map"),h=U("chat-preview"),p=U("group-users-popup"),f=U("group-waiting-popup");return k(),O(Ie,null,[M(o),C("section",Pk,[C("article",Nk,[C("div",Bk,[e.profileImg?(k(),fe(s,{key:1,src:e.profileImg,class:"rounded-full object-cover w-[80px] h-[80px]"},null,8,["src"])):(k(),fe(s,{key:0,src:"images/view/default-profile.svg"},null,8,["src"]))]),C("div",$k,[C("div",Uk,[e.currentUserInfo?(k(),O("span",Gk,ee(e.currentUserInfo.username??"-"),1)):e.hasNoGroup||!e.currentUserInfo?(k(),O("span",Fk,"사용자")):re("",!0),M(u,{link:"#",class:"min-w-[20px] h-[20px]","on-click":e.showMyGroupList},{default:ve(()=>[M(l,{src:"images/common/main-arrow-down.svg"},null,8,["src"])]),_:1},8,["on-click"])]),e.currentUserInfo?(k(),O("div",Hk,ee(e.currentUserInfo.userId),1)):e.hasNoGroup||!e.currentUserInfo?(k(),O("div",Vk,"BuddyCare")):re("",!0)]),C("div",Yk,[e.currentUserInfo?(k(),O("div",zk,[C("div",Wk,[C("div",qk,[C("span",{style:ws({width:e.battery+"%"})},null,4)]),C("div",Zk,[C("canvas",Kk,null,512)])]),C("div",Xk,ee(e.battery)+"%",1)])):e.hasNoGroup||!e.currentUserInfo?(k(),O("div",jk,[C("div",Jk,[M(s,{class:"w-[25px] h-[25px]",src:"images/icon/icon-base-battery.svg"})]),C("div",Qk,[M(s,{class:"w-[25px] h-[19px]",src:"images/icon/icon-base-percent.svg"})])])):re("",!0)])]),C("article",eM,[C("div",tM,[nM,C("div",aM,[C("span",rM,ee(e.updateTime),1),M(c,{onClick:e.getUpdateData},null,8,["onClick"])])]),C("div",iM,[(k(!0),O(Ie,null,gt(e.healthInfo,g=>(k(),O("div",{key:`${g.type}_${g.value}`,class:ye(["board detail-info flex flex-col justify-between",g.type]),onClick:v=>e.goToHealthPage(g.type)},[C("div",sM,[C("span",lM,ee(g.title),1),C("span",uM,[M(s,{src:`images/icon/ico-main-${g.type}.svg`},null,8,["src"])])]),C("div",cM,[se(ee(g.value)+" ",1),C("div",dM,ee(g.prefix),1)])],10,oM))),128)),C("div",{class:"board detail-info map",onClick:t[0]||(t[0]=(...g)=>e.goToLocation&&e.goToLocation(...g))},[e.selectedGroup?(k(),fe(d,{key:0,"is-group-empty":e.isOpenWaiting},null,8,["is-group-empty"])):re("",!0)])])]),C("article",hM,[C("div",pM,[fM,C("div",vM,[M(u,{link:"#","on-click":e.openChannelRoom,class:"btn-more flex items-center justify-center"},{default:ve(()=>[gM]),_:1},8,["on-click"])])]),C("div",mM,[e.selectedGroup&&e.selectedGroup.messageList.length>0?(k(),fe(h,{key:0})):(k(),O("div",yM,"돌봄그룹에서 대화를 시작해보세요!"))])]),e.isOpenGroups?(k(),fe(p,{key:0,to:"group-users","close-handler":e.closeMyGroupList,class:"group-users-popup relative"},null,8,["close-handler"])):re("",!0),e.isOpenWaiting?(k(),fe(f,{key:1})):re("",!0)])],64)}const CM=Se(Ok,[["render",_M]]),wM=be({name:"ChatPreviewManager",components:{KpImage:Xe,KpLink:xt},props:{selectedGroup:{type:Object,required:!1}},setup(e){ze();const t=nt(),n=I(),a=I(!1),r=ke(()=>e.selectedGroup),i=I(),o=I([]),s=()=>{var f;if(o.value=[],r.value){const g=G().getGroup((f=r.value)==null?void 0:f.groupIdx),v=g==null?void 0:g.messageList,m=[oe.EMERGENCY,oe.TEXT,oe.IMAGE,oe.VIDEO,oe.EMERGENCY_VIDEO,oe.EMERGENCY_IMAGE,oe.EMERGENCY_ALARM];if(v){let y=v.length,_=2;const w=[];for(let E=y-1;E>=0;E--)_>0&&m.includes(v[E].messageType)&&(w.push({messageBody:v[E].messageBody,messageSeq:v[E].messageSeq,messageType:v[E].messageType,fileInfo:v[E].fileInfo,dateReg:v[E].dateReg,userId:v[E].userId,username:v[E].username,userProfile:v[E].userProfile}),--_);o.value=w}}},l=()=>{var f;r.value&&(a.value=(f=r.value)==null?void 0:f.isUpdated())},u=()=>{for(const f of o.value)if([oe.VIDEO,oe.IMAGE,oe.EMERGENCY_VIDEO,oe.EMERGENCY_IMAGE].indexOf(f.messageType)>-1)try{if(f.fileInfo){const v=JSON.parse(f.fileInfo)[0].fileOriginName;v&&(f.messageBody=v)}}catch{}},c=()=>{r.value&&(G().joinChannel(r.value.channelIdx),t.push({path:`/chat-room/${r.value.groupIdx}`}))},d=f=>{var v;const g=f.detail;((v=r.value)==null?void 0:v.channelIdx)===g&&(s(),l(),p(),u())},h=()=>{s(),l(),p(),u()},p=()=>{for(const f of o.value){const g=new Date,v=Q(g).format("LL"),m=Q(f.dateReg).format("LL"),y=g.getFullYear(),_=f.dateReg.getFullYear();if(v===m)f.viewDate=Q(f.dateReg).format("LT");else if(y===_)f.viewDate=Q(f.dateReg).format("MMM Do").toString();else{const w=f.dateReg.getDate(),E=f.dateReg.getMonth()+1,x=f.dateReg.getFullYear();f.viewDate=`${x}년 ${Number(E)<10?"0"+E:E}월 ${Number(w)<10?"0"+w:w}일`}}};return Ue(()=>{h(),G().addEventListener(ge.MESSAGE_RECEIVED,d)}),ot(()=>{G().removeEventListener(ge.MESSAGE_RECEIVED,d)}),{MessageType:oe,lastMessage:n,isUpdated:a,viewDate:i,recentMessageList:o,parsedImgSrc:dn,openChannelRoom:c,isEmergency:ke(()=>o.value.filter(f=>f.messageType===oe.EMERGENCY||f.messageType===oe.EMERGENCY_ALARM).length>0)}}}),xM={class:"chat-manager-dashboard-wrapper h-full"},EM={class:"message-wrapper mb-[20px]"},bM={class:"message-info flex justify-start justify-between items-center"},SM={class:"flex flex-row w-[calc(100%_-_100px)]"},DM={class:"overflow-hidden text-ellipsis w-[100%] whitespace-nowrap"},TM={class:'class="userId font-bold'},IM=se(" : "),AM={class:"message-body truncate"},kM={class:"date"};function MM(e,t,n,a,r,i){const o=U("kp-link");return k(),O("div",xM,[C("div",EM,[M(o,{link:"#",class:ye(["message-area flex flex-col items-center px-[15px] mb-[10px] rounded-[15px] py-[5px]",{emergency:e.isEmergency}]),"on-click":e.openChannelRoom},{default:ve(()=>[(k(!0),O(Ie,null,gt(e.recentMessageList,s=>(k(),O("div",{class:"w-full",key:`${s.messageSeq}`},[C("div",bM,[C("div",SM,[C("p",DM,[C("span",TM,ee(s.username),1),IM,C("span",AM,ee(s.messageBody),1)])]),C("span",kM,ee(s.viewDate),1)])]))),128))]),_:1},8,["class","on-click"])])])}const LM=Se(wM,[["render",MM]]),RM=be({name:"UserInfo",components:{KpLink:xt,KpImage:Xe},props:{currentGroup:{type:Object,required:!0},needWatch:{type:Boolean,default:!1}},setup(e){const t=ze(),n=nt(),a=I(0),r=I(null),i=I(null),o=I(null),s=ke(()=>e.currentGroup),l=I(!1),u=I(),c=()=>{var v;if(s.value)try{const m=(v=s.value.creatorInfo)==null?void 0:v.userProfile;u.value=dn(m)}catch{}},d=()=>{var v,m;return{datasets:[{data:[100-a.value,a.value],backgroundColor:[e.needWatch&&((v=s.value)!=null&&v.emergencyState)?"#DC2626":"#ffffff",e.needWatch&&((m=s.value)!=null&&m.emergencyState)?"#FFFFFF":"rgba(44, 128, 255, 1)"],borderWidth:0,borderJoinStyle:"round",borderRadius:100}]}},h=()=>({type:"doughnut",data:d(),options:{responsive:!0,cutout:20,plugins:{legend:{display:!1},title:{display:!1}},animation:{animateScale:!1,animateRotate:!0}}}),p=()=>{G().setCurrentGroup(s.value.groupIdx),n.push({path:"/health"})},f=()=>{var v,m;if(s.value)if((v=s.value.creatorInfo)!=null&&v.deviceIdx)try{xe(Ee.API_URL,t).post("/api/1/device/getDeviceInfo",{deviceIdx:(m=s.value.creatorInfo)==null?void 0:m.deviceIdx}).then(y=>{if(y.data.resultCode===0){const{batteryLevel:_}=y.data.data[0];a.value=Number(_),l.value=!0,lt(()=>{g()})}})}catch{}else l.value=!1},g=()=>{if(r.value=h(),i.value){let v=Ni.getChart(i.value);v&&v.destroy()}i.value&&r.value&&new Ni(i.value,r.value)};return He(()=>a.value,()=>{g()}),He(()=>i.value,()=>{i.value&&g()}),Ue(()=>{c(),f()}),ot(()=>{}),{group:s,chartRef:i,chartRefEmergency:o,battery:a,batteryVisible:l,userProfile:u,handleSelectUser:p,creatorProfileResolver:c}}}),OM={key:1,class:"w-[80px] h-[80px] mr-[25px] profile-background"},PM={class:"inline-flex flex-col"},NM={key:0,class:"battery-wrapper h-full py-[25px]"},BM={key:1,class:"battery-img"},$M={class:"chart-wrapper",style:{"max-width":"48px"}},UM=["id"],GM={key:1,class:"battery-wrapper h-full py-[25px]"},FM={class:"battery-empty w-[40px] h-[40px] rounded-[50%] flex items-center justify-center mb-[10px]"},HM={class:"w-[40px] h-[40px] flex justify-center items-start"};function VM(e,t,n,a,r,i){const o=U("kp-image");return k(),O("div",{class:ye(["user-info-wrapper manager-box-shadow w-full h-[120px] flex justify-between items-center bg-[#fff] px-[25px] rounded-[15px]",{emergency:e.group.emergencyState&&e.needWatch}])},[C("div",{class:"inline-flex flex-row justify-center items-center",onClick:t[0]||(t[0]=Ka((...s)=>e.handleSelectUser&&e.handleSelectUser(...s),["stop","prevent"]))},[e.userProfile?(k(),fe(o,{key:0,class:"w-[80px] h-[80px] mr-[25px] rounded-[50%] object-cover",src:e.userProfile,onClick:Ka(e.handleSelectUser,["stop","prevent"])},null,8,["src","onClick"])):(k(),O("div",OM,[M(o,{src:"/images/common/base-profile.svg"})])),C("div",PM,[e.group&&e.group.creatorInfo?(k(),O("span",{key:0,class:ye(["inline-flex name mb-[5px]",{emergency:e.group.emergencyState&&e.needWatch}])},ee(e.group.creatorInfo.username),3)):re("",!0),e.group&&e.group.creatorInfo?(k(),O("span",{key:1,class:ye(["inline-flex id",{emergency:e.group.emergencyState&&e.needWatch}])},ee(e.group.creatorInfo.userId),3)):re("",!0)])]),e.batteryVisible?(k(),O("div",NM,[C("div",{class:ye(["battery flex items-center justify-center",{emergency:e.group.emergencyState&&e.needWatch}])},[e.group.emergencyState&&e.needWatch?(k(),fe(o,{key:0,src:"images/icon/ico-battery-white.svg"})):(k(),O("div",BM,[C("span",{style:ws({width:e.battery+"%"})},null,4)])),C("div",$M,[C("canvas",{ref:"chartRef",id:e.group.groupIdx},null,8,UM)])],2),C("div",{class:ye(["battery-percent pt-[10px] text-center",{emergency:e.group&&e.group.emergencyState&&e.needWatch}])},ee(e.battery)+"%",3)])):(k(),O("div",GM,[C("div",FM,[M(o,{class:"w-[25px] h-[25px]",src:"images/icon/icon-base-battery.svg"})]),C("div",HM,[M(o,{class:"w-[25px] h-[19px]",src:"images/icon/icon-base-percent.svg"})])]))],2)}const Yy=Se(RM,[["render",VM]]),YM=be({name:"HealthInfo",props:{currentGroup:{type:Object,required:!1},isUpdateData:{type:Boolean,required:!0},setDashboardUpdateTime:{type:Function,required:!1}},components:{KpImage:Xe},setup(e){const t=ze(),n=nt(),a=Ze(e,"currentGroup"),r=Ze(e,"isUpdateData"),i=ke(()=>xe(Ee.API_URL,t)),{HEALTH_TYPE:o}=Fe,s=I(t.state.syncUpdateTime?Q(t.state.syncUpdateTime):""),l=I(120),u=I({type:o.WORKING,title:"걸음수",prefix:"걸음",value:"-"}),c=I({type:o.HEARTRATE,title:"심박수",prefix:"BPM",value:"-"}),d=I({type:o.TEMPERATURE,title:"체온",prefix:"°C",value:"-"}),h=I({type:o.BLOODPRESSURE,title:"혈압",prefix:"mmHg",value:"-/-"}),p=I({type:o.SLEEP,title:"수면",prefix:"시간",value:"-"}),f=ke(()=>[u.value,c.value,d.value,h.value,p.value]),g=y=>{t.commit(Sa,y.toDate()),(s.value===""||s.value.isBefore(y))&&(s.value=y),t.commit(Sa,y.toDate()),e.setDashboardUpdateTime&&e.setDashboardUpdateTime(s.value)},v=()=>{var _,w;let y={userIdx:(w=(_=a.value)==null?void 0:_.creatorInfo)==null?void 0:w.userIdx};i.value.post("/api/1/health/getActivity",y).then(E=>{let{data:x}=E.data;if(x&&x.length>0){let S=x[0],b=Q.utc(S.dateReg).local();g(b);const D=new Date(S.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let T=Q(new Date),A=Q(D);T.diff(A,"days")<1?u.value={...u.value,value:Ae(S.totalStepCount)}:u.value={...u.value,value:Ae(0)}}}),i.value.post("/api/1/health/getHeartRate",y).then(E=>{let{data:x}=E.data;if(x&&x.length>0){let S=x[0],b=Q.utc(S.dateReg).local();g(b);const D=new Date(S.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let T=Q(new Date),A=Q(D);Q.duration(T.diff(A)).asMinutes()<l.value&&(c.value={...c.value,value:Ae(S.value)})}}),i.value.post("/api/1/health/getTemperature",y).then(E=>{let{data:x}=E.data;if(x&&x.length>0){let S=x[0],b=Q.utc(S.dateReg).local();g(b);const D=new Date(S.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let T=Q(new Date),A=Q(D);Q.duration(T.diff(A)).asMinutes()<l.value&&(d.value={...d.value,value:Ae(S.value)})}}),i.value.post("/api/1/health/getBloodPressure",y).then(E=>{let{data:x}=E.data;if(x&&x.length>0){let S=x[0],b=Q.utc(S.dateReg).local();g(b);const D=new Date(S.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let T=Q(new Date),A=Q(D);Q.duration(T.diff(A)).asMinutes()<l.value&&(h.value={...h.value,value:`${Ae(S.valueHigh)}/${Ae(S.valueLow)}`})}}),y.startDt=Number(Q(new Date).format("YYYYMMDD0000")),y.endDt=Number(Q(new Date).format("YYYYMMDD9999")),i.value.post("/api/1/health/getSleepTime",y).then(E=>{let{data:x}=E.data;if(x&&x.length>0){let S=Q.utc(x[x.length-1].dateReg).local();g(S);const b=x[x.length-1].totalSleepMin;p.value={...p.value,value:`${Math.floor(b/60).toString().padStart(2,"0")}:${(b%60).toString().padStart(2,"0")}`}}})},m=y=>{var _;n.push(`/health/${y}?group=${(_=a.value)==null?void 0:_.groupIdx}`)};return He(()=>r.value,()=>{v()}),Ue(()=>{v()}),{healthInfo:f,goToHealthPage:m}}}),zM=["onClick"],WM={class:"flex justify-between items-center w-full px-[10px]"},qM={class:"title"},ZM={class:"icon"},KM={class:"value text-center"},XM={class:"prefix mt-[5px]"};function jM(e,t,n,a,r,i){const o=U("kp-image");return k(!0),O(Ie,null,gt(e.healthInfo,s=>(k(),O("div",{key:s.type,class:ye(["detail-info flex flex-col justify-between max-w-[100%] w-[105px] h-[120px] rounded-[15px] pt-[15px] pb-[10px]",s.type]),onClick:l=>e.goToHealthPage(s.type)},[C("div",WM,[C("span",qM,ee(s.title),1),C("span",ZM,[M(o,{src:`images/icon/ico-main-${s.type}.svg`},null,8,["src"])])]),C("div",KM,[se(ee(s.value)+" ",1),C("div",XM,ee(s.prefix),1)])],10,zM))),128)}const JM=Se(YM,[["render",jM]]),QM=be({name:"UserDashboard",props:{currentGroup:{type:Object,required:!0},isUpdateData:{type:Boolean,required:!0},setDashboardUpdateTime:{type:Function,required:!1}},components:{HealthInfo:JM,UserInfo:Yy,LocationMap:Du,ChatManagerDashBoard:LM},setup(e){ze();const t=nt(),n=I(!1);return{goToLocation:i=>{i?t.push(`/map?groupIdx=${i}`):t.push("/map")},isOpenInfo:n,setCollapseInfo:()=>{n.value=!n.value}}}}),eL={key:0,class:"w-full mt-[20px] flex flex-wrap justify-between"},tL={class:"device-info-wrapper dash-board-manager-health h-[250px] mb-[20px]"},nL={class:"contents-wrapper grid grid-cols-3 gap-[10px]"};function aL(e,t,n,a,r,i){const o=U("user-info"),s=U("health-info"),l=U("location-map"),u=U("chat-manager-dash-board");return k(),O(Ie,null,[M(o,{"current-group":e.currentGroup,"need-watch":!0,onClick:Ka(e.setCollapseInfo,["prevent","stop"])},null,8,["current-group","onClick"]),e.isOpenInfo?(k(),O("div",eL,[C("div",tL,[C("div",nL,[(k(),fe(s,{key:e.currentGroup.groupIdx,"current-group":e.currentGroup,"is-update-data":e.isUpdateData,"set-dashboard-update-time":e.setDashboardUpdateTime},null,8,["current-group","is-update-data","set-dashboard-update-time"])),C("div",{class:"board detail-info map rounded-[10px]",onClick:t[0]||(t[0]=()=>{e.goToLocation(e.currentGroup.groupIdx)})},[(k(),fe(l,{uuid:e.currentGroup.groupIdx,key:e.currentGroup.groupIdx,"current-group":e.currentGroup},null,8,["uuid","current-group"]))])])]),M(u,{class:"dash-board-manager-chat","selected-group":e.currentGroup},null,8,["selected-group"])])):re("",!0)],64)}const rL=Se(QM,[["render",aL]]),iL=be({name:"DashBoardManager",components:{UserDashboard:rL,KpInput:Ta,LayoutHeader:Ct,RefreshButton:Su,KpImage:Xe},setup(){const e=ze(),t=nt(),n=I(),a=I(0),r=I(e.state.syncUpdateTime?dt(e.state.syncUpdateTime):""),i=I(!1),o=I(),s=I(),l=I(!1),u=()=>{l.value=!l.value},c=x=>{r.value=x,e.commit(Sa,x instanceof dt?x.toDate():new Date(x))},d=(x,S)=>{console.log(G().getGroupList()),n.value=G().getGroupList().sort((b,D)=>D.messageList[D.messageList.length-1]?dt(D.messageList[D.messageList.length-1].dateMod).valueOf()-dt(b.messageList[b.messageList.length-1].dateMod).valueOf():0)},h=x=>{p(),d()},p=()=>{const x=G().getCurrentGroup();if(x)s.value=x.creatorInfo;else{const S=G().getGroupList();S&&S.length>0&&(s.value=S[0].creatorInfo)}},f=x=>{x.detail,d()},g=()=>{i.value=!0,e.dispatch(ft,et.GROUP_USERS)},v=()=>{G().addEventListener(ge.LOAD_START,d),G().addEventListener(ge.LOAD_COMPLETE,h),G().addEventListener(ge.MESSAGE_RECEIVED,f)},m=()=>{G().removeEventListener(ge.LOAD_START,d),G().removeEventListener(ge.LOAD_COMPLETE,h),G().removeEventListener(ge.MESSAGE_RECEIVED,f)},y=()=>{const x=o.value;x&&x.trim()!==""?n.value=G().groupList.filter(S=>{var b;return(b=S.creatorInfo)==null?void 0:b.username.toUpperCase().includes(x.toUpperCase())}).sort((S,b)=>dt(S.dateMod).isBefore(dt(b.dateMod))?1:dt(S.dateMod).isAfter(dt(b.dateMod))?-1:0):(!x||x.trim()==="")&&(n.value=G().getGroupList().sort((S,b)=>dt(S.dateMod).isBefore(dt(b.dateMod))?1:dt(S.dateMod).isAfter(dt(b.dateMod))?-1:0))},_=x=>{x.key==="Enter"&&y()},w=x=>{var S;try{const b=(S=x.creatorInfo)==null?void 0:S.userProfile;return dn(b)}catch(b){console.log(b);return}},E=()=>{v(),p(),d()};return Ue(()=>{const x=H();x&&x.userType!==De.MANAGER&&t.push({path:"/"}),e.commit(Xa,De.MANAGER);try{Ui().launchChat(),E()}catch(S){console.error(S)}}),ot(()=>{m(),$i()}),{battery:a,groupList:n,isOpenGroups:i,searchUsername:o,currentUserInfo:s,showMyGroupList:g,getUpdateData:u,doSearchUser:y,handleKeyUp:_,creatorProfileResolver:w,isUpdateData:l,setUpdateTime:c,updateTime:ke(()=>r.value===""?"":r.value.format("MM.DD a HH:mm"))}}}),oL={class:"dash-board-manager pb-[70px]"},sL={class:"board"},lL={class:"header-area"},uL={class:"input-wrapper relative w-[calc(100%_-_120px)] h-[50px] my-[20px] mx-[auto]"},cL={class:"text-wrapper w-[calc(100%_-_120px)] mx-[auto]"},dL={class:"title-wrapper flex justify-between items-center mb-[10px]"},hL=C("h2",{class:"title"},"사용자 목록",-1),pL={class:"flex flex-row items-center"},fL={class:"time-refresh"};function vL(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-image"),l=U("kp-input"),u=U("refresh-button"),c=U("user-dashboard");return k(),O(Ie,null,[M(o),C("section",oL,[C("article",sL,[C("div",lL,[C("div",uL,[M(s,{class:"absolute left-[20px] top-[15px] w-[20px] h-[20px]",src:"images/icon/ico-search.svg"}),M(l,{class:"kp-input board-input w-full h-full rounded-[25px] px-[50px]",placeholder:"사용자 이름 검색","model-value":e.searchUsername,"onUpdate:modelValue":t[0]||(t[0]=d=>e.searchUsername=d),onKeyup:e.handleKeyUp,onBlur:e.doSearchUser},null,8,["model-value","onKeyup","onBlur"])]),C("div",cL,[C("div",dL,[hL,C("div",pL,[C("span",fL,ee(e.updateTime),1),M(u,{onClick:e.getUpdateData},null,8,["onClick"])])])])]),(k(!0),O(Ie,null,gt(e.groupList,(d,h)=>(k(),O("div",{key:`${d.groupIdx}_${d.emergencyState}`,class:ye(["content-wrapper w-[calc(100%_-_100px)] mx-[auto] px-[40px]",[{emergency:d.emergencyState},{"first-content":h===0&&!d.emergencyState}]])},[C("div",{class:ye(["content-detail-wrapper",[{"last-content":e.groupList&&h===e.groupList.length-1}]])},[M(c,{"current-group":d,"is-update-data":e.isUpdateData,"set-dashboard-update-time":e.setUpdateTime},null,8,["current-group","is-update-data","set-dashboard-update-time"])],2)],2))),128))])])],64)}const gL=Se(iL,[["render",vL]]),mL=be({name:"DeviceConnectItem",components:{KpButton:yt,KpImage:Xe},props:{deviceInfo:{type:Object,require:!0},onConnect:{type:Function,require:!0},onDisconnect:{type:Function,require:!0}},setup(e){const t=I("연결");return{label:t,onClickConnect:()=>{var a,r;e.onConnect&&e.onDisconnect&&(t.value==="연결중"?(t.value="연결",e.onDisconnect()):(t.value="연결중",e.onConnect((a=e.deviceInfo)==null?void 0:a.macAddress,(r=e.deviceInfo)==null?void 0:r.deviceName)))}}}}),yL={class:"device-list-item flex justify-between"},_L={class:"flex flex-row"},CL={class:"text-left"},wL={class:"device-name"},xL={class:"device-address mt-[5px]"};function EL(e,t,n,a,r,i){var l,u;const o=U("kp-image"),s=U("kp-button");return k(),O("li",yL,[C("div",_L,[M(o,{class:"mr-[10px]",src:"images/icon/ico-footer-device-active.svg"},null,8,["src"]),C("div",CL,[C("p",wL,ee((l=e.deviceInfo)==null?void 0:l.deviceName),1),C("span",xL,ee((u=e.deviceInfo)==null?void 0:u.macAddress),1)])]),M(s,{class:"w-[68px] px-0","on-click":e.onClickConnect,"btn-class":"device-btn"},{default:ve(()=>[se(ee(e.label),1)]),_:1},8,["on-click"])])}const bL=Se(mL,[["render",EL]]),SL=be({name:"DeviceConnect",components:{DeviceConnectItem:bL,KpButton:yt,KpImage:Xe,LayoutHeader:Ct},setup(){const e=ze(),{SCAN:t}=Fe,n=I(t.NONE),a=I(""),r={[t.NONE]:"",[t.SCANNING]:"기기를 찾고 있습니다.",[t.DONE]:"검색이 완료되었습니다."},i=ke(()=>xe(Ee.API_URL,e)),o=I(""),s=I([]),l=I([]),u=ke(()=>s.value.reduce((T,A)=>(T.some(L=>L.macAddress===A.macAddress)||T.push(A),T),[])),c=()=>{switch(s.value=[],n.value){case t.NONE:n.value=t.SCANNING,window.appInterface.checkBluetooth(),b(()=>{window.appInterface.doScanDevice()});case t.DONE:n.value=t.SCANNING;break;case t.SCANNING:window.appInterface.doScanStop(),n.value=t.NONE;break}},d=(T,A)=>{l.value.filter(P=>P.macAddress.toLowerCase()===T.toLowerCase()).length===0&&h({deviceName:A,macAddress:T}),window.appInterface.doConnectDevice(T),a.value=T},h=T=>{i.value.post("/api/1/device/insertDeviceInfo",T).then(()=>{}).catch(A=>{console.error(A)})},p=()=>{window.appInterface.disconnectDevice()},f=()=>{AE(i.value,{creatorIdx:H().userIdx}).then(T=>{g()}).catch(T=>console.log(T))},g=()=>{Kr(i.value,{stateReg:hn.RESOLVE}).then(async T=>{const A=T.data;G().addEventListener(ge.CHANGE_GROUP,()=>{Nr.replace({path:"/"})},{once:!0}),G().addEventListener(ge.LOAD_COMPLETE,()=>{Nr.replace({path:"/"})},{once:!0}),await G().updateGroupList(A)}).catch(T=>{throw T})},v=T=>{let A=T.detail.split("||");A.length>0&&A[0]==="disconnected"&&b(()=>{window.appInterface.doScanDevice()});let L=Array.from(s.value);A[0]&&l.value.filter(P=>P.macAddress.toUpperCase()===A[0].toUpperCase()).length>0&&L.filter(P=>P.macAddress.toUpperCase()===A[0].toUpperCase()).length<1?(L.push({macAddress:A[0],deviceName:A[1]}),s.value=L):A.length>1&&A[1]&&A[1].toLowerCase().indexOf("junizen")>-1&&L.filter(P=>P.macAddress.toUpperCase()===A[0].toUpperCase()).length<1&&(L.push({macAddress:A[0],deviceName:A[1]}),s.value=L),A.length>0&&A[0]==="success_bind"&&S()},m=()=>{i.value.post("/api/1/users/me").then(T=>{T.data.resultCode!==0?window.alert(T.data.resultMsg):na(Fe.CONST.LOGIN_USER,JSON.stringify(T.data.data))})},y=T=>{if(H(),T.detail.indexOf(It.SUCCESS)>-1){let A=a.value===""?T.detail.split("||")[1]:a.value;e.commit(Gt,!0),o.value!==A?E(A):o.value=A}T.detail.indexOf(It.SUCCESS_BIND)>-1&&(e.commit(Gt,!0),S()),T.detail.indexOf(It.FAILED)>-1&&(e.commit(Gt,!1),window.alert("기기연결에 실패하였습니다."),s.value=[],window.appInterface.doScanDevice()),T.detail.indexOf(It.DISCONNECTED)>-1&&e.commit(Gt,!1)},_=T=>{H(),T.detail===It.CONNECTED?window.appInterface.getDeviceInfo():T.detail===It.NOTCONNECTED?b(()=>{window.appInterface.doScanDevice()}):b(()=>{window.appInterface.doScanDevice()})},w=T=>{let A=JSON.parse(T.detail);A&&E(A.mac)},E=T=>{const A=H();i.value.post("/api/1/device/getDeviceInfo",{macAddress:T}).then(L=>{if(L.data.resultCode===0&&L.data.data.length>0){let P=L.data.data[0];i.value.post("/api/1/device/getDeviceInfoByGroup").then(N=>{if(N.data.resultCode===0){let B=60;N.data.data&&N.data.data.length>0&&N.data.data.filter(K=>K.userIdx===H().userIdx).length>0&&(B=N.data.data.filter(ce=>ce.userIdx===H().userIdx)[0].stateUpdate??60),window.appInterface.setBackgroundSyncTime(Number(B)*60),x({macAddress:T,deviceIdx:P.deviceIdx,userIdx:A.userIdx,stateUpdate:B.toString()})}else x({macAddress:T,deviceIdx:P.deviceIdx,userIdx:A.userIdx,stateUpdate:"60"});m(),S()})}})},x=T=>{i.value.post("/api/1/device/insertUserDeviceInfo",T).then(()=>{Bi(Object.assign(H(),{deviceIdx:T.deviceIdx}))}).catch(A=>{console.error(A)})},S=()=>{i.value.post("/api/1/group/getGroupInfo").then(T=>{T.data.resultCode===0&&T.data.data&&T.data.data.hasOwnProperty("creatorList")&&T.data.data.creatorList.length>0?g():f()})},b=T=>{let A={page:"1",pagingRow:"1000",options:"",keyword:""};i.value.post("/api/1/device/getDeviceInfoForAdmin",A).then(L=>{L.data.resultCode===0&&(l.value=L.data.data,T&&T())})},D=()=>{Nr.replace({path:"/"})};return Ue(()=>{window.appInterface.addEventListener(pe.GET_DEVICE_LIST,v),window.appInterface.addEventListener(pe.GET_DEVICE_CONNECT_STATE,y),window.appInterface.addEventListener(pe.GET_DEVICE_CONNECTING,_),window.appInterface.addEventListener(pe.GET_DEVICE_INFO,w),window.appInterface.checkBluetooth(),window.appInterface.getConnectedStatus(),H()&&window.appInterface.setUserName(H().userName),c()}),ip(()=>{window.appInterface.doScanStop()}),ot(()=>{window.appInterface.removeEventListener(pe.GET_DEVICE_LIST,v),window.appInterface.removeEventListener(pe.GET_DEVICE_CONNECT_STATE,y),window.appInterface.removeEventListener(pe.GET_DEVICE_CONNECTING,_),window.appInterface.removeEventListener(pe.GET_DEVICE_INFO,w)}),{...t,scanStatus:n,description:ke(()=>r[n.value]),deviceList:s,compDeviceList:u,onClickScan:c,onClickConnect:d,onClickDisConnect:p,goDashboard:D}}}),DL={class:"device-connect"},TL={class:"mt-[20px] text-center"},IL={key:0,class:"scan-description mb-[10px]"},AL={key:0,class:"scan-device-wrapper mt-[40px]"},kL={key:0},ML={key:1,class:"py-[36px]"},LL=se("검색된 기기가 없습니다."),RL=C("br",null,null,-1),OL=se("버튼을 눌러 기기를 스캔해주세요."),PL=[LL,RL,OL];function NL(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-image"),l=U("kp-button"),u=U("device-connect-item");return k(),O(Ie,null,[M(o,{title:"기기 연결","direct-redirection":e.goDashboard},null,8,["direct-redirection"]),C("section",DL,[M(s,{class:"mx-[auto]",src:"images/view/device-connect/bluetooth-scan.png",alt:"bluetooth"}),C("div",TL,[e.description!==""?(k(),O("label",IL,ee(e.description),1)):re("",!0),M(l,{class:ye(["py-[15px]",{"mt-[10px]":e.scanStatus!==e.NONE,"mt-[15px]":e.scanStatus===e.NONE}]),"is-secondary":e.scanStatus===e.SCANNING,"on-click":e.onClickScan},{default:ve(()=>[se(ee(e.scanStatus===e.SCANNING?"중지":"스캔"),1)]),_:1},8,["class","is-secondary","on-click"])]),e.scanStatus!==e.DONE?(k(),O("div",AL,[e.deviceList.length>0?(k(),O("ul",kL,[(k(!0),O(Ie,null,gt(e.compDeviceList,c=>(k(),fe(u,{key:c.macAddress,"device-info":c,"on-connect":e.onClickConnect,"on-disconnect":e.onClickDisConnect},null,8,["device-info","on-connect","on-disconnect"]))),128))])):(k(),O("div",ML,PL))])):re("",!0)])],64)}const BL=Se(SL,[["render",NL]]);var zy=(e=>(e.WATCHFACE="watchface",e.UPDATECYCLE="update-cycle",e.NOTDISTURB="not-disturb",e.UPDATE="update",e.WRIST="wrist",e.SHAKE="shake",e.RESTART="restart",e.DISCONNECT="disconnect",e.RESET="reset",e))(zy||{});const $L=be({name:"DeviceMenu",components:{LayoutHeader:Ct,KpButton:yt,KpToggle:xs,KpImage:Xe,KpLink:xt},setup(){const e=ze(),t=nt(),n=I("right"),a=I(!0),r=I({deviceIdx:"",deviceName:"-",macAddress:"-",version:"-",battery:0,isConnect:!1}),i=I(null),o=ke(()=>{if(r.value&&r.value.version){const E=r.value.version.split("V");return E.length<2?"-":E[1]}return"-"}),s=[{type:"watchface",name:"기기 화면 설정",hasArrow:!0},{type:"update-cycle",name:"정보 업데이트 주기",hasArrow:!0},{type:"not-disturb",name:"방해금지 모드",hasArrow:!0},{type:"update",name:"펌웨어 업데이트",hasArrow:!0},{type:"wrist",name:"손목 방향",hasArrow:!1},{type:"shake",name:"손 들어 화면 깨우기",hasArrow:!1},{type:"disconnect",name:"기기 연결 해제",hasArrow:!1},{type:"reset",name:"초기화",hasArrow:!1}],l=E=>{switch(E){case"watchface":t.push("/device/watchface");break;case"update-cycle":t.push("/device/update-cycle");break;case"not-disturb":t.push("/device/not-disturb");break;case"update":t.push("/device/firmware-update");break;case"wrist":break;case"shake":u();break;case"restart":window.confirm("기기를 재시작하시겠습니까?")&&(window.appInterface.getConnectedStatus(),window.appInterface.rebootDevice());break;case"disconnect":if(r.value.isConnect){if(window.confirm("연결을 해제하시겠습니까?")){let x={deviceIdx:H().deviceIdx,batteryLevel:"",stateConnect:"N"};xe(Ee.API_URL,e).post("/api/1/device/updateDeviceInfoForUser",x).then(S=>{window.appInterface.disconnectDevice(),e.commit(Gt,!1)})}}else{let x={deviceIdx:H().deviceIdx,batteryLevel:"",stateConnect:"N"};xe(Ee.API_URL,e).post("/api/1/device/updateDeviceInfoForUser",x).then(S=>{window.appInterface.disconnectDevice(),e.commit(Gt,!1),Bi(Object.assign(H(),{deviceIdx:void 0})),t.replace("/device-connect")})}break;case"reset":window.confirm("기기를 초기화할 경우 기기 내부의 모든 데이터가 삭제됩니다. 기기를 초기화 하시겠습니까?")&&(window.appInterface.getConnectedStatus(),window.appInterface.factoryReset());break}},u=()=>{window.appInterface.getConnectedStatus(),a.value?window.appInterface.setRaiseHandMode(0):window.appInterface.setRaiseHandMode(1),a.value=!a.value,c(a.value)},c=E=>{let x={};x.raisehandmode=E===!0?"Y":"N",xe(Ee.API_URL,e).post("api/1/users/setUserDisturbAndHandMode",x).then(S=>{S.data.resultCode})},d=()=>{window.appInterface.getConnectedStatus(),n.value==="right"?(window.appInterface.setHandMode(0),n.value="left"):(window.appInterface.setHandMode(1),n.value="right")},h=(E,x)=>{if(E.deviceIdx||E.macadress){let S={};E.macadress&&(S.macAddress=E.macadress),E.deviceIdx&&(S.deviceIdx=E.deviceIdx),xe(Ee.API_URL,e).post("/api/1/device/getDeviceInfo",S).then(b=>{if(b.data.resultCode===0){const{deviceIdx:D,deviceName:T,macAddress:A,firmwareVersion:L,batteryLevel:P}=b.data.data[0];r.value={...r.value,deviceIdx:D,deviceName:T,macAddress:A,version:L,battery:P??0},x&&x()}})}},p=()=>{xe(Ee.API_URL,e).post("/api/1/device/getDeviceInfoByGroup").then(E=>{var x;if(E.data.resultCode===0){const S=G().getCurrentGroup();if(S)for(let b=0;b<E.data.data.length;b++){const D=E.data.data[b];if(((x=S.creatorInfo)==null?void 0:x.userIdx)===D.userIdx){const{deviceIdx:T,deviceName:A,macAddress:L,firmwareVersion:P,batteryLevel:N,stateConnect:B}=D;r.value={deviceIdx:T,deviceName:A,macAddress:L,version:P,battery:N,isConnect:B==="Y"}}}}})},f=E=>{let x=E.detail;n.value=x},g=E=>{E.detail==="true"?a.value=!0:a.value=!1},v=E=>{let x=E.detail;if(x==="disconnected"){let S={deviceIdx:H().deviceIdx,batteryLevel:"",stateConnect:"N"};xe(Ee.API_URL,e).post("/api/1/device/updateDeviceInfoForUser",S).then(b=>{xe(Ee.API_URL,e).post("/api/1/device/deleteUserDeviceInfo",{deviceIdx:H().deviceIdx,batteryLevel:"",stateConnect:"N"}).then(D=>{D.data.resultCode===0&&(Bi(Object.assign(H(),{deviceIdx:void 0})),t.replace("/device-connect"))})})}else x.indexOf("failed_connect")>-1&&window.alert("연결 해제에 실패하였습니다.")},m=()=>{var E,x,S,b,D;H()&&(i.value=H(),((E=i.value)==null?void 0:E.userType)===De.USER_DEVICE?(x=i.value)!=null&&x.deviceIdx&&((S=i.value)==null?void 0:S.deviceIdx)!==""&&(h({deviceIdx:(b=i.value)==null?void 0:b.deviceIdx}),window.appInterface.getConnectedStatus(),window.appInterface.getHandMode(),window.appInterface.getRaiseHandMode()):((D=i.value)==null?void 0:D.userType)===De.USER&&p())},y=E=>{let x=JSON.parse(E.detail);console.log("getDeviceInfo"),h({macadress:x.mac},()=>{let S={deviceIdx:H().deviceIdx,batteryLevel:x.batteryLevel,stateConnect:"Y",firmwareVersion:x.firmwareVersion!==""?"V"+x.firmwareVersion.split("V")[1]:""};xe(Ee.API_URL,e).post("/api/1/device/updateDeviceInfoForUser",S).then(b=>{}),r.value={...r.value,version:x.firmwareVersion,battery:x.batteryLevel,isConnect:!0}})},_=E=>{let x=E.detail;x==="connected"?(e.commit(Gt,!0),window.appInterface.getDeviceInfo(),r.value={...r.value,isConnect:!0}):x==="disconnected"&&(e.commit(Gt,!1),r.value={...r.value,isConnect:!1})},w=E=>{let x=E.detail;x.indexOf(It.SUCCESS)>-1&&(e.commit(Gt,!0),r.value={...r.value,isConnect:!0}),x.indexOf(It.SUCCESS_BIND)>-1,x.indexOf(It.FAILED)>-1&&(e.commit(Gt,!1),r.value={...r.value,isConnect:!1}),x.indexOf(It.DISCONNECTED)>-1&&(e.commit(Gt,!1),r.value={...r.value,isConnect:!1})};return Ue(()=>{window.appInterface.addEventListener(pe.GET_DEVICE_CONNECT_STATE,w),window.appInterface.addEventListener(pe.GET_HAND,f),window.appInterface.addEventListener(pe.GET_SHAKE,g),window.appInterface.addEventListener(pe.DISCONNECT_DEVICE,v),window.appInterface.addEventListener(pe.GET_DEVICE_INFO,y),window.appInterface.addEventListener(pe.GET_DEVICE_CONNECTING,_),m()}),ot(()=>{window.appInterface.removeEventListener(pe.GET_DEVICE_CONNECT_STATE,w),window.appInterface.removeEventListener(pe.GET_HAND,f),window.appInterface.removeEventListener(pe.GET_SHAKE,g),window.appInterface.removeEventListener(pe.DISCONNECT_DEVICE,v),window.appInterface.removeEventListener(pe.GET_DEVICE_INFO,y),window.appInterface.removeEventListener(pe.GET_DEVICE_CONNECTING,_)}),{userInfo:i,MENU_TYPE:zy,UserType:De,deviceInfo:r,deviceMenuList:s,shakeHand:n,isShake:a,onClickMenu:l,changeShake:u,changeShakeHand:d,compVersions:o}}}),UL={class:"device-setting"},GL={class:"info flex justify-between"},FL={class:"device-info flex flex-col"},HL={class:"battery-info"},VL={class:"battery-img"},YL={class:"battery-value"},zL={class:"flex flex-col items-center"},WL={class:"connect-state"},qL={key:0},ZL={key:0},KL={class:"flex items-center"},XL={class:"flex items-center"},jL=se("왼손"),JL=se("오른손"),QL={key:1},e2={class:"flex items-center"},t2={key:2},n2={class:"flex items-center"},a2={key:3},r2={class:"flex items-center"},i2={key:4},o2={class:"flex items-center"};function s2(e,t,n,a,r,i){var d;const o=U("layout-header"),s=U("kp-image"),l=U("kp-button"),u=U("kp-link"),c=U("kp-toggle");return k(),O(Ie,null,[M(o,{title:"기기설정","is-disabled-back":!0}),C("section",UL,[C("article",GL,[C("div",FL,[C("p",null,ee(e.deviceInfo.deviceName),1),C("label",null,ee(e.deviceInfo.macAddress),1),C("label",null,ee(e.compVersions),1),C("div",HL,[C("div",VL,[C("span",{style:ws({width:e.deviceInfo.battery+"%"})},null,4)]),C("div",YL,ee(e.deviceInfo.battery===0?"-":e.deviceInfo.battery)+"%",1)])]),C("div",zL,[M(s,{src:"images/view/img-watch.png",imgSets:3}),C("label",WL,ee(e.deviceInfo.isConnect?"연결됨":"연결끊김"),1)])]),((d=e.userInfo)==null?void 0:d.userType)===e.UserType.USER_DEVICE?(k(),O("article",qL,[C("ul",null,[(k(!0),O(Ie,null,gt(e.deviceMenuList,h=>(k(),O(Ie,{key:h.type},[h.type===e.MENU_TYPE.WRIST?(k(),O("li",ZL,[M(u,{link:"","on-click":()=>e.onClickMenu(h.type),class:"pt-[12px] pb-[13px]"},{default:ve(()=>[C("div",KL,[M(s,{class:"icon",src:`images/icon/ico-device-${h.type}.svg`},null,8,["src"]),C("label",null,ee(h.name),1)]),C("div",XL,[M(l,{"is-default":e.shakeHand==="right",onClick:e.changeShakeHand},{default:ve(()=>[jL]),_:1},8,["is-default","onClick"]),M(l,{"is-default":e.shakeHand==="left",onClick:e.changeShakeHand},{default:ve(()=>[JL]),_:1},8,["is-default","onClick"])])]),_:2},1032,["on-click"])])):h.type===e.MENU_TYPE.SHAKE?(k(),O("li",QL,[M(u,{link:"","on-click":()=>e.onClickMenu(h.type)},{default:ve(()=>[C("div",e2,[M(s,{class:"icon",src:`images/icon/ico-device-${h.type}.svg`},null,8,["src"]),C("label",null,ee(h.name),1)]),M(c,{"is-checked":e.isShake,onOnToggleClick:e.changeShake},null,8,["is-checked","onOnToggleClick"])]),_:2},1032,["on-click"])])):h.type===e.MENU_TYPE.DISCONNECT?(k(),O("li",t2,[M(u,{link:"","on-click":()=>e.onClickMenu(h.type),class:"pt-[22px] pb-[23px]"},{default:ve(()=>[C("div",n2,[M(s,{class:"icon",src:`images/icon/ico-device-${h.type}.svg`},null,8,["src"]),C("label",null,ee(h.name),1)]),h.hasArrow?(k(),fe(s,{key:0,src:"images/icon/ico-device-arrow.svg"},null,8,["src"])):re("",!0)]),_:2},1032,["on-click"])])):h.type===e.MENU_TYPE.RESET?(k(),O("li",a2,[M(u,{link:"","on-click":()=>e.onClickMenu(h.type),class:"pt-[20px] pb-[21px]"},{default:ve(()=>[C("div",r2,[M(s,{class:"icon",src:`images/icon/ico-device-${h.type}.svg`},null,8,["src"]),C("label",null,ee(h.name),1)]),h.hasArrow?(k(),fe(s,{key:0,src:"images/icon/ico-device-arrow.svg"},null,8,["src"])):re("",!0)]),_:2},1032,["on-click"])])):(k(),O("li",i2,[M(u,{link:"","on-click":()=>e.onClickMenu(h.type)},{default:ve(()=>[C("div",o2,[M(s,{class:"icon",src:`images/icon/ico-device-${h.type}.svg`},null,8,["src"]),C("label",null,ee(h.name),1)]),h.hasArrow?(k(),fe(s,{key:0,src:"images/icon/ico-device-arrow.svg"},null,8,["src"])):re("",!0)]),_:2},1032,["on-click"])]))],64))),128))])])):re("",!0)])],64)}const l2=Se($L,[["render",s2]]),u2=be({name:"WatchfacePopup",components:{Portal:wu,KpLink:xt,KpButton:yt,KpImage:Xe},props:{data:{type:Object},cancelHandler:{type:Function,default:()=>{}},submitHandler:{type:Function,default:()=>{}}},setup(e){ze();const t=Ze(e,"data"),n=I(!1),a=I(!1),r=I(0),i=I(),o=()=>{n.value=!0,i.value=H().userType===De.USER_DEVICE},s=()=>{window.appInterface.stopDownloadWatchface(),e.cancelHandler()},l=()=>{var h,p,f,g;const d={title:(h=t.value)==null?void 0:h.displayName,author:(p=t.value)==null?void 0:p.displayIdx,previewPath:dn((f=t.value)==null?void 0:f.imageFileInfo),url:dn((g=t.value)==null?void 0:g.displayFileInfo)};i.value&&(a.value=!0,window.appInterface.setWatchFace(d))},u=d=>{r.value=Number(d.detail),Number(d.detail)},c=d=>{d.detail.indexOf(It.DISCONNECTED)>-1&&s()};return Ue(()=>{window.appInterface.addEventListener(pe.GET_DEVICE_CONNECT_STATE,c),window.appInterface.addEventListener(pe.SYNC_WATCH_FACE,u),o()}),ot(()=>{window.appInterface.removeEventListener(pe.GET_DEVICE_CONNECT_STATE,c),window.appInterface.removeEventListener(pe.SYNC_WATCH_FACE,u),e.cancelHandler()}),{isOpen:n,isSync:a,watchfaceData:t,syncValue:r,isDeviceUser:i,getImgUrl:Br,handleCancelSync:s,handleSync:l}}}),c2={class:"watchface-popup-wrapper absolute bg-white max-w-[315px] w-[315px] h-[240px] left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] p-[20px] rounded-[10px] flex flex-col justify-between"},d2={class:"watchface-info-wrapper w-full flex flex-col items-center justify-start mt-[10px]"},h2={class:"watchface-name"},p2={key:0,class:"btn-wrapper flex justify-between items-center w-full"},f2=se("취소"),v2=se("동기화"),g2={key:1,class:"sync-wrapper"},m2={class:"flex items-center justify-center mb-[10px]"};function y2(e,t,n,a,r,i){const o=U("kp-image"),s=U("kp-link"),l=U("kp-button"),u=U("portal");return e.isOpen?(k(),fe(u,{key:0,to:"watchface-popup"},{default:ve(()=>{var c,d;return[C("div",c2,[C("div",d2,[M(o,{class:"w-[90px] h-[90px] object-cover mb-[10px]",src:e.getImgUrl((c=e.watchfaceData)==null?void 0:c.imageFileInfo)??""},null,8,["src"]),e.isSync?(k(),fe(s,{key:0,class:"absolute top-[15px] right-[15px]",link:"#","on-click":e.handleCancelSync},{default:ve(()=>[M(o,{class:"w-[30px] h-[30px] object-cover mb-[10px]",src:"images/common/plus-icon.png"})]),_:1},8,["on-click"])):re("",!0),C("div",h2,ee((d=e.watchfaceData)==null?void 0:d.displayName),1)]),e.isSync?(k(),O("div",g2,[C("p",m2,ee(e.syncValue===100?"동기화 완료되었습니다.":"동기화 중..."),1),C("div",null,[C("span",{style:ws({width:e.syncValue+"%"})},null,4)])])):(k(),O("div",p2,[M(l,{"is-secondary":"","on-click":e.cancelHandler},{default:ve(()=>[f2]),_:1},8,["on-click"]),M(l,{"is-disabled":!e.isDeviceUser,"on-click":e.handleSync},{default:ve(()=>[v2]),_:1},8,["is-disabled","on-click"])]))])]}),_:1})):re("",!0)}const _2=Se(u2,[["render",y2]]),C2=be({name:"DeviceWatchface",components:{WatchfacePopup:_2,KpLink:xt,KpImage:Xe,LayoutHeader:Ct},setup(){const e=ze(),t=I(!1),n=I([]),a=I({displayIdx:"",displayFileInfo:"",imageFileInfo:"",displayName:"",displayDesc:""}),r=l=>{a.value=l,e.dispatch(ft,et.WATCHFACE),t.value=!0},i=()=>{e.dispatch(ft,et.NONE),t.value=!1},o=()=>{e.dispatch(ft,et.NONE),t.value=!1},s=()=>{let l={displayName:"",page:"1",pagingRow:"100"};xe(Ee.API_URL,e).post("/api/1/device-display/getDeviceDisplayInfo",l).then(u=>{u.data.resultCode===0&&(n.value=u.data.data.dataList)})};return Ue(()=>{s()}),{watchfaceList:n,selectWatchface:a,openWatchfaceDownloadPopup:t,onClickWatchface:r,handleCancel:i,handleSubmit:o,getImgUrl:Br}}}),w2={class:"p-[20px]"},x2={class:"flex flex-wrap justify-around"};function E2(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-image"),l=U("kp-link"),u=U("watchface-popup");return k(),O(Ie,null,[M(o,{title:"기기 화면 설정"}),C("section",w2,[C("ul",x2,[(k(!0),O(Ie,null,gt(e.watchfaceList,(c,d)=>(k(),O("li",{key:d,class:"w-[140px] mb-[35px]"},[M(l,{"on-click":()=>{e.onClickWatchface(c)}},{default:ve(()=>[M(s,{src:e.getImgUrl(c.imageFileInfo)??""},null,8,["src"])]),_:2},1032,["on-click"])]))),128))])]),e.openWatchfaceDownloadPopup?(k(),fe(u,{key:0,data:e.selectWatchface,"cancel-handler":e.handleCancel,"submit-handler":e.handleSubmit},null,8,["data","cancel-handler","submit-handler"])):re("",!0)],64)}const b2=Se(C2,[["render",E2]]),S2=be({name:"DeviceUpdateCycle",components:{KpButton:yt,KpImage:Xe,KpLink:xt,LayoutHeader:Ct},setup(){const e=ze(),t=nt(),n=ke(()=>xe(Ee.API_URL,e)),a=I(""),r=I([{value:"30",label:"30분"},{value:"60",label:"1시간"},{value:"120",label:"2시간"},{value:"180",label:"3시간"}]),i=I(),o=I({deviceName:"-",macAddress:"-"}),s=I(e.state.syncUpdateTime?Q(e.state.syncUpdateTime):""),l=x=>{i.value&&(a.value=x)},u=()=>{i.value&&n.value.post("/api/1/users/updateUser",{stateUpdate:a.value}).then(x=>{Bi(Object.assign(H(),{stateUpdate:a.value})),window.appInterface.setBackgroundSyncTime(Number(a.value)*60),t.back()})},c=()=>{t.back()},d=()=>{i.value&&window.appInterface.syncAll(Q(new Date).format("YYYYMMDD"))},h=x=>{x&&n.value.post("/api/1/device/getDeviceInfo",{deviceIdx:x}).then(S=>{if(S.data.resultCode===0){const{deviceName:b,macAddress:D,stateUpdate:T}=S.data.data[0];a.value=H().stateUpdate,o.value={deviceName:b,macAddress:D}}})},p=x=>{let S=Q().local();E(S),e.commit(Sa,S.toDate());let b=JSON.parse(x.detail);switch(b.type){case"body_temp":f(JSON.parse(b.data));break;case"bool_pressure":g(JSON.parse(b.data));break;case"heart_rate":v(JSON.parse(b.data));break;case"stress":m(JSON.parse(b.data));break;case"sport_activity":y(JSON.parse(b.data));break;case"oxygen":_(JSON.parse(b.data));break;case"sleep":w(JSON.parse(b.data));break}},f=x=>{let S=Ly(x);S&&S.length>0&&n.value.post("/api/1/health/insertTemperature",{data:S}).then(b=>{b.data.resultCode})},g=x=>{let S=Ry(x);S&&S.length>0&&n.value.post("/api/1/health/insertBloodPressure",{data:S}).then(b=>{b.data.resultCode})},v=x=>{let S=Oy(x);S&&S.length>0&&n.value.post("/api/1/health/insertHeartRate",{data:S}).then(b=>{b.data.resultCode})},m=x=>{let S=Py(x);S&&S.length>0&&n.value.post("/api/1/health/insertStress",{data:S}).then(b=>{b.data.resultCode})},y=x=>{let S=Ny(x);S&&S.length>0&&n.value.post("/api/1/health/insertActivity",{data:S}).then(b=>{b.data.resultCode})},_=x=>{let S=By(x);S&&S.length>0&&n.value.post("/api/1/health/insertOxygen",{data:S}).then(b=>{b.data.resultCode})},w=x=>{let S=$y(x);S&&S.length>0&&n.value.post("/api/1/health/insertSleepTime",{data:S}).then(b=>{b.data.resultCode})},E=x=>{(s.value===""||s.value.isBefore(x))&&(s.value=x)};return Ue(()=>{h(H().deviceIdx),i.value=H().userType===De.USER_DEVICE,window.appInterface.addEventListener(pe.SYNC_DATA,p)}),ot(()=>{window.appInterface.removeEventListener(pe.SYNC_DATA,p)}),{updateCycleList:r,selectCycleOption:a,isDeviceUser:i,updateTime:ke(()=>s.value===""?"":s.value.format("MM.DD a HH:mm")),updateSync:l,onClickSubmit:u,onClickCancel:c,onClickUpdate:d}}}),D2={class:"device-update-cycle"},T2={class:"flex w-full flex-col justify-between"},I2=C("article",{class:"title-wrapper"},[C("p",{class:"title"},"기기 데이터 업데이트"),C("p",{class:"desc mt-[5px]"},[se(" 디바이스의 업데이트 주기를"),C("br"),se(" 직접 설정하실 수 있습니다. ")])],-1),A2={class:"update-cycle mt-[30px] py-[5px] px-[20px]"},k2={class:"px-[10px]"},M2={class:"btn-wrapper"},L2=se("저장"),R2=se("취소");function O2(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-image"),l=U("kp-link"),u=U("kp-button");return k(),O(Ie,null,[M(o,{title:"정보 업데이트 주기"}),C("section",D2,[C("div",T2,[I2,C("article",A2,[C("ul",null,[(k(!0),O(Ie,null,gt(e.updateCycleList,(c,d)=>(k(),O("li",{key:d},[M(l,{"on-click":()=>e.updateSync(c.value),class:"flex items-center"},{default:ve(()=>[C("span",k2,ee(c.label),1),e.selectCycleOption===c.value?(k(),fe(s,{key:0,src:"images/icon/ico-device-update-select.svg",class:"h-[15px]"})):re("",!0)]),_:2},1032,["on-click"])]))),128))])])]),C("div",M2,[M(u,{"on-click":e.onClickSubmit,class:"mb-[10px] h-[50px]"},{default:ve(()=>[L2]),_:1},8,["on-click"]),M(u,{"on-click":e.onClickCancel,"is-secondary":"",class:"h-[50px]"},{default:ve(()=>[R2]),_:1},8,["on-click"])])])],64)}const P2=Se(S2,[["render",O2]]),N2=be({name:"KpTimePicker",components:{VueScrollPicker:Xx},props:{hour:{type:Number},min:{type:Number}},emits:["onChange"],setup(e,{emit:t}){const n=I(Ze(e,"hour").value),a=I(Ze(e,"min").value);return op(()=>{t("onChange",{hour:n.value,min:a.value})}),{currentHour:n,currentMinute:a,hourOptions:ke(()=>Array.from({length:24},(r,i)=>i)),minuteOptions:ke(()=>Array.from({length:60},(r,i)=>i))}}}),B2={class:"kp-time-picker"},$2=C("span",null,":",-1);function U2(e,t,n,a,r,i){const o=U("vue-scroll-picker");return k(),O("div",B2,[M(o,{options:e.hourOptions,modelValue:e.currentHour,"onUpdate:modelValue":t[0]||(t[0]=s=>e.currentHour=s)},null,8,["options","modelValue"]),$2,M(o,{options:e.minuteOptions,modelValue:e.currentMinute,"onUpdate:modelValue":t[1]||(t[1]=s=>e.currentMinute=s)},null,8,["options","modelValue"])])}const Wy=Se(N2,[["render",U2]]),G2=be({name:"DisturbPopup",components:{KpTimePicker:Wy,Portal:wu,KpButton:yt},props:{type:{type:String},hour:{type:Number},min:{type:Number},cancelHandler:{type:Function,default:()=>{}},submitHandler:{type:Function,default:e=>{}}},setup(e){const t=I(!1),n=I(0),a=I(0),r=()=>{t.value=!0,n.value=Ze(e,"hour").value,a.value=Ze(e,"min").value},i=()=>{e.submitHandler&&e.submitHandler({type:e.type,hour:n.value,min:a.value})},o=({hour:s,min:l})=>{n.value=s,a.value=l};return Ue(()=>{r()}),ot(()=>{e.cancelHandler()}),{isOpen:t,selectHour:n,selectMin:a,changeTime:o,onSubmit:i}}}),F2={class:"disturb-popup-wrapper absolute bg-white w-[90%] h-[80vw] left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] p-[20px] rounded-[10px] flex flex-col justify-between"},H2={class:"watchface-info-wrapper w-full flex flex-col items-center justify-start mt-[10px] flex-grow-[7]"},V2={class:"btn-wrapper flex justify-between items-center w-full flex-grow-[3]"},Y2=se("취소"),z2=se("확인");function W2(e,t,n,a,r,i){const o=U("kp-time-picker"),s=U("kp-button"),l=U("portal");return k(),fe(l,{to:"disturb-popup"},{default:ve(()=>[C("div",F2,[C("div",H2,[M(o,{hour:e.selectHour,min:e.selectMin,onOnChange:e.changeTime},null,8,["hour","min","onOnChange"])]),C("div",V2,[M(s,{"is-secondary":"","on-click":e.cancelHandler},{default:ve(()=>[Y2]),_:1},8,["on-click"]),M(s,{"on-click":e.onSubmit},{default:ve(()=>[z2]),_:1},8,["on-click"])])])]),_:1})}const q2=Se(G2,[["render",W2]]),Z2=be({name:"DeviceNotDisturb",components:{DisturbPopup:q2,KpTimePicker:Wy,KpToggle:xs,KpLink:xt,LayoutHeader:Ct},setup(){const e=ze(),t=nt(),n=I(!0),a=I(!1),r=I([{hour:23,min:0,value:"23:00",label:"시작"},{hour:7,min:0,value:"7:00",label:"종료"}]),i=I({firmwareVersion:"-",macAddress:"-"}),o=I(""),s=g=>{let v=JSON.parse(g.detail);n.value=v.isEnableDisturbMode;let m=`${v.fromHour.toString().padStart(2,"0")}:${v.fromMinute.toString().padStart(2,"0")}`,y=`${v.toHour.toString().padStart(2,"0")}:${v.toMinute.toString().padStart(2,"0")}`;r.value=[{hour:v.fromHour,min:v.fromMinute,value:m,label:"시작"},{hour:v.toHour,min:v.toMinute,value:y,label:"종료"}]},l=g=>{o.value=g,e.dispatch(ft,et.DISTURB),a.value=!0},u=()=>{let g={isEnableDisturbMode:n.value,fromHour:r.value[0].hour,fromMinute:r.value[0].min,toHour:r.value[1].hour,toMinute:r.value[0].min};window.appInterface.setDisturbModeSetting(g);let v=JSON.stringify(g);c(n.value,v)},c=(g,v)=>{let m={};m.disturbmode=g===!0?"Y":"N",m.disturbanceTime=v,xe(Ee.API_URL,e).post("/api/1/users/setUserDisturbAndHandMode",m).then(y=>{y.data.resultCode})},d=g=>{g&&xe(Ee.API_URL,e).post("/api/1/device/getDeviceInfo",{deviceIdx:g}).then(v=>{if(v.data.resultCode===0){const{deviceName:m,macAddress:y,firmwareVersion:_}=v.data.data[0];i.value={firmwareVersion:_,macAddress:y}}})},h=g=>{let v=Array.from(r.value),m=v.filter(_=>_.label===g.type),y=v.findIndex(_=>_.label===g.type);m&&m.length>0&&(m[0].hour=g.hour,m[0].min=g.min,m[0].value=`${g.hour.toString().padStart(2,"0")}:${g.min.toString().padStart(2,"0")}`),v[y]=m[0],r.value=v,e.dispatch(ft,et.NONE),a.value=!1,lt(()=>{u()})},p=()=>{e.dispatch(ft,et.NONE),a.value=!1},f=g=>{g.detail.indexOf(It.DISCONNECTED)>-1&&(window.alert("기기연결이 끊어졌습니다."),t.back())};return Ue(()=>{window.appInterface.addEventListener(pe.GET_DISTURB_MODE,s),window.appInterface.addEventListener(pe.GET_DEVICE_CONNECT_STATE,f),window.appInterface.getDisturbModeSetting(),d(H().deviceIdx)}),ot(()=>{window.appInterface.removeEventListener(pe.GET_DISTURB_MODE,s),window.appInterface.removeEventListener(pe.GET_DEVICE_CONNECT_STATE,f)}),{isOpenOption:n,timeList:r,onClickTime:l,doToggle:()=>{n.value=!n.value,u()},changeOption:u,openPopup:a,selectType:o,handleSubmit:h,handleCancel:p}}}),K2={class:"device-not-disturb"},X2={class:"title-wrapper flex flex-row justify-between"},j2=C("div",{class:"flex flex-col"},[C("p",{class:"title"},"방해 금지 모드"),C("p",{class:"desc mt-[5px]"},[se(" 설정하신 시간대의 알림은"),C("br"),se(" 무음으로 수신됩니다. ")])],-1),J2={key:0,class:"update-time mt-[30px] py-[5px] px-[20px]"},Q2={class:"px-[10px]"};function eR(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-toggle"),l=U("kp-link"),u=U("disturb-popup");return k(),O(Ie,null,[M(o,{title:"방해 금지 모드"}),C("section",K2,[C("article",X2,[j2,M(s,{"is-checked":e.isOpenOption,onOnToggleClick:e.doToggle},null,8,["is-checked","onOnToggleClick"])]),e.isOpenOption?(k(),O("article",J2,[C("ul",null,[(k(!0),O(Ie,null,gt(e.timeList,(c,d)=>(k(),O("li",{key:d,class:"flex items-center"},[C("span",Q2,ee(c.label),1),M(l,{"on-click":()=>e.onClickTime(c.label)},{default:ve(()=>[se(ee(c.value),1)]),_:2},1032,["on-click"])]))),128))])])):re("",!0)]),e.openPopup?(k(),fe(u,{key:0,type:e.selectType,hour:e.timeList.filter(c=>c.label===e.selectType)[0].hour,min:e.timeList.filter(c=>c.label===e.selectType)[0].min,"submit-handler":e.handleSubmit,"cancel-handler":e.handleCancel},null,8,["type","hour","min","submit-handler","cancel-handler"])):re("",!0)],64)}const tR=Se(Z2,[["render",eR]]),nR=be({name:"DeviceFirmwareUpdate",components:{KpButton:yt,LayoutHeader:Ct},setup(){const e=ze(),t=nt(),n=I(!1),a=I({firmwareName:"",firmwareVersion:"-",macAddress:"-"}),r=I({name:"",version:"",fileInfo:""}),i=ke(()=>{const p=a.value.firmwareVersion.split("V");return p.length<2?0:Number(p[1])}),o=ke(()=>{const p=r.value.version.split("V");return p.length<2?0:Number(p[1])}),s=(p,f)=>{p&&xe(Ee.API_URL,e).post("/api/1/device/getDeviceInfo",{deviceIdx:p}).then(g=>{if(g.data.resultCode===0){const v=g.data.data[0];a.value={firmwareName:(v==null?void 0:v.firmwareName)??"",firmwareVersion:(f!=null&&f.firmwareVersion?f==null?void 0:f.firmwareVersion:v==null?void 0:v.firmwareVersion)??"",macAddress:v==null?void 0:v.macAddress},l()}})},l=()=>{xe(Ee.API_URL,e).post("/api/1/device-firmware/getDeviceFirmwareInfo").then(p=>{p.data.resultCode===0&&(r.value={name:p.data.data.dataList[0].firmwareName,version:p.data.data.dataList[0].firmwareVersion,fileInfo:p.data.data.dataList[0].fileInfo})})},u=()=>{window.appInterface.startFirmwareUpgrade(r.value.fileInfo)},c=p=>{p.detail.indexOf(It.DISCONNECTED)>-1&&(window.alert("기기연결이 끊어졌습니다."),t.back())},d=p=>{let f=JSON.parse(p.detail);f&&s(H().deviceIdx,f)},h=p=>{switch(JSON.parse(p.detail)){case"FIRMWARE_SUCCESS":window.alert("업그레이드가 완료되었습니다.");break;case"FIRMWARE_FAILED":window.alert("업그레이드에 실패하였습니다.");break;case"FIRMWARE_CANCELED":window.alert("업그레이드가 취소되었습니다.");break}};return He(()=>r.value,()=>{i.value===o.value||o.value<1?n.value=!1:n.value=!0}),Ue(()=>{window.appInterface.addEventListener(pe.GET_DEVICE_CONNECT_STATE,c),window.appInterface.addEventListener(pe.GET_DEVICE_INFO,d),window.appInterface.addEventListener(pe.UPGRADE_FIRMWARE_CALLBACK,h),window.appInterface.getDeviceInfo()}),ot(()=>{window.appInterface.removeEventListener(pe.GET_DEVICE_CONNECT_STATE,c),window.appInterface.removeEventListener(pe.GET_DEVICE_INFO,d),window.appInterface.removeEventListener(pe.UPGRADE_FIRMWARE_CALLBACK,h)}),{isNeedUpdate:n,deviceInfo:a,newFirmware:r,doUpdate:u}}}),aR={class:"firmware-update"},rR=C("article",{class:"title-wrapper"},[C("p",{class:"title"},"펌웨어 업데이트"),C("p",{class:"desc mt-[5px]"},[se(" 펌웨어의 현재 버전을 확인하고"),C("br"),se(" 최신 버전으로 업데이트 할 수 있습니다. ")])],-1),iR={class:"firmware-info-wrapper mt-[30px] py-[20px] px-[20px]"},oR={class:"firmware-info"},sR=C("label",null,"펌웨어 명 : ",-1),lR=C("label",null,"맥 어드레스 : ",-1),uR=C("label",null,"현재 버전 : ",-1),cR={class:"firmware-info-wrapper mt-[10px] py-[20px] px-[20px]"},dR={class:"firmware-info"},hR=C("label",null,"최신 버전 : ",-1),pR={class:"btn-wrapper"},fR={key:0,class:"firmware-desc flex justify-center mb-[15px]"},vR=se("업데이트");function gR(e,t,n,a,r,i){var l,u,c,d;const o=U("layout-header"),s=U("kp-button");return k(),O(Ie,null,[M(o,{title:"펌웨어 업데이트"}),C("section",aR,[rR,C("article",iR,[C("ul",oR,[C("li",null,[sR,se(ee(((l=e.deviceInfo)==null?void 0:l.firmwareName)??""),1)]),C("li",null,[lR,se(ee(((u=e.deviceInfo)==null?void 0:u.macAddress)??"-"),1)]),C("li",null,[uR,se(ee(((c=e.deviceInfo)==null?void 0:c.firmwareVersion)??""),1)])])]),C("article",cR,[C("ul",dR,[C("li",null,[hR,se(ee(((d=e.newFirmware)==null?void 0:d.version)??""),1)])])]),C("div",pR,[e.isNeedUpdate?re("",!0):(k(),O("label",fR,"펌웨어가 현재 최신 버전입니다.")),M(s,{class:"mb-[10px] h-[50px]","is-disabled":!e.isNeedUpdate,"on-click":e.doUpdate},{default:ve(()=>[vR]),_:1},8,["is-disabled","on-click"])])])],64)}const mR=Se(nR,[["render",gR]]);const yR=be({name:"KpDatePicker",components:{VueDatePicker:jx},props:{date:{type:Date},isWhite:{type:Boolean,default:!1}},emit:["onChangeDate"],setup(e,{emit:t}){return{selectDate:ke(()=>e.date),getFormat:i=>{const o=i.getDate(),s=i.getMonth()+1;return`${i.getFullYear()}년 ${s}월 ${o}일`},onChangeDate:i=>{t("onChangeDate",i)}}}}),_R=["src"],CR=["src"];function wR(e,t,n,a,r,i){const o=U("vue-date-picker");return k(),fe(o,{class:ye({"white-theme":e.isWhite}),modelValue:e.selectDate,"onUpdate:modelValue":[t[0]||(t[0]=s=>e.selectDate=s),e.onChangeDate],format:e.getFormat,"max-date":new Date,locale:"ko","auto-apply":"","enable-time-picker":!1},{"input-icon":ve(()=>[e.isWhite?(k(),O("img",{key:0,class:"input-slot-image",src:"images/icon/ico-calendar-white.svg"},null,8,_R)):(k(),O("img",{key:1,class:"input-slot-image",src:"images/icon/ico-calendar.svg"},null,8,CR))]),_:1},8,["class","modelValue","format","max-date","onUpdate:modelValue"])}const qy=Se(yR,[["render",wR]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Yd=function(e,t){return Yd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])},Yd(e,t)};function Pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Yd(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var xR=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),ER=function(){function e(){this.browser=new xR,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),Er=new ER;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Er.wxa=!0,Er.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Er.worker=!0:typeof navigator>"u"?(Er.node=!0,Er.svgSupported=!0):bR(navigator.userAgent,Er);function bR(e,t){var n=t.browser,a=e.match(/Firefox\/([\d.]+)/),r=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),i=e.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(e);a&&(n.firefox=!0,n.version=a[1]),r&&(n.ie=!0,n.version=r[1]),i&&(n.edge=!0,n.version=i[1],n.newEdge=+i[1].split(".")[0]>18),o&&(n.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}const Je=Er;var lp=12,SR="sans-serif",Ur=lp+"px "+SR,DR=20,TR=100,IR="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function AR(e){var t={};if(typeof JSON>"u")return t;for(var n=0;n<e.length;n++){var a=String.fromCharCode(n+32),r=(e.charCodeAt(n)-DR)/TR;t[a]=r}return t}var kR=AR(IR),Zi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(n,a){if(!e){var r=Zi.createCanvas();e=r&&r.getContext("2d")}if(e)return t!==a&&(t=e.font=a||Ur),e.measureText(n);n=n||"",a=a||Ur;var i=/(\d+)px/.exec(a),o=i&&+i[1]||lp,s=0;if(a.indexOf("mono")>=0)s=o*n.length;else for(var l=0;l<n.length;l++){var u=kR[n[l]];s+=u==null?o:u*o}return{width:s}}}(),loadImage:function(e,t,n){var a=new Image;return a.onload=t,a.onerror=n,a.src=e,a}},Zy=Ki(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),Ky=Ki(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),Es=Object.prototype.toString,Tu=Array.prototype,MR=Tu.forEach,LR=Tu.filter,up=Tu.slice,RR=Tu.map,Vf=function(){}.constructor,Ns=Vf?Vf.prototype:null,cp="__proto__",OR=2311;function Xy(){return OR++}function dp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function qe(e){if(e==null||typeof e!="object")return e;var t=e,n=Es.call(e);if(n==="[object Array]"){if(!Bo(e)){t=[];for(var a=0,r=e.length;a<r;a++)t[a]=qe(e[a])}}else if(Ky[n]){if(!Bo(e)){var i=e.constructor;if(i.from)t=i.from(e);else{t=new i(e.length);for(var a=0,r=e.length;a<r;a++)t[a]=e[a]}}}else if(!Zy[n]&&!Bo(e)&&!es(e)){t={};for(var o in e)e.hasOwnProperty(o)&&o!==cp&&(t[o]=qe(e[o]))}return t}function tt(e,t,n){if(!$e(t)||!$e(e))return n?qe(t):e;for(var a in t)if(t.hasOwnProperty(a)&&a!==cp){var r=e[a],i=t[a];$e(i)&&$e(r)&&!Te(i)&&!Te(r)&&!es(i)&&!es(r)&&!Yf(i)&&!Yf(r)&&!Bo(i)&&!Bo(r)?tt(r,i,n):(n||!(a in e))&&(e[a]=qe(t[a]))}return e}function _e(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==cp&&(e[n]=t[n]);return e}function Ke(e,t,n){for(var a=Dt(t),r=0;r<a.length;r++){var i=a[r];(n?t[i]!=null:e[i]==null)&&(e[i]=t[i])}return e}function it(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n}return-1}function PR(e,t){var n=e.prototype;function a(){}a.prototype=t.prototype,e.prototype=new a;for(var r in n)n.hasOwnProperty(r)&&(e.prototype[r]=n[r]);e.prototype.constructor=e,e.superClass=t}function ua(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var a=Object.getOwnPropertyNames(t),r=0;r<a.length;r++){var i=a[r];i!=="constructor"&&(n?t[i]!=null:e[i]==null)&&(e[i]=t[i])}else Ke(e,t,n)}function pn(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function R(e,t,n){if(e&&t)if(e.forEach&&e.forEach===MR)e.forEach(t,n);else if(e.length===+e.length)for(var a=0,r=e.length;a<r;a++)t.call(n,e[a],a,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function Re(e,t,n){if(!e)return[];if(!t)return hp(e);if(e.map&&e.map===RR)return e.map(t,n);for(var a=[],r=0,i=e.length;r<i;r++)a.push(t.call(n,e[r],r,e));return a}function Ki(e,t,n,a){if(e&&t){for(var r=0,i=e.length;r<i;r++)n=t.call(a,n,e[r],r,e);return n}}function Ft(e,t,n){if(!e)return[];if(!t)return hp(e);if(e.filter&&e.filter===LR)return e.filter(t,n);for(var a=[],r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)&&a.push(e[r]);return a}function Dt(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function NR(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];return function(){return e.apply(t,n.concat(up.call(arguments)))}}var Ye=Ns&&We(Ns.bind)?Ns.call.bind(Ns.bind):NR;function _t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(up.call(arguments)))}}function Te(e){return Array.isArray?Array.isArray(e):Es.call(e)==="[object Array]"}function We(e){return typeof e=="function"}function Oe(e){return typeof e=="string"}function zd(e){return Es.call(e)==="[object String]"}function bt(e){return typeof e=="number"}function $e(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function Yf(e){return!!Zy[Es.call(e)]}function xn(e){return!!Ky[Es.call(e)]}function es(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function Iu(e){return e.colorStops!=null}function BR(e){return e.image!=null}function Wl(e){return e!==e}function ts(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,a=e.length;n<a;n++)if(e[n]!=null)return e[n]}function ut(e,t){return e??t}function Sl(e,t,n){return e??t??n}function hp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return up.apply(e,t)}function jy(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function ia(e,t){if(!e)throw new Error(t)}function ea(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Jy="__ec_primitive__";function Wd(e){e[Jy]=!0}function Bo(e){return e[Jy]}var $R=function(){function e(){this.data={}}return e.prototype.delete=function(t){var n=this.has(t);return n&&delete this.data[t],n},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,n){return this.data[t]=n,this},e.prototype.keys=function(){return Dt(this.data)},e.prototype.forEach=function(t){var n=this.data;for(var a in n)n.hasOwnProperty(a)&&t(n[a],a)},e}(),Qy=typeof Map=="function";function UR(){return Qy?new Map:new $R}var GR=function(){function e(t){var n=Te(t);this.data=UR();var a=this;t instanceof e?t.each(r):t&&R(t,r);function r(i,o){n?a.set(i,o):a.set(o,i)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,n){return this.data.set(t,n),n},e.prototype.each=function(t,n){this.data.forEach(function(a,r){t.call(n,a,r)})},e.prototype.keys=function(){var t=this.data.keys();return Qy?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function Ve(e){return new GR(e)}function FR(e,t){for(var n=new e.constructor(e.length+t.length),a=0;a<e.length;a++)n[a]=e[a];for(var r=e.length,a=0;a<t.length;a++)n[a+r]=t[a];return n}function Au(e,t){var n;if(Object.create)n=Object.create(e);else{var a=function(){};a.prototype=e,n=new a}return t&&_e(n,t),n}function e_(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Gi(e,t){return e.hasOwnProperty(t)}function tn(){}var HR=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qd=function(e,t){return qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])},qd(e,t)};function mt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qd(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Xi(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function VR(e){return[e[0],e[1]]}function zf(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function YR(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function zR(e){return Math.sqrt(WR(e))}function WR(e){return e[0]*e[0]+e[1]*e[1]}function pc(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function qR(e,t){var n=zR(t);return n===0?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function Zd(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var ZR=Zd;function KR(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Mi=KR;function XR(e,t,n,a){return e[0]=t[0]+a*(n[0]-t[0]),e[1]=t[1]+a*(n[1]-t[1]),e}function Rn(e,t,n){var a=t[0],r=t[1];return e[0]=n[0]*a+n[2]*r+n[4],e[1]=n[1]*a+n[3]*r+n[5],e}function Di(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function Ti(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var si=function(){function e(t,n){this.target=t,this.topTarget=n&&n.topTarget}return e}(),jR=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new si(n,t),"dragstart",t.event))},e.prototype._drag=function(t){var n=this._draggingTarget;if(n){var a=t.offsetX,r=t.offsetY,i=a-this._x,o=r-this._y;this._x=a,this._y=r,n.drift(i,o,t),this.handler.dispatchToElement(new si(n,t),"drag",t.event);var s=this.handler.findHover(a,r,n).target,l=this._dropTarget;this._dropTarget=s,n!==s&&(l&&s!==l&&this.handler.dispatchToElement(new si(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new si(s,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new si(n,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new si(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}();const JR=jR;var QR=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,n,a,r){this._$handlers||(this._$handlers={});var i=this._$handlers;if(typeof n=="function"&&(r=a,a=n,n=null),!a||!t)return this;var o=this._$eventProcessor;n!=null&&o&&o.normalizeQuery&&(n=o.normalizeQuery(n)),i[t]||(i[t]=[]);for(var s=0;s<i[t].length;s++)if(i[t][s].h===a)return this;var l={h:a,query:n,ctx:r||this,callAtLast:a.zrEventfulCallAtLast},u=i[t].length-1,c=i[t][u];return c&&c.callAtLast?i[t].splice(u,0,l):i[t].push(l),this},e.prototype.isSilent=function(t){var n=this._$handlers;return!n||!n[t]||!n[t].length},e.prototype.off=function(t,n){var a=this._$handlers;if(!a)return this;if(!t)return this._$handlers={},this;if(n){if(a[t]){for(var r=[],i=0,o=a[t].length;i<o;i++)a[t][i].h!==n&&r.push(a[t][i]);a[t]=r}a[t]&&a[t].length===0&&delete a[t]}else delete a[t];return this},e.prototype.trigger=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(!this._$handlers)return this;var r=this._$handlers[t],i=this._$eventProcessor;if(r)for(var o=n.length,s=r.length,l=0;l<s;l++){var u=r[l];if(!(i&&i.filter&&u.query!=null&&!i.filter(t,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,n[0]);break;case 2:u.h.call(u.ctx,n[0],n[1]);break;default:u.h.apply(u.ctx,n);break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(!this._$handlers)return this;var r=this._$handlers[t],i=this._$eventProcessor;if(r)for(var o=n.length,s=n[o-1],l=r.length,u=0;u<l;u++){var c=r[u];if(!(i&&i.filter&&c.query!=null&&!i.filter(t,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,n[0]);break;case 2:c.h.call(s,n[0],n[1]);break;default:c.h.apply(s,n.slice(1,o-1));break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},e}();const Pn=QR;var e5=Math.log(2);function Kd(e,t,n,a,r,i){var o=a+"-"+r,s=e.length;if(i.hasOwnProperty(o))return i[o];if(t===1){var l=Math.round(Math.log((1<<s)-1&~r)/e5);return e[n][l]}for(var u=a|1<<n,c=n+1;a&1<<c;)c++;for(var d=0,h=0,p=0;h<s;h++){var f=1<<h;f&r||(d+=(p%2?-1:1)*e[n][h]*Kd(e,t-1,c,u,r|f,i),p++)}return i[o]=d,d}function Wf(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],a={},r=Kd(n,8,0,0,0,a);if(r!==0){for(var i=[],o=0;o<8;o++)for(var s=0;s<8;s++)i[s]==null&&(i[s]=0),i[s]+=((o+s)%2?-1:1)*Kd(n,7,o===0?1:0,1<<o,1<<s,a)/r*t[o];return function(l,u,c){var d=u*i[6]+c*i[7]+1;l[0]=(u*i[0]+c*i[1]+i[2])/d,l[1]=(u*i[3]+c*i[4]+i[5])/d}}}var qf="___zrEVENTSAVED",fc=[];function t5(e,t,n,a,r){return Xd(fc,t,a,r,!0)&&Xd(e,n,fc[0],fc[1])}function Xd(e,t,n,a,r){if(t.getBoundingClientRect&&Je.domSupported&&!t_(t)){var i=t[qf]||(t[qf]={}),o=n5(t,i),s=a5(o,i,r);if(s)return s(e,n,a),!0}return!1}function n5(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var a=["left","right"],r=["top","bottom"],i=0;i<4;i++){var o=document.createElement("div"),s=o.style,l=i%2,u=(i>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",a[l]+":0",r[u]+":0",a[1-l]+":auto",r[1-u]+":auto",""].join("!important;"),e.appendChild(o),n.push(o)}return n}function a5(e,t,n){for(var a=n?"invTrans":"trans",r=t[a],i=t.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=e[u].getBoundingClientRect(),d=2*u,h=c.left,p=c.top;o.push(h,p),l=l&&i&&h===i[d]&&p===i[d+1],s.push(e[u].offsetLeft,e[u].offsetTop)}return l&&r?r:(t.srcCoords=o,t[a]=n?Wf(s,o):Wf(o,s))}function t_(e){return e.nodeName.toUpperCase()==="CANVAS"}var r5=/([&<>"'])/g,i5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function kn(e){return e==null?"":(e+"").replace(r5,function(t,n){return i5[n]})}var o5=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,vc=[],s5=Je.browser.firefox&&+Je.browser.version.split(".")[0]<39;function jd(e,t,n,a){return n=n||{},a?Zf(e,t,n):s5&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):Zf(e,t,n),n}function Zf(e,t,n){if(Je.domSupported&&e.getBoundingClientRect){var a=t.clientX,r=t.clientY;if(t_(e)){var i=e.getBoundingClientRect();n.zrX=a-i.left,n.zrY=r-i.top;return}else if(Xd(vc,e,a,r)){n.zrX=vc[0],n.zrY=vc[1];return}}n.zrX=n.zrY=0}function pp(e){return e||window.event}function Tn(e,t,n){if(t=pp(t),t.zrX!=null)return t;var a=t.type,r=a&&a.indexOf("touch")>=0;if(r){var o=a!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&jd(e,o,t,n)}else{jd(e,t,t,n);var i=l5(t);t.zrDelta=i?i/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&o5.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function l5(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,a=e.deltaY;if(n==null||a==null)return t;var r=Math.abs(a!==0?a:n),i=a>0?-1:a<0?1:n>0?-1:1;return 3*r*i}function Jd(e,t,n,a){e.addEventListener(t,n,a)}function u5(e,t,n,a){e.removeEventListener(t,n,a)}var Fi=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function Kf(e){return e.which===2||e.which===3}var c5=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,n,a){return this._doTrack(t,n,a),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,n,a){var r=t.touches;if(r){for(var i={points:[],touches:[],target:n,event:t},o=0,s=r.length;o<s;o++){var l=r[o],u=jd(a,l,{});i.points.push([u.zrX,u.zrY]),i.touches.push(l)}this._track.push(i)}},e.prototype._recognize=function(t){for(var n in gc)if(gc.hasOwnProperty(n)){var a=gc[n](this._track,t);if(a)return a}},e}();function Xf(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function d5(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var gc={pinch:function(e,t){var n=e.length;if(n){var a=(e[n-1]||{}).points,r=(e[n-2]||{}).points||a;if(r&&r.length>1&&a&&a.length>1){var i=Xf(a)/Xf(r);!isFinite(i)&&(i=1),t.pinchScale=i;var o=d5(a);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:e[0].target,event:t}}}}};function ns(){return[1,0,0,1,0,0]}function fp(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function h5(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Li(e,t,n){var a=t[0]*n[0]+t[2]*n[1],r=t[1]*n[0]+t[3]*n[1],i=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=a,e[1]=r,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e}function Qd(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function vp(e,t,n){var a=t[0],r=t[2],i=t[4],o=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=a*c+o*u,e[1]=-a*u+o*c,e[2]=r*c+s*u,e[3]=-r*u+c*s,e[4]=c*i+u*l,e[5]=c*l-u*i,e}function p5(e,t,n){var a=n[0],r=n[1];return e[0]=t[0]*a,e[1]=t[1]*r,e[2]=t[2]*a,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*r,e}function gp(e,t){var n=t[0],a=t[2],r=t[4],i=t[1],o=t[3],s=t[5],l=n*o-i*a;return l?(l=1/l,e[0]=o*l,e[1]=-i*l,e[2]=-a*l,e[3]=n*l,e[4]=(a*s-o*r)*l,e[5]=(i*r-n*s)*l,e):null}var f5=function(){function e(t,n){this.x=t||0,this.y=n||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,n){return this.x=t,this.y=n,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var n=this.x-t.x,a=this.y-t.y;return Math.sqrt(n*n+a*a)},e.prototype.distanceSquare=function(t){var n=this.x-t.x,a=this.y-t.y;return n*n+a*a},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var n=this.x,a=this.y;return this.x=t[0]*n+t[2]*a+t[4],this.y=t[1]*n+t[3]*a+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,n,a){t.x=n,t.y=a},e.copy=function(t,n){t.x=n.x,t.y=n.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,n){return t.x*n.x+t.y*n.y},e.add=function(t,n,a){t.x=n.x+a.x,t.y=n.y+a.y},e.sub=function(t,n,a){t.x=n.x-a.x,t.y=n.y-a.y},e.scale=function(t,n,a){t.x=n.x*a,t.y=n.y*a},e.scaleAndAdd=function(t,n,a,r){t.x=n.x+a.x*r,t.y=n.y+a.y*r},e.lerp=function(t,n,a,r){var i=1-r;t.x=i*n.x+r*a.x,t.y=i*n.y+r*a.y},e}();const at=f5;var Bs=Math.min,$s=Math.max,er=new at,tr=new at,nr=new at,ar=new at,ao=new at,ro=new at,v5=function(){function e(t,n,a,r){a<0&&(t=t+a,a=-a),r<0&&(n=n+r,r=-r),this.x=t,this.y=n,this.width=a,this.height=r}return e.prototype.union=function(t){var n=Bs(t.x,this.x),a=Bs(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=$s(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=$s(t.y+t.height,this.y+this.height)-a:this.height=t.height,this.x=n,this.y=a},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var n=this,a=t.width/n.width,r=t.height/n.height,i=ns();return Qd(i,i,[-n.x,-n.y]),p5(i,i,[a,r]),Qd(i,i,[t.x,t.y]),i},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var a=this,r=a.x,i=a.x+a.width,o=a.y,s=a.y+a.height,l=t.x,u=t.x+t.width,c=t.y,d=t.y+t.height,h=!(i<l||u<r||s<c||d<o);if(n){var p=1/0,f=0,g=Math.abs(i-l),v=Math.abs(u-r),m=Math.abs(s-c),y=Math.abs(d-o),_=Math.min(g,v),w=Math.min(m,y);i<l||u<r?_>f&&(f=_,g<v?at.set(ro,-g,0):at.set(ro,v,0)):_<p&&(p=_,g<v?at.set(ao,g,0):at.set(ao,-v,0)),s<c||d<o?w>f&&(f=w,m<y?at.set(ro,0,-m):at.set(ro,0,y)):_<p&&(p=_,m<y?at.set(ao,0,m):at.set(ao,0,-y))}return n&&at.copy(n,h?ao:ro),h},e.prototype.contain=function(t,n){var a=this;return t>=a.x&&t<=a.x+a.width&&n>=a.y&&n<=a.y+a.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,n){t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height},e.applyTransform=function(t,n,a){if(!a){t!==n&&e.copy(t,n);return}if(a[1]<1e-5&&a[1]>-1e-5&&a[2]<1e-5&&a[2]>-1e-5){var r=a[0],i=a[3],o=a[4],s=a[5];t.x=n.x*r+o,t.y=n.y*i+s,t.width=n.width*r,t.height=n.height*i,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}er.x=nr.x=n.x,er.y=ar.y=n.y,tr.x=ar.x=n.x+n.width,tr.y=nr.y=n.y+n.height,er.transform(a),ar.transform(a),tr.transform(a),nr.transform(a),t.x=Bs(er.x,tr.x,nr.x,ar.x),t.y=Bs(er.y,tr.y,nr.y,ar.y);var l=$s(er.x,tr.x,nr.x,ar.x),u=$s(er.y,tr.y,nr.y,ar.y);t.width=l-t.x,t.height=u-t.y},e}();const st=v5;var n_="silent";function g5(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:m5}}function m5(){Fi(this.event)}var y5=function(e){mt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.handler=null,n}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Pn),io=function(){function e(t,n){this.x=t,this.y=n}return e}(),_5=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],mc=new st(0,0,0,0),a_=function(e){mt(t,e);function t(n,a,r,i,o){var s=e.call(this)||this;return s._hovered=new io(0,0),s.storage=n,s.painter=a,s.painterRoot=i,s._pointerSize=o,r=r||new y5,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new JR(s),s}return t.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(R(_5,function(a){n.on&&n.on(a,this[a],this)},this),n.handler=this),this.proxy=n},t.prototype.mousemove=function(n){var a=n.zrX,r=n.zrY,i=r_(this,a,r),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=i?new io(a,r):this.findHover(a,r),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",n),this.dispatchToElement(l,"mousemove",n),u&&u!==s&&this.dispatchToElement(l,"mouseover",n)},t.prototype.mouseout=function(n){var a=n.zrEventControl;a!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),a!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},t.prototype.resize=function(){this._hovered=new io(0,0)},t.prototype.dispatch=function(n,a){var r=this[n];r&&r.call(this,a)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(n){var a=this.proxy;a.setCursor&&a.setCursor(n)},t.prototype.dispatchToElement=function(n,a,r){n=n||{};var i=n.target;if(!(i&&i.silent)){for(var o="on"+a,s=g5(a,n,r);i&&(i[o]&&(s.cancelBubble=!!i[o].call(i,s)),i.trigger(a,s),i=i.__hostTarget?i.__hostTarget:i.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(a,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(a,s)}))}},t.prototype.findHover=function(n,a,r){var i=this.storage.getDisplayList(),o=new io(n,a);if(jf(i,o,n,a,r),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new st(n-u,a-u,l,l),d=i.length-1;d>=0;d--){var h=i[d];h!==r&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(mc.copy(h.getBoundingRect()),h.transform&&mc.applyTransform(h.transform),mc.intersect(c)&&s.push(h))}if(s.length)for(var p=4,f=Math.PI/12,g=Math.PI*2,v=0;v<u;v+=p)for(var m=0;m<g;m+=f){var y=n+v*Math.cos(m),_=a+v*Math.sin(m);if(jf(s,o,y,_,r),o.target)return o}}return o},t.prototype.processGesture=function(n,a){this._gestureMgr||(this._gestureMgr=new c5);var r=this._gestureMgr;a==="start"&&r.clear();var i=r.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(a==="end"&&r.clear(),i){var o=i.type;n.gestureEvent=o;var s=new io;s.target=i.target,this.dispatchToElement(s,o,i.event)}},t}(Pn);R(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){a_.prototype[e]=function(t){var n=t.zrX,a=t.zrY,r=r_(this,n,a),i,o;if((e!=="mouseup"||!r)&&(i=this.findHover(n,a),o=i.target),e==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(e==="mouseup")this._upEl=o;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||ZR(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,e,t)}});function C5(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var a=e,r=void 0,i=!1;a;){if(a.ignoreClip&&(i=!0),!i){var o=a.getClipPath();if(o&&!o.contain(t,n))return!1;a.silent&&(r=!0)}var s=a.__hostTarget;a=s||a.parent}return r?n_:!0}return!1}function jf(e,t,n,a,r){for(var i=e.length-1;i>=0;i--){var o=e[i],s=void 0;if(o!==r&&!o.ignore&&(s=C5(o,n,a))&&(!t.topTarget&&(t.topTarget=o),s!==n_)){t.target=o;break}}}function r_(e,t,n){var a=e.painter;return t<0||t>a.getWidth()||n<0||n>a.getHeight()}const w5=a_;var i_=32,oo=7;function x5(e){for(var t=0;e>=i_;)t|=e&1,e>>=1;return e+t}function Jf(e,t,n,a){var r=t+1;if(r===n)return 1;if(a(e[r++],e[t])<0){for(;r<n&&a(e[r],e[r-1])<0;)r++;E5(e,t,r)}else for(;r<n&&a(e[r],e[r-1])>=0;)r++;return r-t}function E5(e,t,n){for(n--;t<n;){var a=e[t];e[t++]=e[n],e[n--]=a}}function Qf(e,t,n,a,r){for(a===t&&a++;a<n;a++){for(var i=e[a],o=t,s=a,l;o<s;)l=o+s>>>1,r(i,e[l])<0?s=l:o=l+1;var u=a-o;switch(u){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;u>0;)e[o+u]=e[o+u-1],u--}e[o]=i}}function yc(e,t,n,a,r,i){var o=0,s=0,l=1;if(i(e,t[n+r])>0){for(s=a-r;l<s&&i(e,t[n+r+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}else{for(s=r+1;l<s&&i(e,t[n+r-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=r-l,l=r-u}for(o++;o<l;){var c=o+(l-o>>>1);i(e,t[n+c])>0?o=c+1:l=c}return l}function _c(e,t,n,a,r,i){var o=0,s=0,l=1;if(i(e,t[n+r])<0){for(s=r+1;l<s&&i(e,t[n+r-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=r-l,l=r-u}else{for(s=a-r;l<s&&i(e,t[n+r+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}for(o++;o<l;){var c=o+(l-o>>>1);i(e,t[n+c])<0?l=c:o=c+1}return l}function b5(e,t){var n=oo,a,r,i=0;e.length;var o=[];a=[],r=[];function s(p,f){a[i]=p,r[i]=f,i+=1}function l(){for(;i>1;){var p=i-2;if(p>=1&&r[p-1]<=r[p]+r[p+1]||p>=2&&r[p-2]<=r[p]+r[p-1])r[p-1]<r[p+1]&&p--;else if(r[p]>r[p+1])break;c(p)}}function u(){for(;i>1;){var p=i-2;p>0&&r[p-1]<r[p+1]&&p--,c(p)}}function c(p){var f=a[p],g=r[p],v=a[p+1],m=r[p+1];r[p]=g+m,p===i-3&&(a[p+1]=a[p+2],r[p+1]=r[p+2]),i--;var y=_c(e[v],e,f,g,0,t);f+=y,g-=y,g!==0&&(m=yc(e[f+g-1],e,v,m,m-1,t),m!==0&&(g<=m?d(f,g,v,m):h(f,g,v,m)))}function d(p,f,g,v){var m=0;for(m=0;m<f;m++)o[m]=e[p+m];var y=0,_=g,w=p;if(e[w++]=e[_++],--v===0){for(m=0;m<f;m++)e[w+m]=o[y+m];return}if(f===1){for(m=0;m<v;m++)e[w+m]=e[_+m];e[w+v]=o[y];return}for(var E=n,x,S,b;;){x=0,S=0,b=!1;do if(t(e[_],o[y])<0){if(e[w++]=e[_++],S++,x=0,--v===0){b=!0;break}}else if(e[w++]=o[y++],x++,S=0,--f===1){b=!0;break}while((x|S)<E);if(b)break;do{if(x=_c(e[_],o,y,f,0,t),x!==0){for(m=0;m<x;m++)e[w+m]=o[y+m];if(w+=x,y+=x,f-=x,f<=1){b=!0;break}}if(e[w++]=e[_++],--v===0){b=!0;break}if(S=yc(o[y],e,_,v,0,t),S!==0){for(m=0;m<S;m++)e[w+m]=e[_+m];if(w+=S,_+=S,v-=S,v===0){b=!0;break}}if(e[w++]=o[y++],--f===1){b=!0;break}E--}while(x>=oo||S>=oo);if(b)break;E<0&&(E=0),E+=2}if(n=E,n<1&&(n=1),f===1){for(m=0;m<v;m++)e[w+m]=e[_+m];e[w+v]=o[y]}else{if(f===0)throw new Error;for(m=0;m<f;m++)e[w+m]=o[y+m]}}function h(p,f,g,v){var m=0;for(m=0;m<v;m++)o[m]=e[g+m];var y=p+f-1,_=v-1,w=g+v-1,E=0,x=0;if(e[w--]=e[y--],--f===0){for(E=w-(v-1),m=0;m<v;m++)e[E+m]=o[m];return}if(v===1){for(w-=f,y-=f,x=w+1,E=y+1,m=f-1;m>=0;m--)e[x+m]=e[E+m];e[w]=o[_];return}for(var S=n;;){var b=0,D=0,T=!1;do if(t(o[_],e[y])<0){if(e[w--]=e[y--],b++,D=0,--f===0){T=!0;break}}else if(e[w--]=o[_--],D++,b=0,--v===1){T=!0;break}while((b|D)<S);if(T)break;do{if(b=f-_c(o[_],e,p,f,f-1,t),b!==0){for(w-=b,y-=b,f-=b,x=w+1,E=y+1,m=b-1;m>=0;m--)e[x+m]=e[E+m];if(f===0){T=!0;break}}if(e[w--]=o[_--],--v===1){T=!0;break}if(D=v-yc(e[y],o,0,v,v-1,t),D!==0){for(w-=D,_-=D,v-=D,x=w+1,E=_+1,m=0;m<D;m++)e[x+m]=o[E+m];if(v<=1){T=!0;break}}if(e[w--]=e[y--],--f===0){T=!0;break}S--}while(b>=oo||D>=oo);if(T)break;S<0&&(S=0),S+=2}if(n=S,n<1&&(n=1),v===1){for(w-=f,y-=f,x=w+1,E=y+1,m=f-1;m>=0;m--)e[x+m]=e[E+m];e[w]=o[_]}else{if(v===0)throw new Error;for(E=w-(v-1),m=0;m<v;m++)e[E+m]=o[m]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function Dl(e,t,n,a){n||(n=0),a||(a=e.length);var r=a-n;if(!(r<2)){var i=0;if(r<i_){i=Jf(e,n,a,t),Qf(e,n,a,n+i,t);return}var o=b5(e,t),s=x5(r);do{if(i=Jf(e,n,a,t),i<s){var l=r;l>s&&(l=s),Qf(e,n,n+l,n+i,t),i=l}o.pushRun(n,i),o.mergeRuns(),r-=i,n+=i}while(r!==0);o.forceMergeRuns()}}var Cn=1,Ao=2,Ei=4,ev=!1;function Cc(){ev||(ev=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function tv(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var S5=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=tv}return e.prototype.traverse=function(t,n){for(var a=0;a<this._roots.length;a++)this._roots[a].traverse(t,n)},e.prototype.getDisplayList=function(t,n){n=n||!1;var a=this._displayList;return(t||!a.length)&&this.updateDisplayList(n),a},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var n=this._roots,a=this._displayList,r=0,i=n.length;r<i;r++)this._updateAndAddDisplayable(n[r],null,t);a.length=this._displayListLen,Dl(a,tv)},e.prototype._updateAndAddDisplayable=function(t,n,a){if(!(t.ignore&&!a)){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)n=null;else if(r){n?n=n.slice():n=[];for(var i=r,o=t;i;)i.parent=o,i.updateTransform(),n.push(i),o=i,i=i.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=Cn),this._updateAndAddDisplayable(u,n,a)}t.__dirty=0}else{var c=t;n&&n.length?c.__clipPaths=n:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(Cc(),c.z=0),isNaN(c.z2)&&(Cc(),c.z2=0),isNaN(c.zlevel)&&(Cc(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var d=t.getDecalElement&&t.getDecalElement();d&&this._updateAndAddDisplayable(d,n,a);var h=t.getTextGuideLine();h&&this._updateAndAddDisplayable(h,n,a);var p=t.getTextContent();p&&this._updateAndAddDisplayable(p,n,a)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var n=0,a=t.length;n<a;n++)this.delRoot(t[n]);return}var r=it(this._roots,t);r>=0&&this._roots.splice(r,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}();const D5=S5;var o_;o_=Je.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};const eh=o_;var Tl={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,a=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=a/4):t=a*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)))},elasticOut:function(e){var t,n=.1,a=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=a/4):t=a*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/a)+1)},elasticInOut:function(e){var t,n=.1,a=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=a/4):t=a*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Tl.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?Tl.bounceIn(e*2)*.5:Tl.bounceOut(e*2-1)*.5+.5}};const s_=Tl;var Us=Math.pow,za=Math.sqrt,ql=1e-8,l_=1e-4,nv=za(3),Gs=1/3,Jn=Xi(),Mn=Xi(),Ri=Xi();function Ha(e){return e>-ql&&e<ql}function u_(e){return e>ql||e<-ql}function Pt(e,t,n,a,r){var i=1-r;return i*i*(i*e+3*r*t)+r*r*(r*a+3*i*n)}function av(e,t,n,a,r){var i=1-r;return 3*(((t-e)*i+2*(n-t)*r)*i+(a-n)*r*r)}function Zl(e,t,n,a,r,i){var o=a+3*(t-n)-e,s=3*(n-t*2+e),l=3*(t-e),u=e-r,c=s*s-3*o*l,d=s*l-9*o*u,h=l*l-3*s*u,p=0;if(Ha(c)&&Ha(d))if(Ha(s))i[0]=0;else{var f=-l/s;f>=0&&f<=1&&(i[p++]=f)}else{var g=d*d-4*c*h;if(Ha(g)){var v=d/c,f=-s/o+v,m=-v/2;f>=0&&f<=1&&(i[p++]=f),m>=0&&m<=1&&(i[p++]=m)}else if(g>0){var y=za(g),_=c*s+1.5*o*(-d+y),w=c*s+1.5*o*(-d-y);_<0?_=-Us(-_,Gs):_=Us(_,Gs),w<0?w=-Us(-w,Gs):w=Us(w,Gs);var f=(-s-(_+w))/(3*o);f>=0&&f<=1&&(i[p++]=f)}else{var E=(2*c*s-3*o*d)/(2*za(c*c*c)),x=Math.acos(E)/3,S=za(c),b=Math.cos(x),f=(-s-2*S*b)/(3*o),m=(-s+S*(b+nv*Math.sin(x)))/(3*o),D=(-s+S*(b-nv*Math.sin(x)))/(3*o);f>=0&&f<=1&&(i[p++]=f),m>=0&&m<=1&&(i[p++]=m),D>=0&&D<=1&&(i[p++]=D)}}return p}function c_(e,t,n,a,r){var i=6*n-12*t+6*e,o=9*t+3*a-3*e-9*n,s=3*t-3*e,l=0;if(Ha(o)){if(u_(i)){var u=-s/i;u>=0&&u<=1&&(r[l++]=u)}}else{var c=i*i-4*o*s;if(Ha(c))r[0]=-i/(2*o);else if(c>0){var d=za(c),u=(-i+d)/(2*o),h=(-i-d)/(2*o);u>=0&&u<=1&&(r[l++]=u),h>=0&&h<=1&&(r[l++]=h)}}return l}function ja(e,t,n,a,r,i){var o=(t-e)*r+e,s=(n-t)*r+t,l=(a-n)*r+n,u=(s-o)*r+o,c=(l-s)*r+s,d=(c-u)*r+u;i[0]=e,i[1]=o,i[2]=u,i[3]=d,i[4]=d,i[5]=c,i[6]=l,i[7]=a}function T5(e,t,n,a,r,i,o,s,l,u,c){var d,h=.005,p=1/0,f,g,v,m;Jn[0]=l,Jn[1]=u;for(var y=0;y<1;y+=.05)Mn[0]=Pt(e,n,r,o,y),Mn[1]=Pt(t,a,i,s,y),v=Mi(Jn,Mn),v<p&&(d=y,p=v);p=1/0;for(var _=0;_<32&&!(h<l_);_++)f=d-h,g=d+h,Mn[0]=Pt(e,n,r,o,f),Mn[1]=Pt(t,a,i,s,f),v=Mi(Mn,Jn),f>=0&&v<p?(d=f,p=v):(Ri[0]=Pt(e,n,r,o,g),Ri[1]=Pt(t,a,i,s,g),m=Mi(Ri,Jn),g<=1&&m<p?(d=g,p=m):h*=.5);return c&&(c[0]=Pt(e,n,r,o,d),c[1]=Pt(t,a,i,s,d)),za(p)}function I5(e,t,n,a,r,i,o,s,l){for(var u=e,c=t,d=0,h=1/l,p=1;p<=l;p++){var f=p*h,g=Pt(e,n,r,o,f),v=Pt(t,a,i,s,f),m=g-u,y=v-c;d+=Math.sqrt(m*m+y*y),u=g,c=v}return d}function qt(e,t,n,a){var r=1-a;return r*(r*e+2*a*t)+a*a*n}function rv(e,t,n,a){return 2*((1-a)*(t-e)+a*(n-t))}function A5(e,t,n,a,r){var i=e-2*t+n,o=2*(t-e),s=e-a,l=0;if(Ha(i)){if(u_(o)){var u=-s/o;u>=0&&u<=1&&(r[l++]=u)}}else{var c=o*o-4*i*s;if(Ha(c)){var u=-o/(2*i);u>=0&&u<=1&&(r[l++]=u)}else if(c>0){var d=za(c),u=(-o+d)/(2*i),h=(-o-d)/(2*i);u>=0&&u<=1&&(r[l++]=u),h>=0&&h<=1&&(r[l++]=h)}}return l}function d_(e,t,n){var a=e+n-2*t;return a===0?.5:(e-t)/a}function Kl(e,t,n,a,r){var i=(t-e)*a+e,o=(n-t)*a+t,s=(o-i)*a+i;r[0]=e,r[1]=i,r[2]=s,r[3]=s,r[4]=o,r[5]=n}function k5(e,t,n,a,r,i,o,s,l){var u,c=.005,d=1/0;Jn[0]=o,Jn[1]=s;for(var h=0;h<1;h+=.05){Mn[0]=qt(e,n,r,h),Mn[1]=qt(t,a,i,h);var p=Mi(Jn,Mn);p<d&&(u=h,d=p)}d=1/0;for(var f=0;f<32&&!(c<l_);f++){var g=u-c,v=u+c;Mn[0]=qt(e,n,r,g),Mn[1]=qt(t,a,i,g);var p=Mi(Mn,Jn);if(g>=0&&p<d)u=g,d=p;else{Ri[0]=qt(e,n,r,v),Ri[1]=qt(t,a,i,v);var m=Mi(Ri,Jn);v<=1&&m<d?(u=v,d=m):c*=.5}}return l&&(l[0]=qt(e,n,r,u),l[1]=qt(t,a,i,u)),za(d)}function M5(e,t,n,a,r,i,o){for(var s=e,l=t,u=0,c=1/o,d=1;d<=o;d++){var h=d*c,p=qt(e,n,r,h),f=qt(t,a,i,h),g=p-s,v=f-l;u+=Math.sqrt(g*g+v*v),s=p,l=f}return u}var L5=/cubic-bezier\(([0-9,\.e ]+)\)/;function h_(e){var t=e&&L5.exec(e);if(t){var n=t[1].split(","),a=+ea(n[0]),r=+ea(n[1]),i=+ea(n[2]),o=+ea(n[3]);if(isNaN(a+r+i+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:Zl(0,a,i,1,l,s)&&Pt(0,r,o,1,s[0])}}}var R5=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||tn,this.ondestroy=t.ondestroy||tn,this.onrestart=t.onrestart||tn,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,n){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var a=this._life,r=t-this._startTime-this._pausedTime,i=r/a;i<0&&(i=0),i=Math.min(i,1);var o=this.easingFunc,s=o?o(i):i;if(this.onframe(s),i===1)if(this.loop){var l=r%a;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=We(t)?t:s_[t]||h_(t)},e}();const O5=R5;var p_=function(){function e(t){this.value=t}return e}(),P5=function(){function e(){this._len=0}return e.prototype.insert=function(t){var n=new p_(t);return this.insertEntry(n),n},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var n=t.prev,a=t.next;n?n.next=a:this.head=a,a?a.prev=n:this.tail=n,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),N5=function(){function e(t){this._list=new P5,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,n){var a=this._list,r=this._map,i=null;if(r[t]==null){var o=a.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=a.head;a.remove(l),delete r[l.key],i=l.value,this._lastRemovedEntry=l}s?s.value=n:s=new p_(n),s.key=t,a.insertEntry(s),r[t]=s}return i},e.prototype.get=function(t){var n=this._map[t],a=this._list;if(n!=null)return n!==a.tail&&(a.remove(n),a.insertEntry(n)),n.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}();const bs=N5;var iv={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Wa(e){return e=Math.round(e),e<0?0:e>255?255:e}function th(e){return e<0?0:e>1?1:e}function wc(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?Wa(parseFloat(t)/100*255):Wa(parseInt(t,10))}function $o(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?th(parseFloat(t)/100):th(parseFloat(t))}function xc(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function Fs(e,t,n){return e+(t-e)*n}function Dn(e,t,n,a,r){return e[0]=t,e[1]=n,e[2]=a,e[3]=r,e}function nh(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var f_=new bs(20),Hs=null;function li(e,t){Hs&&nh(Hs,t),Hs=f_.put(e,Hs||t.slice())}function qa(e,t){if(e){t=t||[];var n=f_.get(e);if(n)return nh(t,n);e=e+"";var a=e.replace(/ /g,"").toLowerCase();if(a in iv)return nh(t,iv[a]),li(e,t),t;var r=a.length;if(a.charAt(0)==="#"){if(r===4||r===5){var i=parseInt(a.slice(1,4),16);if(!(i>=0&&i<=4095)){Dn(t,0,0,0,1);return}return Dn(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,r===5?parseInt(a.slice(4),16)/15:1),li(e,t),t}else if(r===7||r===9){var i=parseInt(a.slice(1,7),16);if(!(i>=0&&i<=16777215)){Dn(t,0,0,0,1);return}return Dn(t,(i&16711680)>>16,(i&65280)>>8,i&255,r===9?parseInt(a.slice(7),16)/255:1),li(e,t),t}return}var o=a.indexOf("("),s=a.indexOf(")");if(o!==-1&&s+1===r){var l=a.substr(0,o),u=a.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Dn(t,+u[0],+u[1],+u[2],1):Dn(t,0,0,0,1);c=$o(u.pop());case"rgb":if(u.length>=3)return Dn(t,wc(u[0]),wc(u[1]),wc(u[2]),u.length===3?c:$o(u[3])),li(e,t),t;Dn(t,0,0,0,1);return;case"hsla":if(u.length!==4){Dn(t,0,0,0,1);return}return u[3]=$o(u[3]),ov(u,t),li(e,t),t;case"hsl":if(u.length!==3){Dn(t,0,0,0,1);return}return ov(u,t),li(e,t),t;default:return}}Dn(t,0,0,0,1)}}function ov(e,t){var n=(parseFloat(e[0])%360+360)%360/360,a=$o(e[1]),r=$o(e[2]),i=r<=.5?r*(a+1):r+a-r*a,o=r*2-i;return t=t||[],Dn(t,Wa(xc(o,i,n+1/3)*255),Wa(xc(o,i,n)*255),Wa(xc(o,i,n-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function sv(e,t){var n=qa(e);if(n){for(var a=0;a<3;a++)t<0?n[a]=n[a]*(1-t)|0:n[a]=(255-n[a])*t+n[a]|0,n[a]>255?n[a]=255:n[a]<0&&(n[a]=0);return mp(n,n.length===4?"rgba":"rgb")}}function B5(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var a=e*(t.length-1),r=Math.floor(a),i=Math.ceil(a),o=qa(t[r]),s=qa(t[i]),l=a-r,u=mp([Wa(Fs(o[0],s[0],l)),Wa(Fs(o[1],s[1],l)),Wa(Fs(o[2],s[2],l)),th(Fs(o[3],s[3],l))],"rgba");return n?{color:u,leftIndex:r,rightIndex:i,value:a}:u}}function mp(e,t){if(!(!e||!e.length)){var n=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+e[3]),t+"("+n+")"}}function Xl(e,t){var n=qa(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}function $5(e){return e.type==="linear"}function U5(e){return e.type==="radial"}(function(){return Je.hasGlobalWindow&&We(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}})();var ah=Array.prototype.slice;function va(e,t,n){return(t-e)*n+e}function Ec(e,t,n,a){for(var r=t.length,i=0;i<r;i++)e[i]=va(t[i],n[i],a);return e}function G5(e,t,n,a){for(var r=t.length,i=r&&t[0].length,o=0;o<r;o++){e[o]||(e[o]=[]);for(var s=0;s<i;s++)e[o][s]=va(t[o][s],n[o][s],a)}return e}function Vs(e,t,n,a){for(var r=t.length,i=0;i<r;i++)e[i]=t[i]+n[i]*a;return e}function lv(e,t,n,a){for(var r=t.length,i=r&&t[0].length,o=0;o<r;o++){e[o]||(e[o]=[]);for(var s=0;s<i;s++)e[o][s]=t[o][s]+n[o][s]*a}return e}function F5(e,t){for(var n=e.length,a=t.length,r=n>a?t:e,i=Math.min(n,a),o=r[i-1]||{color:[0,0,0,0],offset:0},s=i;s<Math.max(n,a);s++)r.push({offset:o.offset,color:o.color.slice()})}function H5(e,t,n){var a=e,r=t;if(!(!a.push||!r.push)){var i=a.length,o=r.length;if(i!==o){var s=i>o;if(s)a.length=o;else for(var l=i;l<o;l++)a.push(n===1?r[l]:ah.call(r[l]))}for(var u=a[0]&&a[0].length,l=0;l<a.length;l++)if(n===1)isNaN(a[l])&&(a[l]=r[l]);else for(var c=0;c<u;c++)isNaN(a[l][c])&&(a[l][c]=r[l][c])}}function Il(e){if(pn(e)){var t=e.length;if(pn(e[0])){for(var n=[],a=0;a<t;a++)n.push(ah.call(e[a]));return n}return ah.call(e)}return e}function Al(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function V5(e){return pn(e&&e[0])?2:1}var Ys=0,kl=1,v_=2,ko=3,rh=4,ih=5,uv=6;function cv(e){return e===rh||e===ih}function zs(e){return e===kl||e===v_}var so=[0,0,0,0],Y5=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,n,a){this._needsSort=!0;var r=this.keyframes,i=r.length,o=!1,s=uv,l=n;if(pn(n)){var u=V5(n);s=u,(u===1&&!bt(n[0])||u===2&&!bt(n[0][0]))&&(o=!0)}else if(bt(n)&&!Wl(n))s=Ys;else if(Oe(n))if(!isNaN(+n))s=Ys;else{var c=qa(n);c&&(l=c,s=ko)}else if(Iu(n)){var d=_e({},l);d.colorStops=Re(n.colorStops,function(p){return{offset:p.offset,color:qa(p.color)}}),$5(n)?s=rh:U5(n)&&(s=ih),l=d}i===0?this.valType=s:(s!==this.valType||s===uv)&&(o=!0),this.discrete=this.discrete||o;var h={time:t,value:l,rawValue:n,percent:0};return a&&(h.easing=a,h.easingFunc=We(a)?a:s_[a]||h_(a)),r.push(h),h},e.prototype.prepare=function(t,n){var a=this.keyframes;this._needsSort&&a.sort(function(g,v){return g.time-v.time});for(var r=this.valType,i=a.length,o=a[i-1],s=this.discrete,l=zs(r),u=cv(r),c=0;c<i;c++){var d=a[c],h=d.value,p=o.value;d.percent=d.time/t,s||(l&&c!==i-1?H5(h,p,r):u&&F5(h.colorStops,p.colorStops))}if(!s&&r!==ih&&n&&this.needsAnimate()&&n.needsAnimate()&&r===n.valType&&!n._finished){this._additiveTrack=n;for(var f=a[0].value,c=0;c<i;c++)r===Ys?a[c].additiveValue=a[c].value-f:r===ko?a[c].additiveValue=Vs([],a[c].value,f,-1):zs(r)&&(a[c].additiveValue=r===kl?Vs([],a[c].value,f,-1):lv([],a[c].value,f,-1))}},e.prototype.step=function(t,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var a=this._additiveTrack!=null,r=a?"additiveValue":"value",i=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=i===ko,c,d=this._lastFr,h=Math.min,p,f;if(s===1)p=f=o[0];else{if(n<0)c=0;else if(n<this._lastFrP){var g=h(d+1,s-1);for(c=g;c>=0&&!(o[c].percent<=n);c--);c=h(c,s-2)}else{for(c=d;c<s&&!(o[c].percent>n);c++);c=h(c-1,s-2)}f=o[c+1],p=o[c]}if(p&&f){this._lastFr=c,this._lastFrP=n;var v=f.percent-p.percent,m=v===0?1:h((n-p.percent)/v,1);f.easingFunc&&(m=f.easingFunc(m));var y=a?this._additiveValue:u?so:t[l];if((zs(i)||u)&&!y&&(y=this._additiveValue=[]),this.discrete)t[l]=m<1?p.rawValue:f.rawValue;else if(zs(i))i===kl?Ec(y,p[r],f[r],m):G5(y,p[r],f[r],m);else if(cv(i)){var _=p[r],w=f[r],E=i===rh;t[l]={type:E?"linear":"radial",x:va(_.x,w.x,m),y:va(_.y,w.y,m),colorStops:Re(_.colorStops,function(S,b){var D=w.colorStops[b];return{offset:va(S.offset,D.offset,m),color:Al(Ec([],S.color,D.color,m))}}),global:w.global},E?(t[l].x2=va(_.x2,w.x2,m),t[l].y2=va(_.y2,w.y2,m)):t[l].r=va(_.r,w.r,m)}else if(u)Ec(y,p[r],f[r],m),a||(t[l]=Al(y));else{var x=va(p[r],f[r],m);a?this._additiveValue=x:t[l]=x}a&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var n=this.valType,a=this.propName,r=this._additiveValue;n===Ys?t[a]=t[a]+r:n===ko?(qa(t[a],so),Vs(so,so,r,1),t[a]=Al(so)):n===kl?Vs(t[a],t[a],r,1):n===v_&&lv(t[a],t[a],r,1)},e}(),z5=function(){function e(t,n,a,r){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=n,n&&r){dp("Can' use additive animation on looped animation.");return}this._additiveAnimators=r,this._allowDiscrete=a}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,n,a){return this.whenWithKeys(t,n,Dt(n),a)},e.prototype.whenWithKeys=function(t,n,a,r){for(var i=this._tracks,o=0;o<a.length;o++){var s=a[o],l=i[s];if(!l){l=i[s]=new Y5(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var d=c.keyframes,h=d[d.length-1];u=h&&h.value,c.valType===ko&&u&&(u=Al(u))}else u=this._target[s];if(u==null)continue;t>0&&l.addKeyframe(0,Il(u),r),this._trackKeys.push(s)}l.addKeyframe(t,Il(n[s]),r)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var n=t.length,a=0;a<n;a++)t[a].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,n=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,n)for(var a=0;a<n.length;a++)n[a].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,n=this._trackKeys,a=0;a<n.length;a++)t[n[a]].setFinished()},e.prototype._getAdditiveTrack=function(t){var n,a=this._additiveAnimators;if(a)for(var r=0;r<a.length;r++){var i=a[r].getTrack(t);i&&(n=i)}return n},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var n=this,a=[],r=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(r,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var d=u[c-1];d&&(n._target[s.propName]=d.rawValue),s.setFinished()}else a.push(s)}if(a.length||this._force){var h=new O5({life:r,loop:this._loop,delay:this._delay||0,onframe:function(p){n._started=2;var f=n._additiveAnimators;if(f){for(var g=!1,v=0;v<f.length;v++)if(f[v]._clip){g=!0;break}g||(n._additiveAnimators=null)}for(var v=0;v<a.length;v++)a[v].step(n._target,p);var m=n._onframeCbs;if(m)for(var v=0;v<m.length;v++)m[v](n._target,p)},ondestroy:function(){n._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),t&&h.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var n=this._clip;t&&n.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return Re(this._trackKeys,function(n){return t._tracks[n]})},e.prototype.stopTracks=function(t,n){if(!t.length||!this._clip)return!0;for(var a=this._tracks,r=this._trackKeys,i=0;i<t.length;i++){var o=a[t[i]];o&&!o.isFinished()&&(n?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,i=0;i<r.length;i++)if(!a[r[i]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(t,n,a){if(t){n=n||this._trackKeys;for(var r=0;r<n.length;r++){var i=n[r],o=this._tracks[i];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[a?0:s.length-1];l&&(t[i]=Il(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,n){n=n||Dt(t);for(var a=0;a<n.length;a++){var r=n[a],i=this._tracks[r];if(i){var o=i.keyframes;if(o.length>1){var s=o.pop();i.addKeyframe(s.time,t[r]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},e}();const yp=z5;function Ii(){return new Date().getTime()}var W5=function(e){mt(t,e);function t(n){var a=e.call(this)||this;return a._running=!1,a._time=0,a._pausedTime=0,a._pauseStart=0,a._paused=!1,n=n||{},a.stage=n.stage||{},a}return t.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},t.prototype.addAnimator=function(n){n.animation=this;var a=n.getClip();a&&this.addClip(a)},t.prototype.removeClip=function(n){if(n.animation){var a=n.prev,r=n.next;a?a.next=r:this._head=r,r?r.prev=a:this._tail=a,n.next=n.prev=n.animation=null}},t.prototype.removeAnimator=function(n){var a=n.getClip();a&&this.removeClip(a),n.animation=null},t.prototype.update=function(n){for(var a=Ii()-this._pausedTime,r=a-this._time,i=this._head;i;){var o=i.next,s=i.step(a,r);s&&(i.ondestroy(),this.removeClip(i)),i=o}this._time=a,n||(this.trigger("frame",r),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var n=this;this._running=!0;function a(){n._running&&(eh(a),!n._paused&&n.update())}eh(a)},t.prototype.start=function(){this._running||(this._time=Ii(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Ii(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Ii()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var n=this._head;n;){var a=n.next;n.prev=n.next=n.animation=null,n=a}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(n,a){a=a||{},this.start();var r=new yp(n,a.loop);return this.addAnimator(r),r},t}(Pn);const q5=W5;var Z5=300,bc=Je.domSupported,Sc=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},a=Re(e,function(r){var i=r.replace("mouse","pointer");return n.hasOwnProperty(i)?i:r});return{mouse:e,touch:t,pointer:a}}(),dv={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},hv=!1;function oh(e){var t=e.pointerType;return t==="pen"||t==="touch"}function K5(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function Dc(e){e&&(e.zrByTouch=!0)}function X5(e,t){return Tn(e.dom,new j5(e,t),!0)}function g_(e,t){for(var n=t,a=!1;n&&n.nodeType!==9&&!(a=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return a}var j5=function(){function e(t,n){this.stopPropagation=tn,this.stopImmediatePropagation=tn,this.preventDefault=tn,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return e}(),Hn={mousedown:function(e){e=Tn(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Tn(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=Tn(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=Tn(this.dom,e);var t=e.toElement||e.relatedTarget;g_(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){hv=!0,e=Tn(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){hv||(e=Tn(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=Tn(this.dom,e),Dc(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Hn.mousemove.call(this,e),Hn.mousedown.call(this,e)},touchmove:function(e){e=Tn(this.dom,e),Dc(e),this.handler.processGesture(e,"change"),Hn.mousemove.call(this,e)},touchend:function(e){e=Tn(this.dom,e),Dc(e),this.handler.processGesture(e,"end"),Hn.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<Z5&&Hn.click.call(this,e)},pointerdown:function(e){Hn.mousedown.call(this,e)},pointermove:function(e){oh(e)||Hn.mousemove.call(this,e)},pointerup:function(e){Hn.mouseup.call(this,e)},pointerout:function(e){oh(e)||Hn.mouseout.call(this,e)}};R(["click","dblclick","contextmenu"],function(e){Hn[e]=function(t){t=Tn(this.dom,t),this.trigger(e,t)}});var sh={pointermove:function(e){oh(e)||sh.mousemove.call(this,e)},pointerup:function(e){sh.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function J5(e,t){var n=t.domHandlers;Je.pointerEventsSupported?R(Sc.pointer,function(a){Ml(t,a,function(r){n[a].call(e,r)})}):(Je.touchEventsSupported&&R(Sc.touch,function(a){Ml(t,a,function(r){n[a].call(e,r),K5(t)})}),R(Sc.mouse,function(a){Ml(t,a,function(r){r=pp(r),t.touching||n[a].call(e,r)})}))}function Q5(e,t){Je.pointerEventsSupported?R(dv.pointer,n):Je.touchEventsSupported||R(dv.mouse,n);function n(a){function r(i){i=pp(i),g_(e,i.target)||(i=X5(e,i),t.domHandlers[a].call(e,i))}Ml(t,a,r,{capture:!0})}}function Ml(e,t,n,a){e.mounted[t]=n,e.listenerOpts[t]=a,Jd(e.domTarget,t,n,a)}function Tc(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&u5(e.domTarget,n,t[n],e.listenerOpts[n]);e.mounted={}}var pv=function(){function e(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}return e}(),eO=function(e){mt(t,e);function t(n,a){var r=e.call(this)||this;return r.__pointerCapturing=!1,r.dom=n,r.painterRoot=a,r._localHandlerScope=new pv(n,Hn),bc&&(r._globalHandlerScope=new pv(document,sh)),J5(r,r._localHandlerScope),r}return t.prototype.dispose=function(){Tc(this._localHandlerScope),bc&&Tc(this._globalHandlerScope)},t.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},t.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,bc&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var a=this._globalHandlerScope;n?Q5(this,a):Tc(a)}},t}(Pn);const tO=eO;var m_=1;Je.hasGlobalWindow&&(m_=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var jl=m_,lh=.4,uh="#333",ch="#ccc",nO="#eee",fv=fp,vv=5e-5;function rr(e){return e>vv||e<-vv}var ir=[],ui=[],Ic=ns(),Ac=Math.abs,aO=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return rr(this.rotation)||rr(this.x)||rr(this.y)||rr(this.scaleX-1)||rr(this.scaleY-1)||rr(this.skewX)||rr(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),a=this.transform;if(!(n||t)){a&&fv(a);return}a=a||ns(),n?this.getLocalTransform(a):fv(a),t&&(n?Li(a,t,a):h5(a,t)),this.transform=a,this._resolveGlobalScaleRatio(a)},e.prototype._resolveGlobalScaleRatio=function(t){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(ir);var a=ir[0]<0?-1:1,r=ir[1]<0?-1:1,i=((ir[0]-a)*n+a)/ir[0]||0,o=((ir[1]-r)*n+r)/ir[1]||0;t[0]*=i,t[1]*=i,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||ns(),gp(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var n=t[0]*t[0]+t[1]*t[1],a=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),i=Math.PI/2+r-Math.atan2(t[3],t[2]);a=Math.sqrt(a)*Math.cos(i),n=Math.sqrt(n),this.skewX=i,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=a,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(Li(ui,t.invTransform,n),n=ui);var a=this.originX,r=this.originY;(a||r)&&(Ic[4]=a,Ic[5]=r,Li(ui,n,Ic),ui[4]-=a,ui[5]-=r,n=ui),this.setLocalTransform(n)}},e.prototype.getGlobalScale=function(t){var n=this.transform;return t=t||[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,n){var a=[t,n],r=this.invTransform;return r&&Rn(a,a,r),a},e.prototype.transformCoordToGlobal=function(t,n){var a=[t,n],r=this.transform;return r&&Rn(a,a,r),a},e.prototype.getLineScale=function(){var t=this.transform;return t&&Ac(t[0]-1)>1e-10&&Ac(t[3]-1)>1e-10?Math.sqrt(Ac(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){rO(this,t)},e.getLocalTransform=function(t,n){n=n||[];var a=t.originX||0,r=t.originY||0,i=t.scaleX,o=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,d=t.y,h=t.skewX?Math.tan(t.skewX):0,p=t.skewY?Math.tan(-t.skewY):0;if(a||r||s||l){var f=a+s,g=r+l;n[4]=-f*i-h*g*o,n[5]=-g*o-p*f*i}else n[4]=n[5]=0;return n[0]=i,n[3]=o,n[1]=p*i,n[2]=h*o,u&&vp(n,n,u),n[4]+=a+c,n[5]+=r+d,n},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),as=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function rO(e,t){for(var n=0;n<as.length;n++){var a=as[n];e[a]=t[a]}}const ku=aO;var gv={};function wn(e,t){t=t||Ur;var n=gv[t];n||(n=gv[t]=new bs(500));var a=n.get(e);return a==null&&(a=Zi.measureText(e,t).width,n.put(e,a)),a}function mv(e,t,n,a){var r=wn(e,t),i=_p(t),o=Mo(0,r,n),s=bi(0,i,a),l=new st(o,s,r,i);return l}function Mu(e,t,n,a){var r=((e||"")+"").split(`
`),i=r.length;if(i===1)return mv(r[0],t,n,a);for(var o=new st(0,0,0,0),s=0;s<r.length;s++){var l=mv(r[s],t,n,a);s===0?o.copy(l):o.union(l)}return o}function Mo(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function bi(e,t,n){return n==="middle"?e-=t/2:n==="bottom"&&(e-=t),e}function _p(e){return wn("国",e)}function Gr(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function Jl(e,t,n){var a=t.position||"inside",r=t.distance!=null?t.distance:5,i=n.height,o=n.width,s=i/2,l=n.x,u=n.y,c="left",d="top";if(a instanceof Array)l+=Gr(a[0],n.width),u+=Gr(a[1],n.height),c=null,d=null;else switch(a){case"left":l-=r,u+=s,c="right",d="middle";break;case"right":l+=r+o,u+=s,d="middle";break;case"top":l+=o/2,u-=r,c="center",d="bottom";break;case"bottom":l+=o/2,u+=i+r,c="center";break;case"inside":l+=o/2,u+=s,c="center",d="middle";break;case"insideLeft":l+=r,u+=s,d="middle";break;case"insideRight":l+=o-r,u+=s,c="right",d="middle";break;case"insideTop":l+=o/2,u+=r,c="center";break;case"insideBottom":l+=o/2,u+=i-r,c="center",d="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=o-r,u+=r,c="right";break;case"insideBottomLeft":l+=r,u+=i-r,d="bottom";break;case"insideBottomRight":l+=o-r,u+=i-r,c="right",d="bottom";break}return e=e||{},e.x=l,e.y=u,e.align=c,e.verticalAlign=d,e}var kc="__zr_normal__",Mc=as.concat(["ignore"]),iO=Ki(as,function(e,t){return e[t]=!0,e},{ignore:!1}),ci={},oO=new st(0,0,0,0),Cp=function(){function e(t){this.id=Xy(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,n,a){switch(this.draggable){case"horizontal":n=0;break;case"vertical":t=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=n,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var n=this._textContent;if(n&&(!n.ignore||t)){this.textConfig||(this.textConfig={});var a=this.textConfig,r=a.local,i=n.innerTransformable,o=void 0,s=void 0,l=!1;i.parent=r?this:null;var u=!1;if(i.copyTransform(n),a.position!=null){var c=oO;a.layoutRect?c.copy(a.layoutRect):c.copy(this.getBoundingRect()),r||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(ci,a,c):Jl(ci,a,c),i.x=ci.x,i.y=ci.y,o=ci.align,s=ci.verticalAlign;var d=a.origin;if(d&&a.rotation!=null){var h=void 0,p=void 0;d==="center"?(h=c.width*.5,p=c.height*.5):(h=Gr(d[0],c.width),p=Gr(d[1],c.height)),u=!0,i.originX=-i.x+h+(r?0:c.x),i.originY=-i.y+p+(r?0:c.y)}}a.rotation!=null&&(i.rotation=a.rotation);var f=a.offset;f&&(i.x+=f[0],i.y+=f[1],u||(i.originX=-f[0],i.originY=-f[1]));var g=a.inside==null?typeof a.position=="string"&&a.position.indexOf("inside")>=0:a.inside,v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,y=void 0,_=void 0;g&&this.canBeInsideText()?(m=a.insideFill,y=a.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(m),_=!0)):(m=a.outsideFill,y=a.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(m),_=!0)),m=m||"#000",(m!==v.fill||y!==v.stroke||_!==v.autoStroke||o!==v.align||s!==v.verticalAlign)&&(l=!0,v.fill=m,v.stroke=y,v.autoStroke=_,v.align=o,v.verticalAlign=s,n.setDefaultTextStyle(v)),n.__dirty|=Cn,l&&n.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?ch:uh},e.prototype.getOutsideStroke=function(t){var n=this.__zr&&this.__zr.getBackgroundColor(),a=typeof n=="string"&&qa(n);a||(a=[255,255,255,1]);for(var r=a[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)a[o]=a[o]*r+(i?0:255)*(1-r);return a[3]=1,mp(a,"rgba")},e.prototype.traverse=function(t,n){},e.prototype.attrKV=function(t,n){t==="textConfig"?this.setTextConfig(n):t==="textContent"?this.setTextContent(n):t==="clipPath"?this.setClipPath(n):t==="extra"?(this.extra=this.extra||{},_e(this.extra,n)):this[t]=n},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,n){if(typeof t=="string")this.attrKV(t,n);else if($e(t))for(var a=t,r=Dt(a),i=0;i<r.length;i++){var o=r[i];this.attrKV(o,t[o])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var n=this._normalState,a=0;a<this.animators.length;a++){var r=this.animators[a],i=r.__fromStateTransition;if(!(r.getLoop()||i&&i!==kc)){var o=r.targetName,s=o?n[o]:n;r.saveTo(s)}}},e.prototype._innerSaveToNormal=function(t){var n=this._normalState;n||(n=this._normalState={}),t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(t,n,Mc)},e.prototype._savePrimaryToNormal=function(t,n,a){for(var r=0;r<a.length;r++){var i=a[r];t[i]!=null&&!(i in n)&&(n[i]=this[i])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},e.prototype.clearStates=function(t){this.useState(kc,!1,t)},e.prototype.useState=function(t,n,a,r){var i=t===kc,o=this.hasState();if(!(!o&&i)){var s=this.currentStates,l=this.stateTransition;if(!(it(s,t)>=0&&(n||s.length===1))){var u;if(this.stateProxy&&!i&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!i){dp("State "+t+" not exists.");return}i||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||r);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,n,!a&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,h=this._textGuide;return d&&d.useState(t,n,a,c),h&&h.useState(t,n,a,c),i?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Cn),u}}},e.prototype.useStates=function(t,n,a){if(!t.length)this.clearStates();else{var r=[],i=this.currentStates,o=t.length,s=o===i.length;if(s){for(var l=0;l<o;l++)if(t[l]!==i[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&r.push(c)}var d=r[o-1],h=!!(d&&d.hoverLayer||a);h&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(r),f=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(t.join(","),p,this._normalState,!1,!n&&!this.__inHover&&f&&f.duration>0,f);var g=this._textContent,v=this._textGuide;g&&g.useStates(t,n,h),v&&v.useStates(t,n,h),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Cn)}},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},e.prototype.removeState=function(t){var n=it(this.currentStates,t);if(n>=0){var a=this.currentStates.slice();a.splice(n,1),this.useStates(a)}},e.prototype.replaceState=function(t,n,a){var r=this.currentStates.slice(),i=it(r,t),o=it(r,n)>=0;i>=0?o?r.splice(i,1):r[i]=n:a&&!o&&r.push(n),this.useStates(r)},e.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var n={},a,r=0;r<t.length;r++){var i=t[r];_e(n,i),i.textConfig&&(a=a||{},_e(a,i.textConfig))}return a&&(n.textConfig=a),n},e.prototype._applyStateObj=function(t,n,a,r,i,o){var s=!(n&&r);n&&n.textConfig?(this.textConfig=_e({},r?this.textConfig:a.textConfig),_e(this.textConfig,n.textConfig)):s&&a.textConfig&&(this.textConfig=a.textConfig);for(var l={},u=!1,c=0;c<Mc.length;c++){var d=Mc[c],h=i&&iO[d];n&&n[d]!=null?h?(u=!0,l[d]=n[d]):this[d]=n[d]:s&&a[d]!=null&&(h?(u=!0,l[d]=a[d]):this[d]=a[d])}if(!i)for(var c=0;c<this.animators.length;c++){var p=this.animators[c],f=p.targetName;p.getLoop()||p.__changeFinalValue(f?(n||a)[f]:n||a)}u&&this._transitionState(t,l,o)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var n=this.__zr;n&&t.addSelfToZr(n),t.__zr=n,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var n=this._textContent;n!==t&&(n&&n!==t&&this.removeTextContent(),t.innerTransformable=new ku,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),_e(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=Cn;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var n=this._textContent,a=this._textGuide;n&&(n.__inHover=t),a&&(a.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var n=this.animators;if(n)for(var a=0;a<n.length;a++)t.animation.addAnimator(n[a]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var a=0;a<n.length;a++)t.animation.removeAnimator(n[a]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,n,a){var r=t?this[t]:this,i=new yp(r,n,a);return t&&(i.targetName=t),this.addAnimator(i,t),i},e.prototype.addAnimator=function(t,n){var a=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(n)}).done(function(){var i=r.animators,o=it(i,t);o>=0&&i.splice(o,1)}),this.animators.push(t),a&&a.animation.addAnimator(t),a&&a.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,n){for(var a=this.animators,r=a.length,i=[],o=0;o<r;o++){var s=a[o];!t||t===s.scope?s.stop(n):i.push(s)}return this.animators=i,this},e.prototype.animateTo=function(t,n,a){Lc(this,t,n,a)},e.prototype.animateFrom=function(t,n,a){Lc(this,t,n,a,!0)},e.prototype._transitionState=function(t,n,a,r){for(var i=Lc(this,n,a,r),o=0;o<i.length;o++)i[o].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Cn;function n(a,r,i,o){Object.defineProperty(t,a,{get:function(){if(!this[r]){var l=this[r]=[];s(this,l)}return this[r]},set:function(l){this[i]=l[0],this[o]=l[1],this[r]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[i]},set:function(c){l[i]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),e}();ua(Cp,Pn);ua(Cp,ku);function Lc(e,t,n,a,r){n=n||{};var i=[];y_(e,"",e,t,n,a,i,r);var o=i.length,s=!1,l=n.done,u=n.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},d=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),i.length>0&&n.during&&i[0].during(function(f,g){n.during(g)});for(var h=0;h<i.length;h++){var p=i[h];c&&p.done(c),d&&p.aborted(d),n.force&&p.duration(n.duration),p.start(n.easing)}return i}function Rc(e,t,n){for(var a=0;a<n;a++)e[a]=t[a]}function sO(e){return pn(e[0])}function lO(e,t,n){if(pn(t[n]))if(pn(e[n])||(e[n]=[]),xn(t[n])){var a=t[n].length;e[n].length!==a&&(e[n]=new t[n].constructor(a),Rc(e[n],t[n],a))}else{var r=t[n],i=e[n],o=r.length;if(sO(r))for(var s=r[0].length,l=0;l<o;l++)i[l]?Rc(i[l],r[l],s):i[l]=Array.prototype.slice.call(r[l]);else Rc(i,r,o);i.length=r.length}else e[n]=t[n]}function uO(e,t){return e===t||pn(e)&&pn(t)&&cO(e,t)}function cO(e,t){var n=e.length;if(n!==t.length)return!1;for(var a=0;a<n;a++)if(e[a]!==t[a])return!1;return!0}function y_(e,t,n,a,r,i,o,s){for(var l=Dt(a),u=r.duration,c=r.delay,d=r.additive,h=r.setToFinal,p=!$e(i),f=e.animators,g=[],v=0;v<l.length;v++){var m=l[v],y=a[m];if(y!=null&&n[m]!=null&&(p||i[m]))if($e(y)&&!pn(y)&&!Iu(y)){if(t){s||(n[m]=y,e.updateDuringAnimation(t));continue}y_(e,m,n[m],y,r,i&&i[m],o,s)}else g.push(m);else s||(n[m]=y,e.updateDuringAnimation(t),g.push(m))}var _=g.length;if(!d&&_)for(var w=0;w<f.length;w++){var E=f[w];if(E.targetName===t){var x=E.stopTracks(g);if(x){var S=it(f,E);f.splice(S,1)}}}if(r.force||(g=Ft(g,function(A){return!uO(a[A],n[A])}),_=g.length),_>0||r.force&&!o.length){var b=void 0,D=void 0,T=void 0;if(s){D={},h&&(b={});for(var w=0;w<_;w++){var m=g[w];D[m]=n[m],h?b[m]=a[m]:n[m]=a[m]}}else if(h){T={};for(var w=0;w<_;w++){var m=g[w];T[m]=Il(n[m]),lO(n,a,m)}}var E=new yp(n,!1,!1,d?Ft(f,function(L){return L.targetName===t}):null);E.targetName=t,r.scope&&(E.scope=r.scope),h&&b&&E.whenWithKeys(0,b,g),T&&E.whenWithKeys(0,T,g),E.whenWithKeys(u??500,s?D:a,g).delay(c||0),e.addAnimator(E,t),o.push(E)}}const __=Cp;var C_=function(e){mt(t,e);function t(n){var a=e.call(this)||this;return a.isGroup=!0,a._children=[],a.attr(n),a}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(n){return this._children[n]},t.prototype.childOfName=function(n){for(var a=this._children,r=0;r<a.length;r++)if(a[r].name===n)return a[r]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},t.prototype.addBefore=function(n,a){if(n&&n!==this&&n.parent!==this&&a&&a.parent===this){var r=this._children,i=r.indexOf(a);i>=0&&(r.splice(i,0,n),this._doAdd(n))}return this},t.prototype.replace=function(n,a){var r=it(this._children,n);return r>=0&&this.replaceAt(a,r),this},t.prototype.replaceAt=function(n,a){var r=this._children,i=r[a];if(n&&n!==this&&n.parent!==this&&n!==i){r[a]=n,i.parent=null;var o=this.__zr;o&&i.removeSelfFromZr(o),this._doAdd(n)}return this},t.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var a=this.__zr;a&&a!==n.__zr&&n.addSelfToZr(a),a&&a.refresh()},t.prototype.remove=function(n){var a=this.__zr,r=this._children,i=it(r,n);return i<0?this:(r.splice(i,1),n.parent=null,a&&n.removeSelfFromZr(a),a&&a.refresh(),this)},t.prototype.removeAll=function(){for(var n=this._children,a=this.__zr,r=0;r<n.length;r++){var i=n[r];a&&i.removeSelfFromZr(a),i.parent=null}return n.length=0,this},t.prototype.eachChild=function(n,a){for(var r=this._children,i=0;i<r.length;i++){var o=r[i];n.call(a,o,i)}return this},t.prototype.traverse=function(n,a){for(var r=0;r<this._children.length;r++){var i=this._children[r],o=n.call(a,i);i.isGroup&&!o&&i.traverse(n,a)}return this},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var a=0;a<this._children.length;a++){var r=this._children[a];r.addSelfToZr(n)}},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var a=0;a<this._children.length;a++){var r=this._children[a];r.removeSelfFromZr(n)}},t.prototype.getBoundingRect=function(n){for(var a=new st(0,0,0,0),r=n||this._children,i=[],o=null,s=0;s<r.length;s++){var l=r[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(i);c?(st.applyTransform(a,u,c),o=o||a.clone(),o.union(a)):(o=o||u.clone(),o.union(u))}}return o||a},t}(__);C_.prototype.type="group";const $t=C_;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Ll={},w_={};function dO(e){delete w_[e]}function hO(e){if(!e)return!1;if(typeof e=="string")return Xl(e,1)<lh;if(e.colorStops){for(var t=e.colorStops,n=0,a=t.length,r=0;r<a;r++)n+=Xl(t[r].color,1);return n/=a,n<lh}return!1}var pO=function(){function e(t,n,a){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,a=a||{},this.dom=n,this.id=t;var i=new D5,o=a.renderer||"canvas";Ll[o]||(o=Dt(Ll)[0]),a.useDirtyRect=a.useDirtyRect==null?!1:a.useDirtyRect;var s=new Ll[o](n,i,a,t),l=a.ssr||s.ssrOnly;this.storage=i,this.painter=s;var u=!Je.node&&!Je.worker&&!l?new tO(s.getViewportRoot(),s.root):null,c=a.useCoarsePointer,d=c==null||c==="auto"?Je.touchEventsSupported:!!c,h=44,p;d&&(p=ut(a.pointerSize,h)),this.handler=new w5(i,s,u,s.root,p),this.animation=new q5({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,n){this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh()},e.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=hO(t)},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},e.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},e.prototype.flush=function(){this._flush(!1)},e.prototype._flush=function(t){var n,a=Ii();this._needsRefresh&&(n=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var r=Ii();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-a})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},e.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},e.prototype.clearAnimation=function(){this.animation.clear()},e.prototype.getWidth=function(){return this.painter.getWidth()},e.prototype.getHeight=function(){return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,n){return this.handler.findHover(t,n)},e.prototype.on=function(t,n,a){return this.handler.on(t,n,a),this},e.prototype.off=function(t,n){this.handler.off(t,n)},e.prototype.trigger=function(t,n){this.handler.trigger(t,n)},e.prototype.clear=function(){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof $t&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},e.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,dO(this.id)},e}();function yv(e,t){var n=new pO(Xy(),e,t);return w_[n.id]=n,n}function fO(e,t){Ll[e]=t}var _v=1e-4,x_=20;function vO(e){return e.replace(/^\s+|\s+$/g,"")}function Wt(e,t,n,a){var r=t[0],i=t[1],o=n[0],s=n[1],l=i-r,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(a)if(l>0){if(e<=r)return o;if(e>=i)return s}else{if(e>=r)return o;if(e<=i)return s}else{if(e===r)return o;if(e===i)return s}return(e-r)/l*u+o}function Ht(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return Oe(e)?vO(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function Mt(e,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),x_),e=(+e).toFixed(t),n?e:+e}function Lo(e){return e.sort(function(t,n){return t-n}),e}function ya(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n}return gO(e)}function gO(e){var t=e.toString().toLowerCase(),n=t.indexOf("e"),a=n>0?+t.slice(n+1):0,r=n>0?n:t.length,i=t.indexOf("."),o=i<0?0:r-1-i;return Math.max(0,o-a)}function E_(e,t){var n=Math.log,a=Math.LN10,r=Math.floor(n(e[1]-e[0])/a),i=Math.round(n(Math.abs(t[1]-t[0]))/a),o=Math.min(Math.max(-r+i,0),20);return isFinite(o)?o:20}function mO(e,t){var n=Math.max(ya(e),ya(t)),a=e+t;return n>x_?a:Mt(a,n)}function b_(e){var t=Math.PI*2;return(e%t+t)%t}function Ql(e){return e>-_v&&e<_v}var yO=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Da(e){if(e instanceof Date)return e;if(Oe(e)){var t=yO.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function _O(e){return Math.pow(10,wp(e))}function wp(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function S_(e,t){var n=wp(e),a=Math.pow(10,n),r=e/a,i;return t?r<1.5?i=1:r<2.5?i=2:r<4?i=3:r<7?i=5:i=10:r<1?i=1:r<2?i=2:r<3?i=3:r<5?i=5:i=10,e=i*a,n>=-20?+e.toFixed(n<0?-n:0):e}function eu(e){var t=parseFloat(e);return t==e&&(t!==0||!Oe(e)||e.indexOf("x")<=0)?t:NaN}function CO(e){return!isNaN(eu(e))}function D_(){return Math.round(Math.random()*9)}function T_(e,t){return t===0?e:T_(t,e%t)}function Cv(e,t){return e==null?t:t==null?e:e*t/T_(e,t)}function sn(e){throw new Error(e)}function wv(e,t,n){return(t-e)*n+e}var I_="series\0",A_="\0_ec_\0";function Lt(e){return e instanceof Array?e:e==null?[]:[e]}function xv(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var a=0,r=n.length;a<r;a++){var i=n[a];!e.emphasis[t].hasOwnProperty(i)&&e[t].hasOwnProperty(i)&&(e.emphasis[t][i]=e[t][i])}}}var Ev=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Ss(e){return $e(e)&&!Te(e)&&!(e instanceof Date)?e.value:e}function wO(e){return $e(e)&&!(e instanceof Array)}function xO(e,t,n){var a=n==="normalMerge",r=n==="replaceMerge",i=n==="replaceAll";e=e||[],t=(t||[]).slice();var o=Ve();R(t,function(l,u){if(!$e(l)){t[u]=null;return}});var s=EO(e,o,n);return(a||r)&&bO(s,e,o,t),a&&SO(s,t),a||r?DO(s,t,r):i&&TO(s,t),IO(s),s}function EO(e,t,n){var a=[];if(n==="replaceAll")return a;for(var r=0;r<e.length;r++){var i=e[r];i&&i.id!=null&&t.set(i.id,r),a.push({existing:n==="replaceMerge"||rs(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return a}function bO(e,t,n,a){R(a,function(r,i){if(!(!r||r.id==null)){var o=Uo(r.id),s=n.get(o);if(s!=null){var l=e[s];ia(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=r,l.existing=t[s],a[i]=null}}})}function SO(e,t){R(t,function(n,a){if(!(!n||n.name==null))for(var r=0;r<e.length;r++){var i=e[r].existing;if(!e[r].newOption&&i&&(i.id==null||n.id==null)&&!rs(n)&&!rs(i)&&k_("name",i,n)){e[r].newOption=n,t[a]=null;return}}})}function DO(e,t,n){R(t,function(a){if(a){for(var r,i=0;(r=e[i])&&(r.newOption||rs(r.existing)||r.existing&&a.id!=null&&!k_("id",a,r.existing));)i++;r?(r.newOption=a,r.brandNew=n):e.push({newOption:a,brandNew:n,existing:null,keyInfo:null}),i++}})}function TO(e,t){R(t,function(n){e.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function IO(e){var t=Ve();R(e,function(n){var a=n.existing;a&&t.set(a.id,n)}),R(e,function(n){var a=n.newOption;ia(!a||a.id==null||!t.get(a.id)||t.get(a.id)===n,"id duplicates: "+(a&&a.id)),a&&a.id!=null&&t.set(a.id,n),!n.keyInfo&&(n.keyInfo={})}),R(e,function(n,a){var r=n.existing,i=n.newOption,o=n.keyInfo;if($e(i)){if(o.name=i.name!=null?Uo(i.name):r?r.name:I_+a,r)o.id=Uo(r.id);else if(i.id!=null)o.id=Uo(i.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(t.get(o.id))}t.set(o.id,n)}})}function k_(e,t,n){var a=aa(t[e],null),r=aa(n[e],null);return a!=null&&r!=null&&a===r}function Uo(e){return aa(e,"")}function aa(e,t){return e==null?t:Oe(e)?e:bt(e)||zd(e)?e+"":t}function M_(e){var t=e.name;return!!(t&&t.indexOf(I_))}function rs(e){return e&&e.id!=null&&Uo(e.id).indexOf(A_)===0}function AO(e){return A_+e}function kO(e,t,n){R(e,function(a){var r=a.newOption;$e(r)&&(a.keyInfo.mainType=t,a.keyInfo.subType=MO(t,r,a.existing,n))})}function MO(e,t,n,a){var r=t.type?t.type:n?n.subType:a.determineSubType(e,t);return r}function Fr(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Te(t.dataIndex)?Re(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Te(t.name)?Re(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name)}function At(){var e="__ec_inner_"+LO++;return function(t){return t[e]||(t[e]={})}}var LO=D_();function Go(e,t,n){var a=xp(t,n),r=a.mainTypeSpecified,i=a.queryOptionMap,o=a.others,s=o,l=n?n.defaultMainType:null;return!r&&l&&i.set(l,{}),i.each(function(u,c){var d=Ds(e,c,u,{useDefault:l===c,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});s[c+"Models"]=d.models,s[c+"Model"]=d.models[0]}),s}function xp(e,t){var n;if(Oe(e)){var a={};a[e+"Index"]=0,n=a}else n=e;var r=Ve(),i={},o=!1;return R(n,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){i[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],d=(u[2]||"").toLowerCase();if(!(!c||!d||t&&t.includeMainTypes&&it(t.includeMainTypes,c)<0)){o=o||!!c;var h=r.get(c)||r.set(c,{});h[d]=s}}),{mainTypeSpecified:o,queryOptionMap:r,others:i}}var en={useDefault:!0,enableAll:!1,enableNone:!1},RO={useDefault:!1,enableAll:!0,enableNone:!0};function Ds(e,t,n,a){a=a||en;var r=n.index,i=n.id,o=n.name,s={models:null,specified:r!=null||i!=null||o!=null};if(!s.specified){var l=void 0;return s.models=a.useDefault&&(l=e.getComponent(t))?[l]:[],s}return r==="none"||r===!1?(ia(a.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(r==="all"&&(ia(a.enableAll,'`"all"` is not a valid value on index option.'),r=i=o=null),s.models=e.queryComponents({mainType:t,index:r,id:i,name:o}),s)}function L_(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function OO(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function PO(e){return e==="auto"?Je.domSupported?"html":"richText":e||"html"}function NO(e,t,n,a,r){var i=t==null||t==="auto";if(a==null)return a;if(bt(a)){var o=wv(n||0,a,r);return Mt(o,i?Math.max(ya(n||0),ya(a)):t)}else{if(Oe(a))return r<1?n:a;for(var s=[],l=n,u=a,c=Math.max(l?l.length:0,u.length),d=0;d<c;++d){var h=e.getDimensionInfo(d);if(h&&h.type==="ordinal")s[d]=(r<1&&l?l:u)[d];else{var p=l&&l[d]?l[d]:0,f=u[d],o=wv(p,f,r);s[d]=Mt(o,i?Math.max(ya(p),ya(f)):t)}}return s}}var BO=".",or="___EC__COMPONENT__CONTAINER___",R_="___EC__EXTENDED_CLASS___";function ta(e){var t={main:"",sub:""};if(e){var n=e.split(BO);t.main=n[0]||"",t.sub=n[1]||""}return t}function $O(e){ia(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function UO(e){return!!(e&&e[R_])}function Ep(e,t){e.$constructor=e,e.extend=function(n){var a=this,r;return GO(a)?r=function(i){Pe(o,i);function o(){return i.apply(this,arguments)||this}return o}(a):(r=function(){(n.$constructor||a).apply(this,arguments)},PR(r,this)),_e(r.prototype,n),r[R_]=!0,r.extend=this.extend,r.superCall=VO,r.superApply=YO,r.superClass=a,r}}function GO(e){return We(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function O_(e,t){e.extend=t.extend}var FO=Math.round(Math.random()*10);function HO(e){var t=["__\0is_clz",FO++].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!!(n&&n[t])}}function VO(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];return this.superClass.prototype[t].apply(e,n)}function YO(e,t,n){return this.superClass.prototype[t].apply(e,n)}function Lu(e){var t={};e.registerClass=function(a){var r=a.type||a.prototype.type;if(r){$O(r),a.prototype.type=r;var i=ta(r);if(!i.sub)t[i.main]=a;else if(i.sub!==or){var o=n(i);o[i.sub]=a}}return a},e.getClass=function(a,r,i){var o=t[a];if(o&&o[or]&&(o=r?o[r]:null),i&&!o)throw new Error(r?"Component "+a+"."+(r||"")+" is used but not imported.":a+".type should be specified.");return o},e.getClassesByMainType=function(a){var r=ta(a),i=[],o=t[r.main];return o&&o[or]?R(o,function(s,l){l!==or&&i.push(s)}):i.push(o),i},e.hasClass=function(a){var r=ta(a);return!!t[r.main]},e.getAllClassMainTypes=function(){var a=[];return R(t,function(r,i){a.push(i)}),a},e.hasSubTypes=function(a){var r=ta(a),i=t[r.main];return i&&i[or]};function n(a){var r=t[a.main];return(!r||!r[or])&&(r=t[a.main]={},r[or]=!0),r}}function is(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(a,r,i){for(var o={},s=0;s<e.length;s++){var l=e[s][1];if(!(r&&it(r,l)>=0||i&&it(i,l)<0)){var u=a.getShallow(l,t);u!=null&&(o[e[s][0]]=u)}}return o}}var zO=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],WO=is(zO),qO=function(){function e(){}return e.prototype.getAreaStyle=function(t,n){return WO(this,t,n)},e}(),dh=new bs(50);function ZO(e){if(typeof e=="string"){var t=dh.get(e);return t&&t.image}else return e}function P_(e,t,n,a,r){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!n)return t;var i=dh.get(e),o={hostEl:n,cb:a,cbPayload:r};return i?(t=i.image,!Ru(t)&&i.pending.push(o)):(t=Zi.loadImage(e,bv,bv),t.__zrImageSrc=e,dh.put(e,t.__cachedImgObj={image:t,pending:[o]})),t}else return e;else return t}function bv(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],a=n.cb;a&&a(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function Ru(e){return e&&e.width&&e.height}var Oc=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function KO(e,t,n,a,r){if(!t)return"";var i=(e+"").split(`
`);r=N_(t,n,a,r);for(var o=0,s=i.length;o<s;o++)i[o]=B_(i[o],r);return i.join(`
`)}function N_(e,t,n,a){a=a||{};var r=_e({},a);r.font=t,n=ut(n,"..."),r.maxIterations=ut(a.maxIterations,2);var i=r.minChar=ut(a.minChar,0);r.cnCharWidth=wn("国",t);var o=r.ascCharWidth=wn("a",t);r.placeholder=ut(a.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<i&&s>=o;l++)s-=o;var u=wn(n,t);return u>s&&(n="",u=0),s=e-u,r.ellipsis=n,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=e,r}function B_(e,t){var n=t.containerWidth,a=t.font,r=t.contentWidth;if(!n)return"";var i=wn(e,a);if(i<=n)return e;for(var o=0;;o++){if(i<=r||o>=t.maxIterations){e+=t.ellipsis;break}var s=o===0?XO(e,r,t.ascCharWidth,t.cnCharWidth):i>0?Math.floor(e.length*r/i):0;e=e.substr(0,s),i=wn(e,a)}return e===""&&(e=t.placeholder),e}function XO(e,t,n,a){for(var r=0,i=0,o=e.length;i<o&&r<t;i++){var s=e.charCodeAt(i);r+=0<=s&&s<=127?n:a}return i}function jO(e,t){e!=null&&(e+="");var n=t.overflow,a=t.padding,r=t.font,i=n==="truncate",o=_p(r),s=ut(t.lineHeight,o),l=!!t.backgroundColor,u=t.lineOverflow==="truncate",c=t.width,d;c!=null&&(n==="break"||n==="breakAll")?d=e?$_(e,t.font,c,n==="breakAll",0).lines:[]:d=e?e.split(`
`):[];var h=d.length*s,p=ut(t.height,h);if(h>p&&u){var f=Math.floor(p/s);d=d.slice(0,f)}if(e&&i&&c!=null)for(var g=N_(c,r,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),v=0;v<d.length;v++)d[v]=B_(d[v],g);for(var m=p,y=0,v=0;v<d.length;v++)y=Math.max(wn(d[v],r),y);c==null&&(c=y);var _=y;return a&&(m+=a[0]+a[2],_+=a[1]+a[3],c+=a[1]+a[3]),l&&(_=c),{lines:d,height:p,outerWidth:_,outerHeight:m,lineHeight:s,calculatedLineHeight:o,contentWidth:y,contentHeight:h,width:c}}var JO=function(){function e(){}return e}(),Sv=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),QO=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return e}();function eP(e,t){var n=new QO;if(e!=null&&(e+=""),!e)return n;for(var a=t.width,r=t.height,i=t.overflow,o=(i==="break"||i==="breakAll")&&a!=null?{width:a,accumWidth:0,breakAll:i==="breakAll"}:null,s=Oc.lastIndex=0,l;(l=Oc.exec(e))!=null;){var u=l.index;u>s&&Pc(n,e.substring(s,u),t,o),Pc(n,l[2],t,o,l[1]),s=Oc.lastIndex}s<e.length&&Pc(n,e.substring(s,e.length),t,o);var c=[],d=0,h=0,p=t.padding,f=i==="truncate",g=t.lineOverflow==="truncate";function v($,W,ae){$.width=W,$.lineHeight=ae,d+=ae,h=Math.max(h,W)}e:for(var m=0;m<n.lines.length;m++){for(var y=n.lines[m],_=0,w=0,E=0;E<y.tokens.length;E++){var x=y.tokens[E],S=x.styleName&&t.rich[x.styleName]||{},b=x.textPadding=S.padding,D=b?b[1]+b[3]:0,T=x.font=S.font||t.font;x.contentHeight=_p(T);var A=ut(S.height,x.contentHeight);if(x.innerHeight=A,b&&(A+=b[0]+b[2]),x.height=A,x.lineHeight=Sl(S.lineHeight,t.lineHeight,A),x.align=S&&S.align||t.align,x.verticalAlign=S&&S.verticalAlign||"middle",g&&r!=null&&d+x.lineHeight>r){E>0?(y.tokens=y.tokens.slice(0,E),v(y,w,_),n.lines=n.lines.slice(0,m+1)):n.lines=n.lines.slice(0,m);break e}var L=S.width,P=L==null||L==="auto";if(typeof L=="string"&&L.charAt(L.length-1)==="%")x.percentWidth=L,c.push(x),x.contentWidth=wn(x.text,T);else{if(P){var N=S.backgroundColor,B=N&&N.image;B&&(B=ZO(B),Ru(B)&&(x.width=Math.max(x.width,B.width*A/B.height)))}var K=f&&a!=null?a-w:null;K!=null&&K<x.width?!P||K<D?(x.text="",x.width=x.contentWidth=0):(x.text=KO(x.text,K-D,T,t.ellipsis,{minChar:t.truncateMinChar}),x.width=x.contentWidth=wn(x.text,T)):x.contentWidth=wn(x.text,T)}x.width+=D,w+=x.width,S&&(_=Math.max(_,x.lineHeight))}v(y,w,_)}n.outerWidth=n.width=ut(a,h),n.outerHeight=n.height=ut(r,d),n.contentHeight=d,n.contentWidth=h,p&&(n.outerWidth+=p[1]+p[3],n.outerHeight+=p[0]+p[2]);for(var m=0;m<c.length;m++){var x=c[m],ce=x.percentWidth;x.width=parseInt(ce,10)/100*n.width}return n}function Pc(e,t,n,a,r){var i=t==="",o=r&&n.rich[r]||{},s=e.lines,l=o.font||n.font,u=!1,c,d;if(a){var h=o.padding,p=h?h[1]+h[3]:0;if(o.width!=null&&o.width!=="auto"){var f=Gr(o.width,a.width)+p;s.length>0&&f+a.accumWidth>a.width&&(c=t.split(`
`),u=!0),a.accumWidth=f}else{var g=$_(t,l,a.width,a.breakAll,a.accumWidth);a.accumWidth=g.accumWidth+p,d=g.linesWidths,c=g.lines}}else c=t.split(`
`);for(var v=0;v<c.length;v++){var m=c[v],y=new JO;if(y.styleName=r,y.text=m,y.isLineHolder=!m&&!i,typeof o.width=="number"?y.width=o.width:y.width=d?d[v]:wn(m,l),!v&&!u){var _=(s[s.length-1]||(s[0]=new Sv)).tokens,w=_.length;w===1&&_[0].isLineHolder?_[0]=y:(m||!w||i)&&_.push(y)}else s.push(new Sv([y]))}}function tP(e){var t=e.charCodeAt(0);return t>=33&&t<=383}var nP=Ki(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function aP(e){return tP(e)?!!nP[e]:!0}function $_(e,t,n,a,r){for(var i=[],o=[],s="",l="",u=0,c=0,d=0;d<e.length;d++){var h=e.charAt(d);if(h===`
`){l&&(s+=l,c+=u),i.push(s),o.push(c),s="",l="",u=0,c=0;continue}var p=wn(h,t),f=a?!1:!aP(h);if(i.length?c+p>n:r+c+p>n){c?(s||l)&&(f?(s||(s=l,l="",u=0,c=u),i.push(s),o.push(c-u),l+=h,u+=p,s="",c=u):(l&&(s+=l,l="",u=0),i.push(s),o.push(c),s=h,c=p)):f?(i.push(l),o.push(u),l=h,u=p):(i.push(h),o.push(p));continue}c+=p,f?(l+=h,u+=p):(l&&(s+=l,l="",u=0),s+=h)}return!i.length&&!s&&(s=e,l="",u=0),l&&(s+=l),s&&(i.push(s),o.push(c)),i.length===1&&(c+=r),{accumWidth:c,lines:i,linesWidths:o}}var hh="__zr_style_"+Math.round(Math.random()*10),Lr={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Ou={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Lr[hh]=!0;var Dv=["z","z2","invisible"],rP=["invisible"],iP=function(e){mt(t,e);function t(n){return e.call(this,n)||this}return t.prototype._init=function(n){for(var a=Dt(n),r=0;r<a.length;r++){var i=a[r];i==="style"?this.useStyle(n[i]):e.prototype.attrKV.call(this,i,n[i])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,a,r,i){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&oP(this,n,a)||o&&!o[0]&&!o[3])return!1;if(r&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(i&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(n,a){return this.rectContain(n,a)},t.prototype.traverse=function(n,a){n.call(a,this)},t.prototype.rectContain=function(n,a){var r=this.transformCoordToLocal(n,a),i=this.getBoundingRect();return i.contain(r[0],r[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var a=this.transform,r=this.getBoundingRect(),i=this.style,o=i.shadowBlur||0,s=i.shadowOffsetX||0,l=i.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new st(0,0,0,0)),a?st.applyTransform(n,r,a):n.copy(r),(o||s||l)&&(n.width+=o*2+Math.abs(s),n.height+=o*2+Math.abs(l),n.x=Math.min(n.x,n.x+s-o),n.y=Math.min(n.y,n.y+l-o));var u=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-u),n.y=Math.floor(n.y-u),n.width=Math.ceil(n.width+1+u*2),n.height=Math.ceil(n.height+1+u*2))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new st(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,a){n!=="style"?e.prototype.attrKV.call(this,n,a):this.style?this.setStyle(a):this.useStyle(a)},t.prototype.setStyle=function(n,a){return typeof n=="string"?this.style[n]=a:_e(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=Ao,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&Ao)},t.prototype.styleUpdated=function(){this.__dirty&=~Ao},t.prototype.createStyle=function(n){return Au(Lr,n)},t.prototype.useStyle=function(n){n[hh]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[hh]},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var a=this._normalState;n.style&&!a.style&&(a.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,a,Dv)},t.prototype._applyStateObj=function(n,a,r,i,o,s){e.prototype._applyStateObj.call(this,n,a,r,i,o,s);var l=!(a&&i),u;if(a&&a.style?o?i?u=a.style:(u=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(u,a.style)):(u=this._mergeStyle(this.createStyle(),i?this.style:r.style),this._mergeStyle(u,a.style)):l&&(u=r.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var d=Dt(c),h=0;h<d.length;h++){var p=d[h];p in u&&(u[p]=u[p],this.style[p]=c[p])}for(var f=Dt(u),h=0;h<f.length;h++){var p=f[h];this.style[p]=this.style[p]}this._transitionState(n,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var g=this.__inHover?rP:Dv,h=0;h<g.length;h++){var p=g[h];a&&a[p]!=null?this[p]=a[p]:l&&r[p]!=null&&(this[p]=r[p])}},t.prototype._mergeStates=function(n){for(var a=e.prototype._mergeStates.call(this,n),r,i=0;i<n.length;i++){var o=n[i];o.style&&(r=r||{},this._mergeStyle(r,o.style))}return r&&(a.style=r),a},t.prototype._mergeStyle=function(n,a){return _e(n,a),n},t.prototype.getAnimationStyleProps=function(){return Ou},t.initDefaultProps=function(){var n=t.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=Cn|Ao}(),t}(__),Nc=new st(0,0,0,0),Bc=new st(0,0,0,0);function oP(e,t,n){return Nc.copy(e.getBoundingRect()),e.transform&&Nc.applyTransform(e.transform),Bc.width=t,Bc.height=n,!Nc.intersect(Bc)}const ji=iP;var ln=Math.min,un=Math.max,$c=Math.sin,Uc=Math.cos,sr=Math.PI*2,Ws=Xi(),qs=Xi(),Zs=Xi();function U_(e,t,n){if(e.length!==0){for(var a=e[0],r=a[0],i=a[0],o=a[1],s=a[1],l=1;l<e.length;l++)a=e[l],r=ln(r,a[0]),i=un(i,a[0]),o=ln(o,a[1]),s=un(s,a[1]);t[0]=r,t[1]=o,n[0]=i,n[1]=s}}function Tv(e,t,n,a,r,i){r[0]=ln(e,n),r[1]=ln(t,a),i[0]=un(e,n),i[1]=un(t,a)}var Iv=[],Av=[];function sP(e,t,n,a,r,i,o,s,l,u){var c=c_,d=Pt,h=c(e,n,r,o,Iv);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var p=0;p<h;p++){var f=d(e,n,r,o,Iv[p]);l[0]=ln(f,l[0]),u[0]=un(f,u[0])}h=c(t,a,i,s,Av);for(var p=0;p<h;p++){var g=d(t,a,i,s,Av[p]);l[1]=ln(g,l[1]),u[1]=un(g,u[1])}l[0]=ln(e,l[0]),u[0]=un(e,u[0]),l[0]=ln(o,l[0]),u[0]=un(o,u[0]),l[1]=ln(t,l[1]),u[1]=un(t,u[1]),l[1]=ln(s,l[1]),u[1]=un(s,u[1])}function lP(e,t,n,a,r,i,o,s){var l=d_,u=qt,c=un(ln(l(e,n,r),1),0),d=un(ln(l(t,a,i),1),0),h=u(e,n,r,c),p=u(t,a,i,d);o[0]=ln(e,r,h),o[1]=ln(t,i,p),s[0]=un(e,r,h),s[1]=un(t,i,p)}function uP(e,t,n,a,r,i,o,s,l){var u=Di,c=Ti,d=Math.abs(r-i);if(d%sr<1e-4&&d>1e-4){s[0]=e-n,s[1]=t-a,l[0]=e+n,l[1]=t+a;return}if(Ws[0]=Uc(r)*n+e,Ws[1]=$c(r)*a+t,qs[0]=Uc(i)*n+e,qs[1]=$c(i)*a+t,u(s,Ws,qs),c(l,Ws,qs),r=r%sr,r<0&&(r=r+sr),i=i%sr,i<0&&(i=i+sr),r>i&&!o?i+=sr:r<i&&o&&(r+=sr),o){var h=i;i=r,r=h}for(var p=0;p<i;p+=Math.PI/2)p>r&&(Zs[0]=Uc(p)*n+e,Zs[1]=$c(p)*a+t,u(s,Zs,s),c(l,Zs,l))}var ct={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},lr=[],ur=[],qn=[],Ma=[],Zn=[],Kn=[],Gc=Math.min,Fc=Math.max,cr=Math.cos,dr=Math.sin,ha=Math.abs,ph=Math.PI,Ua=ph*2,Hc=typeof Float32Array<"u",lo=[];function Vc(e){var t=Math.round(e/ph*1e8)/1e8;return t%2*ph}function cP(e,t){var n=Vc(e[0]);n<0&&(n+=Ua);var a=n-e[0],r=e[1];r+=a,!t&&r-n>=Ua?r=n+Ua:t&&n-r>=Ua?r=n-Ua:!t&&n>r?r=n+(Ua-Vc(n-r)):t&&n<r&&(r=n-(Ua-Vc(r-n))),e[0]=n,e[1]=r}var dP=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,n,a){a=a||0,a>0&&(this._ux=ha(a/jl/t)||0,this._uy=ha(a/jl/n)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,n){return this._drawPendingPt(),this.addData(ct.M,t,n),this._ctx&&this._ctx.moveTo(t,n),this._x0=t,this._y0=n,this._xi=t,this._yi=n,this},e.prototype.lineTo=function(t,n){var a=ha(t-this._xi),r=ha(n-this._yi),i=a>this._ux||r>this._uy;if(this.addData(ct.L,t,n),this._ctx&&i&&this._ctx.lineTo(t,n),i)this._xi=t,this._yi=n,this._pendingPtDist=0;else{var o=a*a+r*r;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=n,this._pendingPtDist=o)}return this},e.prototype.bezierCurveTo=function(t,n,a,r,i,o){return this._drawPendingPt(),this.addData(ct.C,t,n,a,r,i,o),this._ctx&&this._ctx.bezierCurveTo(t,n,a,r,i,o),this._xi=i,this._yi=o,this},e.prototype.quadraticCurveTo=function(t,n,a,r){return this._drawPendingPt(),this.addData(ct.Q,t,n,a,r),this._ctx&&this._ctx.quadraticCurveTo(t,n,a,r),this._xi=a,this._yi=r,this},e.prototype.arc=function(t,n,a,r,i,o){this._drawPendingPt(),lo[0]=r,lo[1]=i,cP(lo,o),r=lo[0],i=lo[1];var s=i-r;return this.addData(ct.A,t,n,a,a,r,s,0,o?0:1),this._ctx&&this._ctx.arc(t,n,a,r,i,o),this._xi=cr(i)*a+t,this._yi=dr(i)*a+n,this},e.prototype.arcTo=function(t,n,a,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,n,a,r,i),this},e.prototype.rect=function(t,n,a,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,n,a,r),this.addData(ct.R,t,n,a,r),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(ct.Z);var t=this._ctx,n=this._x0,a=this._y0;return t&&t.closePath(),this._xi=n,this._yi=a,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var n=t.length;!(this.data&&this.data.length===n)&&Hc&&(this.data=new Float32Array(n));for(var a=0;a<n;a++)this.data[a]=t[a];this._len=n},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var n=t.length,a=0,r=this._len,i=0;i<n;i++)a+=t[i].len();Hc&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+a));for(var i=0;i<n;i++)for(var o=t[i].data,s=0;s<o.length;s++)this.data[r++]=o[s];this._len=r},e.prototype.addData=function(t,n,a,r,i,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var d=0;d<arguments.length;d++)c[this._len++]=arguments[d]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Hc&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){qn[0]=qn[1]=Zn[0]=Zn[1]=Number.MAX_VALUE,Ma[0]=Ma[1]=Kn[0]=Kn[1]=-Number.MAX_VALUE;var t=this.data,n=0,a=0,r=0,i=0,o;for(o=0;o<this._len;){var s=t[o++],l=o===1;switch(l&&(n=t[o],a=t[o+1],r=n,i=a),s){case ct.M:n=r=t[o++],a=i=t[o++],Zn[0]=r,Zn[1]=i,Kn[0]=r,Kn[1]=i;break;case ct.L:Tv(n,a,t[o],t[o+1],Zn,Kn),n=t[o++],a=t[o++];break;case ct.C:sP(n,a,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],Zn,Kn),n=t[o++],a=t[o++];break;case ct.Q:lP(n,a,t[o++],t[o++],t[o],t[o+1],Zn,Kn),n=t[o++],a=t[o++];break;case ct.A:var u=t[o++],c=t[o++],d=t[o++],h=t[o++],p=t[o++],f=t[o++]+p;o+=1;var g=!t[o++];l&&(r=cr(p)*d+u,i=dr(p)*h+c),uP(u,c,d,h,p,f,g,Zn,Kn),n=cr(f)*d+u,a=dr(f)*h+c;break;case ct.R:r=n=t[o++],i=a=t[o++];var v=t[o++],m=t[o++];Tv(r,i,r+v,i+m,Zn,Kn);break;case ct.Z:n=r,a=i;break}Di(qn,qn,Zn),Ti(Ma,Ma,Kn)}return o===0&&(qn[0]=qn[1]=Ma[0]=Ma[1]=0),new st(qn[0],qn[1],Ma[0]-qn[0],Ma[1]-qn[1])},e.prototype._calculateLength=function(){var t=this.data,n=this._len,a=this._ux,r=this._uy,i=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,d=0,h=0;h<n;){var p=t[h++],f=h===1;f&&(i=t[h],o=t[h+1],s=i,l=o);var g=-1;switch(p){case ct.M:i=s=t[h++],o=l=t[h++];break;case ct.L:{var v=t[h++],m=t[h++],y=v-i,_=m-o;(ha(y)>a||ha(_)>r||h===n-1)&&(g=Math.sqrt(y*y+_*_),i=v,o=m);break}case ct.C:{var w=t[h++],E=t[h++],v=t[h++],m=t[h++],x=t[h++],S=t[h++];g=I5(i,o,w,E,v,m,x,S,10),i=x,o=S;break}case ct.Q:{var w=t[h++],E=t[h++],v=t[h++],m=t[h++];g=M5(i,o,w,E,v,m,10),i=v,o=m;break}case ct.A:var b=t[h++],D=t[h++],T=t[h++],A=t[h++],L=t[h++],P=t[h++],N=P+L;h+=1,t[h++],f&&(s=cr(L)*T+b,l=dr(L)*A+D),g=Fc(T,A)*Gc(Ua,Math.abs(P)),i=cr(N)*T+b,o=dr(N)*A+D;break;case ct.R:{s=i=t[h++],l=o=t[h++];var B=t[h++],K=t[h++];g=B*2+K*2;break}case ct.Z:{var y=s-i,_=l-o;g=Math.sqrt(y*y+_*_),i=s,o=l;break}}g>=0&&(u[d++]=g,c+=g)}return this._pathLen=c,c},e.prototype.rebuildPath=function(t,n){var a=this.data,r=this._ux,i=this._uy,o=this._len,s,l,u,c,d,h,p=n<1,f,g,v=0,m=0,y,_=0,w,E;if(p&&(this._pathSegLen||this._calculateLength(),f=this._pathSegLen,g=this._pathLen,y=n*g,!y))return;e:for(var x=0;x<o;){var S=a[x++],b=x===1;switch(b&&(u=a[x],c=a[x+1],s=u,l=c),S!==ct.L&&_>0&&(t.lineTo(w,E),_=0),S){case ct.M:s=u=a[x++],l=c=a[x++],t.moveTo(u,c);break;case ct.L:{d=a[x++],h=a[x++];var D=ha(d-u),T=ha(h-c);if(D>r||T>i){if(p){var A=f[m++];if(v+A>y){var L=(y-v)/A;t.lineTo(u*(1-L)+d*L,c*(1-L)+h*L);break e}v+=A}t.lineTo(d,h),u=d,c=h,_=0}else{var P=D*D+T*T;P>_&&(w=d,E=h,_=P)}break}case ct.C:{var N=a[x++],B=a[x++],K=a[x++],ce=a[x++],$=a[x++],W=a[x++];if(p){var A=f[m++];if(v+A>y){var L=(y-v)/A;ja(u,N,K,$,L,lr),ja(c,B,ce,W,L,ur),t.bezierCurveTo(lr[1],ur[1],lr[2],ur[2],lr[3],ur[3]);break e}v+=A}t.bezierCurveTo(N,B,K,ce,$,W),u=$,c=W;break}case ct.Q:{var N=a[x++],B=a[x++],K=a[x++],ce=a[x++];if(p){var A=f[m++];if(v+A>y){var L=(y-v)/A;Kl(u,N,K,L,lr),Kl(c,B,ce,L,ur),t.quadraticCurveTo(lr[1],ur[1],lr[2],ur[2]);break e}v+=A}t.quadraticCurveTo(N,B,K,ce),u=K,c=ce;break}case ct.A:var ae=a[x++],Z=a[x++],ne=a[x++],Y=a[x++],q=a[x++],ie=a[x++],te=a[x++],X=!a[x++],j=ne>Y?ne:Y,J=ha(ne-Y)>.001,z=q+ie,F=!1;if(p){var A=f[m++];v+A>y&&(z=q+ie*(y-v)/A,F=!0),v+=A}if(J&&t.ellipse?t.ellipse(ae,Z,ne,Y,te,q,z,X):t.arc(ae,Z,j,q,z,X),F)break e;b&&(s=cr(q)*ne+ae,l=dr(q)*Y+Z),u=cr(z)*ne+ae,c=dr(z)*Y+Z;break;case ct.R:s=u=a[x],l=c=a[x+1],d=a[x++],h=a[x++];var V=a[x++],ue=a[x++];if(p){var A=f[m++];if(v+A>y){var de=y-v;t.moveTo(d,h),t.lineTo(d+Gc(de,V),h),de-=V,de>0&&t.lineTo(d+V,h+Gc(de,ue)),de-=ue,de>0&&t.lineTo(d+Fc(V-de,0),h+ue),de-=V,de>0&&t.lineTo(d,h+Fc(ue-de,0));break e}v+=A}t.rect(d,h,V,ue);break;case ct.Z:if(p){var A=f[m++];if(v+A>y){var L=(y-v)/A;t.lineTo(u*(1-L)+s*L,c*(1-L)+l*L);break e}v+=A}t.closePath(),u=s,c=l}}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.CMD=ct,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();const Ja=dP;function di(e,t,n,a,r,i,o){if(r===0)return!1;var s=r,l=0,u=e;if(o>t+s&&o>a+s||o<t-s&&o<a-s||i>e+s&&i>n+s||i<e-s&&i<n-s)return!1;if(e!==n)l=(t-a)/(e-n),u=(e*a-n*t)/(e-n);else return Math.abs(i-e)<=s/2;var c=l*i-o+u,d=c*c/(l*l+1);return d<=s/2*s/2}function hP(e,t,n,a,r,i,o,s,l,u,c){if(l===0)return!1;var d=l;if(c>t+d&&c>a+d&&c>i+d&&c>s+d||c<t-d&&c<a-d&&c<i-d&&c<s-d||u>e+d&&u>n+d&&u>r+d&&u>o+d||u<e-d&&u<n-d&&u<r-d&&u<o-d)return!1;var h=T5(e,t,n,a,r,i,o,s,u,c,null);return h<=d/2}function pP(e,t,n,a,r,i,o,s,l){if(o===0)return!1;var u=o;if(l>t+u&&l>a+u&&l>i+u||l<t-u&&l<a-u&&l<i-u||s>e+u&&s>n+u&&s>r+u||s<e-u&&s<n-u&&s<r-u)return!1;var c=k5(e,t,n,a,r,i,s,l,null);return c<=u/2}var kv=Math.PI*2;function Ks(e){return e%=kv,e<0&&(e+=kv),e}var uo=Math.PI*2;function fP(e,t,n,a,r,i,o,s,l){if(o===0)return!1;var u=o;s-=e,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>n||c+u<n)return!1;if(Math.abs(a-r)%uo<1e-4)return!0;if(i){var d=a;a=Ks(r),r=Ks(d)}else a=Ks(a),r=Ks(r);a>r&&(r+=uo);var h=Math.atan2(l,s);return h<0&&(h+=uo),h>=a&&h<=r||h+uo>=a&&h+uo<=r}function hr(e,t,n,a,r,i){if(i>t&&i>a||i<t&&i<a||a===t)return 0;var o=(i-t)/(a-t),s=a<t?1:-1;(o===1||o===0)&&(s=a<t?.5:-.5);var l=o*(n-e)+e;return l===r?1/0:l>r?s:0}var La=Ja.CMD,pr=Math.PI*2,vP=1e-4;function gP(e,t){return Math.abs(e-t)<vP}var Jt=[-1,-1,-1],An=[-1,-1];function mP(){var e=An[0];An[0]=An[1],An[1]=e}function yP(e,t,n,a,r,i,o,s,l,u){if(u>t&&u>a&&u>i&&u>s||u<t&&u<a&&u<i&&u<s)return 0;var c=Zl(t,a,i,s,u,Jt);if(c===0)return 0;for(var d=0,h=-1,p=void 0,f=void 0,g=0;g<c;g++){var v=Jt[g],m=v===0||v===1?.5:1,y=Pt(e,n,r,o,v);y<l||(h<0&&(h=c_(t,a,i,s,An),An[1]<An[0]&&h>1&&mP(),p=Pt(t,a,i,s,An[0]),h>1&&(f=Pt(t,a,i,s,An[1]))),h===2?v<An[0]?d+=p<t?m:-m:v<An[1]?d+=f<p?m:-m:d+=s<f?m:-m:v<An[0]?d+=p<t?m:-m:d+=s<p?m:-m)}return d}function _P(e,t,n,a,r,i,o,s){if(s>t&&s>a&&s>i||s<t&&s<a&&s<i)return 0;var l=A5(t,a,i,s,Jt);if(l===0)return 0;var u=d_(t,a,i);if(u>=0&&u<=1){for(var c=0,d=qt(t,a,i,u),h=0;h<l;h++){var p=Jt[h]===0||Jt[h]===1?.5:1,f=qt(e,n,r,Jt[h]);f<o||(Jt[h]<u?c+=d<t?p:-p:c+=i<d?p:-p)}return c}else{var p=Jt[0]===0||Jt[0]===1?.5:1,f=qt(e,n,r,Jt[0]);return f<o?0:i<t?p:-p}}function CP(e,t,n,a,r,i,o,s){if(s-=t,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);Jt[0]=-l,Jt[1]=l;var u=Math.abs(a-r);if(u<1e-4)return 0;if(u>=pr-1e-4){a=0,r=pr;var c=i?1:-1;return o>=Jt[0]+e&&o<=Jt[1]+e?c:0}if(a>r){var d=a;a=r,r=d}a<0&&(a+=pr,r+=pr);for(var h=0,p=0;p<2;p++){var f=Jt[p];if(f+e>o){var g=Math.atan2(s,f),c=i?1:-1;g<0&&(g=pr+g),(g>=a&&g<=r||g+pr>=a&&g+pr<=r)&&(g>Math.PI/2&&g<Math.PI*1.5&&(c=-c),h+=c)}}return h}function G_(e,t,n,a,r){for(var i=e.data,o=e.len(),s=0,l=0,u=0,c=0,d=0,h,p,f=0;f<o;){var g=i[f++],v=f===1;switch(g===La.M&&f>1&&(n||(s+=hr(l,u,c,d,a,r))),v&&(l=i[f],u=i[f+1],c=l,d=u),g){case La.M:c=i[f++],d=i[f++],l=c,u=d;break;case La.L:if(n){if(di(l,u,i[f],i[f+1],t,a,r))return!0}else s+=hr(l,u,i[f],i[f+1],a,r)||0;l=i[f++],u=i[f++];break;case La.C:if(n){if(hP(l,u,i[f++],i[f++],i[f++],i[f++],i[f],i[f+1],t,a,r))return!0}else s+=yP(l,u,i[f++],i[f++],i[f++],i[f++],i[f],i[f+1],a,r)||0;l=i[f++],u=i[f++];break;case La.Q:if(n){if(pP(l,u,i[f++],i[f++],i[f],i[f+1],t,a,r))return!0}else s+=_P(l,u,i[f++],i[f++],i[f],i[f+1],a,r)||0;l=i[f++],u=i[f++];break;case La.A:var m=i[f++],y=i[f++],_=i[f++],w=i[f++],E=i[f++],x=i[f++];f+=1;var S=!!(1-i[f++]);h=Math.cos(E)*_+m,p=Math.sin(E)*w+y,v?(c=h,d=p):s+=hr(l,u,h,p,a,r);var b=(a-m)*w/_+m;if(n){if(fP(m,y,w,E,E+x,S,t,b,r))return!0}else s+=CP(m,y,w,E,E+x,S,b,r);l=Math.cos(E+x)*_+m,u=Math.sin(E+x)*w+y;break;case La.R:c=l=i[f++],d=u=i[f++];var D=i[f++],T=i[f++];if(h=c+D,p=d+T,n){if(di(c,d,h,d,t,a,r)||di(h,d,h,p,t,a,r)||di(h,p,c,p,t,a,r)||di(c,p,c,d,t,a,r))return!0}else s+=hr(h,d,h,p,a,r),s+=hr(c,p,c,d,a,r);break;case La.Z:if(n){if(di(l,u,c,d,t,a,r))return!0}else s+=hr(l,u,c,d,a,r);l=c,u=d;break}}return!n&&!gP(u,d)&&(s+=hr(l,u,c,d,a,r)||0),s!==0}function wP(e,t,n){return G_(e,0,!1,t,n)}function xP(e,t,n,a){return G_(e,t,!0,n,a)}var F_=Ke({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Lr),EP={style:Ke({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Ou.style)},Yc=as.concat(["invisible","culling","z","z2","zlevel","parent"]),bP=function(e){mt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.update=function(){var n=this;e.prototype.update.call(this);var a=this.style;if(a.decal){var r=this._decalEl=this._decalEl||new t;r.buildPath===t.prototype.buildPath&&(r.buildPath=function(l){n.buildPath(l,n.shape)}),r.silent=!0;var i=r.style;for(var o in a)i[o]!==a[o]&&(i[o]=a[o]);i.fill=a.fill?a.decal:null,i.decal=null,i.shadowColor=null,a.strokeFirst&&(i.stroke=null);for(var s=0;s<Yc.length;++s)r[Yc[s]]=this[Yc[s]];r.__dirty|=Cn}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var a=Dt(n);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var i=0;i<a.length;i++){var o=a[i],s=n[o];o==="style"?this.style?_e(this.style,s):this.useStyle(s):o==="shape"?_e(this.shape,s):e.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(Oe(n)){var a=Xl(n,0);return a>.5?uh:a>.2?nO:ch}else if(n)return ch}return uh},t.prototype.getInsideTextStroke=function(n){var a=this.style.fill;if(Oe(a)){var r=this.__zr,i=!!(r&&r.isDarkMode()),o=Xl(n,0)<lh;if(i===o)return a}},t.prototype.buildPath=function(n,a,r){},t.prototype.pathUpdated=function(){this.__dirty&=~Ei},t.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},t.prototype.createPathProxy=function(){this.path=new Ja(!1)},t.prototype.hasStroke=function(){var n=this.style,a=n.stroke;return!(a==null||a==="none"||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style,a=n.fill;return a!=null&&a!=="none"},t.prototype.getBoundingRect=function(){var n=this._rect,a=this.style,r=!n;if(r){var i=!1;this.path||(i=!0,this.createPathProxy());var o=this.path;(i||this.__dirty&Ei)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),n=o.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||r){s.copy(n);var l=a.strokeNoScale?this.getLineScale():1,u=a.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return n},t.prototype.contain=function(n,a){var r=this.transformCoordToLocal(n,a),i=this.getBoundingRect(),o=this.style;if(n=r[0],a=r[1],i.contain(n,a)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),xP(s,l/u,n,a)))return!0}if(this.hasFill())return wP(s,n,a)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Ei,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,a){n==="shape"?this.setShape(a):e.prototype.attrKV.call(this,n,a)},t.prototype.setShape=function(n,a){var r=this.shape;return r||(r=this.shape={}),typeof n=="string"?r[n]=a:_e(r,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Ei)},t.prototype.createStyle=function(n){return Au(F_,n)},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var a=this._normalState;n.shape&&!a.shape&&(a.shape=_e({},this.shape))},t.prototype._applyStateObj=function(n,a,r,i,o,s){e.prototype._applyStateObj.call(this,n,a,r,i,o,s);var l=!(a&&i),u;if(a&&a.shape?o?i?u=a.shape:(u=_e({},r.shape),_e(u,a.shape)):(u=_e({},i?this.shape:r.shape),_e(u,a.shape)):l&&(u=r.shape),u)if(o){this.shape=_e({},this.shape);for(var c={},d=Dt(u),h=0;h<d.length;h++){var p=d[h];typeof u[p]=="object"?this.shape[p]=u[p]:c[p]=u[p]}this._transitionState(n,{shape:c},s)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var a=e.prototype._mergeStates.call(this,n),r,i=0;i<n.length;i++){var o=n[i];o.shape&&(r=r||{},this._mergeStyle(r,o.shape))}return r&&(a.shape=r),a},t.prototype.getAnimationStyleProps=function(){return EP},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var a=function(i){mt(o,i);function o(s){var l=i.call(this,s)||this;return n.init&&n.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return qe(n.style)},o.prototype.getDefaultShape=function(){return qe(n.shape)},o}(t);for(var r in n)typeof n[r]=="function"&&(a.prototype[r]=n[r]);return a},t.initDefaultProps=function(){var n=t.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=Cn|Ao|Ei}(),t}(ji);const rt=bP;var SP=Ke({strokeFirst:!0,font:Ur,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},F_),H_=function(e){mt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var n=this.style,a=n.stroke;return a!=null&&a!=="none"&&n.lineWidth>0},t.prototype.hasFill=function(){var n=this.style,a=n.fill;return a!=null&&a!=="none"},t.prototype.createStyle=function(n){return Au(SP,n)},t.prototype.setBoundingRect=function(n){this._rect=n},t.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var a=n.text;a!=null?a+="":a="";var r=Mu(a,n.font,n.textAlign,n.textBaseline);if(r.x+=n.x||0,r.y+=n.y||0,this.hasStroke()){var i=n.lineWidth;r.x-=i/2,r.y-=i/2,r.width+=i,r.height+=i}this._rect=r}return this._rect},t.initDefaultProps=function(){var n=t.prototype;n.dirtyRectTolerance=10}(),t}(ji);H_.prototype.type="tspan";const fh=H_;var DP=Ke({x:0,y:0},Lr),TP={style:Ke({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Ou.style)};function IP(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var V_=function(e){mt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(n){return Au(DP,n)},t.prototype._getSize=function(n){var a=this.style,r=a[n];if(r!=null)return r;var i=IP(a.image)?a.image:this.__image;if(!i)return 0;var o=n==="width"?"height":"width",s=a[o];return s==null?i[n]:i[n]/i[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return TP},t.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new st(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},t}(ji);V_.prototype.type="image";const jr=V_;function AP(e,t){var n=t.x,a=t.y,r=t.width,i=t.height,o=t.r,s,l,u,c;r<0&&(n=n+r,r=-r),i<0&&(a=a+i,i=-i),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var d;s+l>r&&(d=s+l,s*=r/d,l*=r/d),u+c>r&&(d=u+c,u*=r/d,c*=r/d),l+u>i&&(d=l+u,l*=i/d,u*=i/d),s+c>i&&(d=s+c,s*=i/d,c*=i/d),e.moveTo(n+s,a),e.lineTo(n+r-l,a),l!==0&&e.arc(n+r-l,a+l,l,-Math.PI/2,0),e.lineTo(n+r,a+i-u),u!==0&&e.arc(n+r-u,a+i-u,u,0,Math.PI/2),e.lineTo(n+c,a+i),c!==0&&e.arc(n+c,a+i-c,c,Math.PI/2,Math.PI),e.lineTo(n,a+s),s!==0&&e.arc(n+s,a+s,s,Math.PI,Math.PI*1.5)}var Ai=Math.round;function Y_(e,t,n){if(t){var a=t.x1,r=t.x2,i=t.y1,o=t.y2;e.x1=a,e.x2=r,e.y1=i,e.y2=o;var s=n&&n.lineWidth;return s&&(Ai(a*2)===Ai(r*2)&&(e.x1=e.x2=Ir(a,s,!0)),Ai(i*2)===Ai(o*2)&&(e.y1=e.y2=Ir(i,s,!0))),e}}function z_(e,t,n){if(t){var a=t.x,r=t.y,i=t.width,o=t.height;e.x=a,e.y=r,e.width=i,e.height=o;var s=n&&n.lineWidth;return s&&(e.x=Ir(a,s,!0),e.y=Ir(r,s,!0),e.width=Math.max(Ir(a+i,s,!1)-e.x,i===0?0:1),e.height=Math.max(Ir(r+o,s,!1)-e.y,o===0?0:1)),e}}function Ir(e,t,n){if(!t)return e;var a=Ai(e*2);return(a+Ai(t))%2===0?a/2:(a+(n?1:-1))/2}var kP=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),MP={},W_=function(e){mt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new kP},t.prototype.buildPath=function(n,a){var r,i,o,s;if(this.subPixelOptimize){var l=z_(MP,a,this.style);r=l.x,i=l.y,o=l.width,s=l.height,l.r=a.r,a=l}else r=a.x,i=a.y,o=a.width,s=a.height;a.r?AP(n,a):n.rect(r,i,o,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(rt);W_.prototype.type="rect";const St=W_;var Mv={fill:"#000"},Lv=2,LP={style:Ke({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Ou.style)},q_=function(e){mt(t,e);function t(n){var a=e.call(this)||this;return a.type="text",a._children=[],a._defaultStyle=Mv,a.attr(n),a}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var a=this._children[n];a.zlevel=this.zlevel,a.z=this.z,a.z2=this.z2,a.culling=this.culling,a.cursor=this.cursor,a.invisible=this.invisible}},t.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(n){var a=this.innerTransformable;return a?a.getLocalTransform(n):e.prototype.getLocalTransform.call(this,n)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,BP(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var a=0;a<this._children.length;a++)this._children[a].__zr=n},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var a=0;a<this._children.length;a++)this._children[a].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new st(0,0,0,0),a=this._children,r=[],i=null,o=0;o<a.length;o++){var s=a[o],l=s.getBoundingRect(),u=s.getLocalTransform(r);u?(n.copy(l),n.applyTransform(u),i=i||n.clone(),i.union(n)):(i=i||l.clone(),i.union(l))}this._rect=i||n}return this._rect},t.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||Mv},t.prototype.setTextContent=function(n){},t.prototype._mergeStyle=function(n,a){if(!a)return n;var r=a.rich,i=n.rich||r&&{};return _e(n,a),r&&i?(this._mergeRich(i,r),n.rich=i):i&&(n.rich=i),n},t.prototype._mergeRich=function(n,a){for(var r=Dt(a),i=0;i<r.length;i++){var o=r[i];n[o]=n[o]||{},_e(n[o],a[o])}},t.prototype.getAnimationStyleProps=function(){return LP},t.prototype._getOrCreateChild=function(n){var a=this._children[this._childCursor];return(!a||!(a instanceof n))&&(a=new n),this._children[this._childCursor++]=a,a.__zr=this.__zr,a.parent=this,a},t.prototype._updatePlainTexts=function(){var n=this.style,a=n.font||Ur,r=n.padding,i=Uv(n),o=jO(i,n),s=zc(n),l=!!n.backgroundColor,u=o.outerHeight,c=o.outerWidth,d=o.contentWidth,h=o.lines,p=o.lineHeight,f=this._defaultStyle,g=n.x||0,v=n.y||0,m=n.align||f.align||"left",y=n.verticalAlign||f.verticalAlign||"top",_=g,w=bi(v,o.contentHeight,y);if(s||r){var E=Mo(g,c,m),x=bi(v,u,y);s&&this._renderBackground(n,n,E,x,c,u)}w+=p/2,r&&(_=$v(g,m,r),y==="top"?w+=r[0]:y==="bottom"&&(w-=r[2]));for(var S=0,b=!1,D=Bv("fill"in n?n.fill:(b=!0,f.fill)),T=Nv("stroke"in n?n.stroke:!l&&(!f.autoStroke||b)?(S=Lv,f.stroke):null),A=n.textShadowBlur>0,L=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),P=o.calculatedLineHeight,N=0;N<h.length;N++){var B=this._getOrCreateChild(fh),K=B.createStyle();B.useStyle(K),K.text=h[N],K.x=_,K.y=w,m&&(K.textAlign=m),K.textBaseline="middle",K.opacity=n.opacity,K.strokeFirst=!0,A&&(K.shadowBlur=n.textShadowBlur||0,K.shadowColor=n.textShadowColor||"transparent",K.shadowOffsetX=n.textShadowOffsetX||0,K.shadowOffsetY=n.textShadowOffsetY||0),K.stroke=T,K.fill=D,T&&(K.lineWidth=n.lineWidth||S,K.lineDash=n.lineDash,K.lineDashOffset=n.lineDashOffset||0),K.font=a,Ov(K,n),w+=p,L&&B.setBoundingRect(new st(Mo(K.x,n.width,K.textAlign),bi(K.y,P,K.textBaseline),d,P))}},t.prototype._updateRichTexts=function(){var n=this.style,a=Uv(n),r=eP(a,n),i=r.width,o=r.outerWidth,s=r.outerHeight,l=n.padding,u=n.x||0,c=n.y||0,d=this._defaultStyle,h=n.align||d.align,p=n.verticalAlign||d.verticalAlign,f=Mo(u,o,h),g=bi(c,s,p),v=f,m=g;l&&(v+=l[3],m+=l[0]);var y=v+i;zc(n)&&this._renderBackground(n,n,f,g,o,s);for(var _=!!n.backgroundColor,w=0;w<r.lines.length;w++){for(var E=r.lines[w],x=E.tokens,S=x.length,b=E.lineHeight,D=E.width,T=0,A=v,L=y,P=S-1,N=void 0;T<S&&(N=x[T],!N.align||N.align==="left");)this._placeToken(N,n,b,m,A,"left",_),D-=N.width,A+=N.width,T++;for(;P>=0&&(N=x[P],N.align==="right");)this._placeToken(N,n,b,m,L,"right",_),D-=N.width,L-=N.width,P--;for(A+=(i-(A-v)-(y-L)-D)/2;T<=P;)N=x[T],this._placeToken(N,n,b,m,A+N.width/2,"center",_),A+=N.width,T++;m+=b}},t.prototype._placeToken=function(n,a,r,i,o,s,l){var u=a.rich[n.styleName]||{};u.text=n.text;var c=n.verticalAlign,d=i+r/2;c==="top"?d=i+n.height/2:c==="bottom"&&(d=i+r-n.height/2);var h=!n.isLineHolder&&zc(u);h&&this._renderBackground(u,a,s==="right"?o-n.width:s==="center"?o-n.width/2:o,d-n.height/2,n.width,n.height);var p=!!u.backgroundColor,f=n.textPadding;f&&(o=$v(o,s,f),d-=n.height/2-f[0]-n.innerHeight/2);var g=this._getOrCreateChild(fh),v=g.createStyle();g.useStyle(v);var m=this._defaultStyle,y=!1,_=0,w=Bv("fill"in u?u.fill:"fill"in a?a.fill:(y=!0,m.fill)),E=Nv("stroke"in u?u.stroke:"stroke"in a?a.stroke:!p&&!l&&(!m.autoStroke||y)?(_=Lv,m.stroke):null),x=u.textShadowBlur>0||a.textShadowBlur>0;v.text=n.text,v.x=o,v.y=d,x&&(v.shadowBlur=u.textShadowBlur||a.textShadowBlur||0,v.shadowColor=u.textShadowColor||a.textShadowColor||"transparent",v.shadowOffsetX=u.textShadowOffsetX||a.textShadowOffsetX||0,v.shadowOffsetY=u.textShadowOffsetY||a.textShadowOffsetY||0),v.textAlign=s,v.textBaseline="middle",v.font=n.font||Ur,v.opacity=Sl(u.opacity,a.opacity,1),Ov(v,u),E&&(v.lineWidth=Sl(u.lineWidth,a.lineWidth,_),v.lineDash=ut(u.lineDash,a.lineDash),v.lineDashOffset=a.lineDashOffset||0,v.stroke=E),w&&(v.fill=w);var S=n.contentWidth,b=n.contentHeight;g.setBoundingRect(new st(Mo(v.x,S,v.textAlign),bi(v.y,b,v.textBaseline),S,b))},t.prototype._renderBackground=function(n,a,r,i,o,s){var l=n.backgroundColor,u=n.borderWidth,c=n.borderColor,d=l&&l.image,h=l&&!d,p=n.borderRadius,f=this,g,v;if(h||n.lineHeight||u&&c){g=this._getOrCreateChild(St),g.useStyle(g.createStyle()),g.style.fill=null;var m=g.shape;m.x=r,m.y=i,m.width=o,m.height=s,m.r=p,g.dirtyShape()}if(h){var y=g.style;y.fill=l||null,y.fillOpacity=ut(n.fillOpacity,1)}else if(d){v=this._getOrCreateChild(jr),v.onload=function(){f.dirtyStyle()};var _=v.style;_.image=l.image,_.x=r,_.y=i,_.width=o,_.height=s}if(u&&c){var y=g.style;y.lineWidth=u,y.stroke=c,y.strokeOpacity=ut(n.strokeOpacity,1),y.lineDash=n.borderDash,y.lineDashOffset=n.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var w=(g||v).style;w.shadowBlur=n.shadowBlur||0,w.shadowColor=n.shadowColor||"transparent",w.shadowOffsetX=n.shadowOffsetX||0,w.shadowOffsetY=n.shadowOffsetY||0,w.opacity=Sl(n.opacity,a.opacity,1)},t.makeFont=function(n){var a="";return NP(n)&&(a=[n.fontStyle,n.fontWeight,PP(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),a&&ea(a)||n.textFont||n.font},t}(ji),RP={left:!0,right:1,center:1},OP={top:1,bottom:1,middle:1},Rv=["fontStyle","fontWeight","fontSize","fontFamily"];function PP(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?lp+"px":e+"px"}function Ov(e,t){for(var n=0;n<Rv.length;n++){var a=Rv[n],r=t[a];r!=null&&(e[a]=r)}}function NP(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function BP(e){return Pv(e),R(e.rich,Pv),e}function Pv(e){if(e){e.font=q_.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||RP[t]?t:"left";var n=e.verticalAlign;n==="center"&&(n="middle"),e.verticalAlign=n==null||OP[n]?n:"top";var a=e.padding;a&&(e.padding=jy(e.padding))}}function Nv(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function Bv(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function $v(e,t,n){return t==="right"?e-n[1]:t==="center"?e+n[3]/2-n[1]/2:e+n[3]}function Uv(e){var t=e.text;return t!=null&&(t+=""),t}function zc(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}const nn=q_;var vt=At(),$P=function(e,t,n,a){if(a){var r=vt(a);r.dataIndex=n,r.dataType=t,r.seriesIndex=e,a.type==="group"&&a.traverse(function(i){var o=vt(i);o.seriesIndex=e,o.dataIndex=n,o.dataType=t})}},Gv=1,Fv={},Z_=At(),bp=At(),Sp=0,Pu=1,Nu=2,oa=["emphasis","blur","select"],Hv=["normal","emphasis","blur","select"],UP=10,GP=9,Rr="highlight",Rl="downplay",Fo="select",Ol="unselect",Ho="toggleSelect";function hi(e){return e!=null&&e!=="none"}var Vv=new bs(100);function Yv(e){if(Oe(e)){var t=Vv.get(e);return t||(t=sv(e,-.1),Vv.put(e,t)),t}else if(Iu(e)){var n=_e({},e);return n.colorStops=Re(e.colorStops,function(a){return{offset:a.offset,color:sv(a.color,-.1)}}),n}return e}function Bu(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function K_(e){Bu(e,"emphasis",Nu)}function X_(e){e.hoverState===Nu&&Bu(e,"normal",Sp)}function Dp(e){Bu(e,"blur",Pu)}function j_(e){e.hoverState===Pu&&Bu(e,"normal",Sp)}function FP(e){e.selected=!0}function HP(e){e.selected=!1}function zv(e,t,n){t(e,n)}function Ia(e,t,n){zv(e,t,n),e.isGroup&&e.traverse(function(a){zv(a,t,n)})}function Wv(e,t){switch(t){case"emphasis":e.hoverState=Nu;break;case"normal":e.hoverState=Sp;break;case"blur":e.hoverState=Pu;break;case"select":e.selected=!0}}function VP(e,t,n,a){for(var r=e.style,i={},o=0;o<t.length;o++){var s=t[o],l=r[s];i[s]=l??(a&&a[s])}for(var o=0;o<e.animators.length;o++){var u=e.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&u.targetName==="style"&&u.saveTo(i,t)}return i}function YP(e,t,n,a){var r=n&&it(n,"select")>=0,i=!1;if(e instanceof rt){var o=Z_(e),s=r&&o.selectFill||o.normalFill,l=r&&o.selectStroke||o.normalStroke;if(hi(s)||hi(l)){a=a||{};var u=a.style||{};u.fill==="inherit"?(i=!0,a=_e({},a),u=_e({},u),u.fill=s):!hi(u.fill)&&hi(s)?(i=!0,a=_e({},a),u=_e({},u),u.fill=Yv(s)):!hi(u.stroke)&&hi(l)&&(i||(a=_e({},a),u=_e({},u)),u.stroke=Yv(l)),a.style=u}}if(a&&a.z2==null){i||(a=_e({},a));var c=e.z2EmphasisLift;a.z2=e.z2+(c??UP)}return a}function zP(e,t,n){if(n&&n.z2==null){n=_e({},n);var a=e.z2SelectLift;n.z2=e.z2+(a??GP)}return n}function WP(e,t,n){var a=it(e.currentStates,t)>=0,r=e.style.opacity,i=a?null:VP(e,["opacity"],t,{opacity:1});n=n||{};var o=n.style||{};return o.opacity==null&&(n=_e({},n),o=_e({opacity:a?r:i.opacity*.1},o),n.style=o),n}function Wc(e,t){var n=this.states[e];if(this.style){if(e==="emphasis")return YP(this,e,t,n);if(e==="blur")return WP(this,e,n);if(e==="select")return zP(this,e,n)}return n}function qP(e){e.stateProxy=Wc;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=Wc),n&&(n.stateProxy=Wc)}function qv(e,t){!tC(e,t)&&!e.__highByOuter&&Ia(e,K_)}function Zv(e,t){!tC(e,t)&&!e.__highByOuter&&Ia(e,X_)}function Hi(e,t){e.__highByOuter|=1<<(t||0),Ia(e,K_)}function Vi(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Ia(e,X_)}function ZP(e){Ia(e,Dp)}function J_(e){Ia(e,j_)}function Q_(e){Ia(e,FP)}function eC(e){Ia(e,HP)}function tC(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function nC(e){var t=e.getModel(),n=[],a=[];t.eachComponent(function(r,i){var o=bp(i),s=r==="series",l=s?e.getViewOfSeriesModel(i):e.getViewOfComponentModel(i);!s&&a.push(l),o.isBlured&&(l.group.traverse(function(u){j_(u)}),s&&n.push(i)),o.isBlured=!1}),R(a,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(n,!1,t)})}function vh(e,t,n,a){var r=a.getModel();n=n||"coordinateSystem";function i(u,c){for(var d=0;d<c.length;d++){var h=u.getItemGraphicEl(c[d]);h&&J_(h)}}if(e!=null&&!(!t||t==="none")){var o=r.getSeriesByIndex(e),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(u){var c=o===u,d=u.coordinateSystem;d&&d.master&&(d=d.master);var h=d&&s?d===s:c;if(!(n==="series"&&!c||n==="coordinateSystem"&&!h||t==="series"&&c)){var p=a.getViewOfSeriesModel(u);if(p.group.traverse(function(v){Dp(v)}),pn(t))i(u.getData(),t);else if($e(t))for(var f=Dt(t),g=0;g<f.length;g++)i(u.getData(f[g]),t[f[g]]);l.push(u),bp(u).isBlured=!0}}),r.eachComponent(function(u,c){if(u!=="series"){var d=a.getViewOfComponentModel(c);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,r)}})}}function gh(e,t,n){if(!(e==null||t==null)){var a=n.getModel().getComponent(e,t);if(a){bp(a).isBlured=!0;var r=n.getViewOfComponentModel(a);!r||!r.focusBlurEnabled||r.group.traverse(function(i){Dp(i)})}}}function KP(e,t,n){var a=e.seriesIndex,r=e.getData(t.dataType);if(r){var i=Fr(r,t);i=(Te(i)?i[0]:i)||0;var o=r.getItemGraphicEl(i);if(!o)for(var s=r.count(),l=0;!o&&l<s;)o=r.getItemGraphicEl(l++);if(o){var u=vt(o);vh(a,u.focus,u.blurScope,n)}else{var c=e.get(["emphasis","focus"]),d=e.get(["emphasis","blurScope"]);c!=null&&vh(a,c,d,n)}}}function Tp(e,t,n,a){var r={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||n==null)return r;var i=a.getModel().getComponent(e,t);if(!i)return r;var o=a.getViewOfComponentModel(i);if(!o||!o.findHighDownDispatchers)return r;for(var s=o.findHighDownDispatchers(n),l,u=0;u<s.length;u++)if(vt(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function XP(e,t,n){var a=vt(e),r=Tp(a.componentMainType,a.componentIndex,a.componentHighDownName,n),i=r.dispatchers,o=r.focusSelf;i?(o&&gh(a.componentMainType,a.componentIndex,n),R(i,function(s){return qv(s,t)})):(vh(a.seriesIndex,a.focus,a.blurScope,n),a.focus==="self"&&gh(a.componentMainType,a.componentIndex,n),qv(e,t))}function jP(e,t,n){nC(n);var a=vt(e),r=Tp(a.componentMainType,a.componentIndex,a.componentHighDownName,n).dispatchers;r?R(r,function(i){return Zv(i,t)}):Zv(e,t)}function JP(e,t,n){if(_h(t)){var a=t.dataType,r=e.getData(a),i=Fr(r,t);Te(i)||(i=[i]),e[t.type===Ho?"toggleSelect":t.type===Fo?"select":"unselect"](i,a)}}function Kv(e){var t=e.getAllData();R(t,function(n){var a=n.data,r=n.type;a.eachItemGraphicEl(function(i,o){e.isSelected(o,r)?Q_(i):eC(i)})})}function QP(e){var t=[];return e.eachSeries(function(n){var a=n.getAllData();R(a,function(r){r.data;var i=r.type,o=n.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:n.seriesIndex};i!=null&&(s.dataType=i),t.push(s)}})}),t}function aC(e,t,n){rC(e,!0),Ia(e,qP),tN(e,t,n)}function eN(e){rC(e,!1)}function tu(e,t,n,a){a?eN(e):aC(e,t,n)}function tN(e,t,n){var a=vt(e);t!=null?(a.focus=t,a.blurScope=n):a.focus&&(a.focus=null)}var Xv=["emphasis","blur","select"],nN={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function mh(e,t,n,a){n=n||"itemStyle";for(var r=0;r<Xv.length;r++){var i=Xv[r],o=t.getModel([i,n]),s=e.ensureState(i);s.style=a?a(o):o[nN[n]]()}}function rC(e,t){var n=t===!1,a=e;e.highDownSilentOnTouch&&(a.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!n||a.__highDownDispatcher)&&(a.__highByOuter=a.__highByOuter||0,a.__highDownDispatcher=!n)}function yh(e){return!!(e&&e.__highDownDispatcher)}function aN(e){var t=Fv[e];return t==null&&Gv<=32&&(t=Fv[e]=Gv++),t}function _h(e){var t=e.type;return t===Fo||t===Ol||t===Ho}function jv(e){var t=e.type;return t===Rr||t===Rl}function rN(e){var t=Z_(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var pi=Ja.CMD,iN=[[],[],[]],Jv=Math.sqrt,oN=Math.atan2;function iC(e,t){if(t){var n=e.data,a=e.len(),r,i,o,s,l,u,c=pi.M,d=pi.C,h=pi.L,p=pi.R,f=pi.A,g=pi.Q;for(o=0,s=0;o<a;){switch(r=n[o++],s=o,i=0,r){case c:i=1;break;case h:i=1;break;case d:i=3;break;case g:i=2;break;case f:var v=t[4],m=t[5],y=Jv(t[0]*t[0]+t[1]*t[1]),_=Jv(t[2]*t[2]+t[3]*t[3]),w=oN(-t[1]/_,t[0]/y);n[o]*=y,n[o++]+=v,n[o]*=_,n[o++]+=m,n[o++]*=y,n[o++]*=_,n[o++]+=w,n[o++]+=w,o+=2,s=o;break;case p:u[0]=n[o++],u[1]=n[o++],Rn(u,u,t),n[s++]=u[0],n[s++]=u[1],u[0]+=n[o++],u[1]+=n[o++],Rn(u,u,t),n[s++]=u[0],n[s++]=u[1]}for(l=0;l<i;l++){var E=iN[l];E[0]=n[o++],E[1]=n[o++],Rn(E,E,t),n[s++]=E[0],n[s++]=E[1]}}e.increaseVersion()}}var qc=Math.sqrt,Xs=Math.sin,js=Math.cos,co=Math.PI;function Qv(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Ch(e,t){return(e[0]*t[0]+e[1]*t[1])/(Qv(e)*Qv(t))}function eg(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Ch(e,t))}function tg(e,t,n,a,r,i,o,s,l,u,c){var d=l*(co/180),h=js(d)*(e-n)/2+Xs(d)*(t-a)/2,p=-1*Xs(d)*(e-n)/2+js(d)*(t-a)/2,f=h*h/(o*o)+p*p/(s*s);f>1&&(o*=qc(f),s*=qc(f));var g=(r===i?-1:1)*qc((o*o*(s*s)-o*o*(p*p)-s*s*(h*h))/(o*o*(p*p)+s*s*(h*h)))||0,v=g*o*p/s,m=g*-s*h/o,y=(e+n)/2+js(d)*v-Xs(d)*m,_=(t+a)/2+Xs(d)*v+js(d)*m,w=eg([1,0],[(h-v)/o,(p-m)/s]),E=[(h-v)/o,(p-m)/s],x=[(-1*h-v)/o,(-1*p-m)/s],S=eg(E,x);if(Ch(E,x)<=-1&&(S=co),Ch(E,x)>=1&&(S=0),S<0){var b=Math.round(S/co*1e6)/1e6;S=co*2+b%2*co}c.addData(u,y,_,o,s,w,S,d,i)}var sN=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,lN=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function uN(e){var t=new Ja;if(!e)return t;var n=0,a=0,r=n,i=a,o,s=Ja.CMD,l=e.match(sN);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],d=c.charAt(0),h=void 0,p=c.match(lN)||[],f=p.length,g=0;g<f;g++)p[g]=parseFloat(p[g]);for(var v=0;v<f;){var m=void 0,y=void 0,_=void 0,w=void 0,E=void 0,x=void 0,S=void 0,b=n,D=a,T=void 0,A=void 0;switch(d){case"l":n+=p[v++],a+=p[v++],h=s.L,t.addData(h,n,a);break;case"L":n=p[v++],a=p[v++],h=s.L,t.addData(h,n,a);break;case"m":n+=p[v++],a+=p[v++],h=s.M,t.addData(h,n,a),r=n,i=a,d="l";break;case"M":n=p[v++],a=p[v++],h=s.M,t.addData(h,n,a),r=n,i=a,d="L";break;case"h":n+=p[v++],h=s.L,t.addData(h,n,a);break;case"H":n=p[v++],h=s.L,t.addData(h,n,a);break;case"v":a+=p[v++],h=s.L,t.addData(h,n,a);break;case"V":a=p[v++],h=s.L,t.addData(h,n,a);break;case"C":h=s.C,t.addData(h,p[v++],p[v++],p[v++],p[v++],p[v++],p[v++]),n=p[v-2],a=p[v-1];break;case"c":h=s.C,t.addData(h,p[v++]+n,p[v++]+a,p[v++]+n,p[v++]+a,p[v++]+n,p[v++]+a),n+=p[v-2],a+=p[v-1];break;case"S":m=n,y=a,T=t.len(),A=t.data,o===s.C&&(m+=n-A[T-4],y+=a-A[T-3]),h=s.C,b=p[v++],D=p[v++],n=p[v++],a=p[v++],t.addData(h,m,y,b,D,n,a);break;case"s":m=n,y=a,T=t.len(),A=t.data,o===s.C&&(m+=n-A[T-4],y+=a-A[T-3]),h=s.C,b=n+p[v++],D=a+p[v++],n+=p[v++],a+=p[v++],t.addData(h,m,y,b,D,n,a);break;case"Q":b=p[v++],D=p[v++],n=p[v++],a=p[v++],h=s.Q,t.addData(h,b,D,n,a);break;case"q":b=p[v++]+n,D=p[v++]+a,n+=p[v++],a+=p[v++],h=s.Q,t.addData(h,b,D,n,a);break;case"T":m=n,y=a,T=t.len(),A=t.data,o===s.Q&&(m+=n-A[T-4],y+=a-A[T-3]),n=p[v++],a=p[v++],h=s.Q,t.addData(h,m,y,n,a);break;case"t":m=n,y=a,T=t.len(),A=t.data,o===s.Q&&(m+=n-A[T-4],y+=a-A[T-3]),n+=p[v++],a+=p[v++],h=s.Q,t.addData(h,m,y,n,a);break;case"A":_=p[v++],w=p[v++],E=p[v++],x=p[v++],S=p[v++],b=n,D=a,n=p[v++],a=p[v++],h=s.A,tg(b,D,n,a,x,S,_,w,E,h,t);break;case"a":_=p[v++],w=p[v++],E=p[v++],x=p[v++],S=p[v++],b=n,D=a,n+=p[v++],a+=p[v++],h=s.A,tg(b,D,n,a,x,S,_,w,E,h,t);break}}(d==="z"||d==="Z")&&(h=s.Z,t.addData(h),n=r,a=i),o=h}return t.toStatic(),t}var oC=function(e){mt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(n){},t}(rt);function sC(e){return e.setData!=null}function lC(e,t){var n=uN(e),a=_e({},t);return a.buildPath=function(r){if(sC(r)){r.setData(n.data);var i=r.getContext();i&&r.rebuildPath(i,1)}else{var i=r;n.rebuildPath(i,1)}},a.applyTransform=function(r){iC(n,r),this.dirtyShape()},a}function cN(e,t){return new oC(lC(e,t))}function dN(e,t){var n=lC(e,t),a=function(r){mt(i,r);function i(o){var s=r.call(this,o)||this;return s.applyTransform=n.applyTransform,s.buildPath=n.buildPath,s}return i}(oC);return a}function hN(e,t){for(var n=[],a=e.length,r=0;r<a;r++){var i=e[r];n.push(i.getUpdatedPathProxy(!0))}var o=new rt(t);return o.createPathProxy(),o.buildPath=function(s){if(sC(s)){s.appendPath(n);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function Ip(e,t){t=t||{};var n=new rt;return e.shape&&n.setShape(e.shape),n.setStyle(e.style),t.bakeTransform?iC(n.path,e.getComputedTransform()):t.toLocal?n.setLocalTransform(e.getComputedTransform()):n.copyTransform(e),n.buildPath=e.buildPath,n.applyTransform=n.applyTransform,n.z=e.z,n.z2=e.z2,n.zlevel=e.zlevel,n}var pN=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),uC=function(e){mt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new pN},t.prototype.buildPath=function(n,a){n.moveTo(a.cx+a.r,a.cy),n.arc(a.cx,a.cy,a.r,0,Math.PI*2)},t}(rt);uC.prototype.type="circle";const Ap=uC;var fN=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),cC=function(e){mt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new fN},t.prototype.buildPath=function(n,a){var r=.5522848,i=a.cx,o=a.cy,s=a.rx,l=a.ry,u=s*r,c=l*r;n.moveTo(i-s,o),n.bezierCurveTo(i-s,o-c,i-u,o-l,i,o-l),n.bezierCurveTo(i+u,o-l,i+s,o-c,i+s,o),n.bezierCurveTo(i+s,o+c,i+u,o+l,i,o+l),n.bezierCurveTo(i-u,o+l,i-s,o+c,i-s,o),n.closePath()},t}(rt);cC.prototype.type="ellipse";const dC=cC;var hC=Math.PI,Zc=hC*2,fr=Math.sin,fi=Math.cos,vN=Math.acos,Yt=Math.atan2,ng=Math.abs,Vo=Math.sqrt,Ro=Math.max,Xn=Math.min,Fn=1e-4;function gN(e,t,n,a,r,i,o,s){var l=n-e,u=a-t,c=o-r,d=s-i,h=d*l-c*u;if(!(h*h<Fn))return h=(c*(t-i)-d*(e-r))/h,[e+h*l,t+h*u]}function Js(e,t,n,a,r,i,o){var s=e-n,l=t-a,u=(o?i:-i)/Vo(s*s+l*l),c=u*l,d=-u*s,h=e+c,p=t+d,f=n+c,g=a+d,v=(h+f)/2,m=(p+g)/2,y=f-h,_=g-p,w=y*y+_*_,E=r-i,x=h*g-f*p,S=(_<0?-1:1)*Vo(Ro(0,E*E*w-x*x)),b=(x*_-y*S)/w,D=(-x*y-_*S)/w,T=(x*_+y*S)/w,A=(-x*y+_*S)/w,L=b-v,P=D-m,N=T-v,B=A-m;return L*L+P*P>N*N+B*B&&(b=T,D=A),{cx:b,cy:D,x0:-c,y0:-d,x1:b*(r/E-1),y1:D*(r/E-1)}}function mN(e){var t;if(Te(e)){var n=e.length;if(!n)return e;n===1?t=[e[0],e[0],0,0]:n===2?t=[e[0],e[0],e[1],e[1]]:n===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function yN(e,t){var n,a=Ro(t.r,0),r=Ro(t.r0||0,0),i=a>0,o=r>0;if(!(!i&&!o)){if(i||(a=r,r=0),r>a){var s=a;a=r,r=s}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var c=t.cx,d=t.cy,h=!!t.clockwise,p=ng(u-l),f=p>Zc&&p%Zc;if(f>Fn&&(p=f),!(a>Fn))e.moveTo(c,d);else if(p>Zc-Fn)e.moveTo(c+a*fi(l),d+a*fr(l)),e.arc(c,d,a,l,u,!h),r>Fn&&(e.moveTo(c+r*fi(u),d+r*fr(u)),e.arc(c,d,r,u,l,h));else{var g=void 0,v=void 0,m=void 0,y=void 0,_=void 0,w=void 0,E=void 0,x=void 0,S=void 0,b=void 0,D=void 0,T=void 0,A=void 0,L=void 0,P=void 0,N=void 0,B=a*fi(l),K=a*fr(l),ce=r*fi(u),$=r*fr(u),W=p>Fn;if(W){var ae=t.cornerRadius;ae&&(n=mN(ae),g=n[0],v=n[1],m=n[2],y=n[3]);var Z=ng(a-r)/2;if(_=Xn(Z,m),w=Xn(Z,y),E=Xn(Z,g),x=Xn(Z,v),D=S=Ro(_,w),T=b=Ro(E,x),(S>Fn||b>Fn)&&(A=a*fi(u),L=a*fr(u),P=r*fi(l),N=r*fr(l),p<hC)){var ne=gN(B,K,P,N,A,L,ce,$);if(ne){var Y=B-ne[0],q=K-ne[1],ie=A-ne[0],te=L-ne[1],X=1/fr(vN((Y*ie+q*te)/(Vo(Y*Y+q*q)*Vo(ie*ie+te*te)))/2),j=Vo(ne[0]*ne[0]+ne[1]*ne[1]);D=Xn(S,(a-j)/(X+1)),T=Xn(b,(r-j)/(X-1))}}}if(!W)e.moveTo(c+B,d+K);else if(D>Fn){var J=Xn(m,D),z=Xn(y,D),F=Js(P,N,B,K,a,J,h),V=Js(A,L,ce,$,a,z,h);e.moveTo(c+F.cx+F.x0,d+F.cy+F.y0),D<S&&J===z?e.arc(c+F.cx,d+F.cy,D,Yt(F.y0,F.x0),Yt(V.y0,V.x0),!h):(J>0&&e.arc(c+F.cx,d+F.cy,J,Yt(F.y0,F.x0),Yt(F.y1,F.x1),!h),e.arc(c,d,a,Yt(F.cy+F.y1,F.cx+F.x1),Yt(V.cy+V.y1,V.cx+V.x1),!h),z>0&&e.arc(c+V.cx,d+V.cy,z,Yt(V.y1,V.x1),Yt(V.y0,V.x0),!h))}else e.moveTo(c+B,d+K),e.arc(c,d,a,l,u,!h);if(!(r>Fn)||!W)e.lineTo(c+ce,d+$);else if(T>Fn){var J=Xn(g,T),z=Xn(v,T),F=Js(ce,$,A,L,r,-z,h),V=Js(B,K,P,N,r,-J,h);e.lineTo(c+F.cx+F.x0,d+F.cy+F.y0),T<b&&J===z?e.arc(c+F.cx,d+F.cy,T,Yt(F.y0,F.x0),Yt(V.y0,V.x0),!h):(z>0&&e.arc(c+F.cx,d+F.cy,z,Yt(F.y0,F.x0),Yt(F.y1,F.x1),!h),e.arc(c,d,r,Yt(F.cy+F.y1,F.cx+F.x1),Yt(V.cy+V.y1,V.cx+V.x1),h),J>0&&e.arc(c+V.cx,d+V.cy,J,Yt(V.y1,V.x1),Yt(V.y0,V.x0),!h))}else e.lineTo(c+ce,d+$),e.arc(c,d,r,u,l,h)}e.closePath()}}}var _N=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),pC=function(e){mt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new _N},t.prototype.buildPath=function(n,a){yN(n,a)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(rt);pC.prototype.type="sector";const Hr=pC;var CN=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),fC=function(e){mt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new CN},t.prototype.buildPath=function(n,a){var r=a.cx,i=a.cy,o=Math.PI*2;n.moveTo(r+a.r,i),n.arc(r,i,a.r,0,o,!1),n.moveTo(r+a.r0,i),n.arc(r,i,a.r0,0,o,!0)},t}(rt);fC.prototype.type="ring";const vC=fC;function wN(e,t,n,a){var r=[],i=[],o=[],s=[],l,u,c,d;if(a){c=[1/0,1/0],d=[-1/0,-1/0];for(var h=0,p=e.length;h<p;h++)Di(c,c,e[h]),Ti(d,d,e[h]);Di(c,c,a[0]),Ti(d,d,a[1])}for(var h=0,p=e.length;h<p;h++){var f=e[h];if(n)l=e[h?h-1:p-1],u=e[(h+1)%p];else if(h===0||h===p-1){r.push(VR(e[h]));continue}else l=e[h-1],u=e[h+1];YR(i,u,l),pc(i,i,t);var g=Zd(f,l),v=Zd(f,u),m=g+v;m!==0&&(g/=m,v/=m),pc(o,i,-g),pc(s,i,v);var y=zf([],f,o),_=zf([],f,s);a&&(Ti(y,y,c),Di(y,y,d),Ti(_,_,c),Di(_,_,d)),r.push(y),r.push(_)}return n&&r.push(r.shift()),r}function gC(e,t,n){var a=t.smooth,r=t.points;if(r&&r.length>=2){if(a){var i=wN(r,a,n,t.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var o=r.length,s=0;s<(n?o:o-1);s++){var l=i[s*2],u=i[s*2+1],c=r[(s+1)%o];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{e.moveTo(r[0][0],r[0][1]);for(var s=1,d=r.length;s<d;s++)e.lineTo(r[s][0],r[s][1])}n&&e.closePath()}}var xN=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),mC=function(e){mt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new xN},t.prototype.buildPath=function(n,a){gC(n,a,!0)},t}(rt);mC.prototype.type="polygon";const Ts=mC;var EN=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),yC=function(e){mt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new EN},t.prototype.buildPath=function(n,a){gC(n,a,!1)},t}(rt);yC.prototype.type="polyline";const $u=yC;var bN={},SN=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),_C=function(e){mt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new SN},t.prototype.buildPath=function(n,a){var r,i,o,s;if(this.subPixelOptimize){var l=Y_(bN,a,this.style);r=l.x1,i=l.y1,o=l.x2,s=l.y2}else r=a.x1,i=a.y1,o=a.x2,s=a.y2;var u=a.percent;u!==0&&(n.moveTo(r,i),u<1&&(o=r*(1-u)+o*u,s=i*(1-u)+s*u),n.lineTo(o,s))},t.prototype.pointAt=function(n){var a=this.shape;return[a.x1*(1-n)+a.x2*n,a.y1*(1-n)+a.y2*n]},t}(rt);_C.prototype.type="line";const Vr=_C;var rn=[],DN=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function ag(e,t,n){var a=e.cpx2,r=e.cpy2;return a!=null||r!=null?[(n?av:Pt)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?av:Pt)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?rv:qt)(e.x1,e.cpx1,e.x2,t),(n?rv:qt)(e.y1,e.cpy1,e.y2,t)]}var CC=function(e){mt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new DN},t.prototype.buildPath=function(n,a){var r=a.x1,i=a.y1,o=a.x2,s=a.y2,l=a.cpx1,u=a.cpy1,c=a.cpx2,d=a.cpy2,h=a.percent;h!==0&&(n.moveTo(r,i),c==null||d==null?(h<1&&(Kl(r,l,o,h,rn),l=rn[1],o=rn[2],Kl(i,u,s,h,rn),u=rn[1],s=rn[2]),n.quadraticCurveTo(l,u,o,s)):(h<1&&(ja(r,l,c,o,h,rn),l=rn[1],c=rn[2],o=rn[3],ja(i,u,d,s,h,rn),u=rn[1],d=rn[2],s=rn[3]),n.bezierCurveTo(l,u,c,d,o,s)))},t.prototype.pointAt=function(n){return ag(this.shape,n,!1)},t.prototype.tangentAt=function(n){var a=ag(this.shape,n,!0);return qR(a,a)},t}(rt);CC.prototype.type="bezier-curve";const wC=CC;var TN=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),xC=function(e){mt(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new TN},t.prototype.buildPath=function(n,a){var r=a.cx,i=a.cy,o=Math.max(a.r,0),s=a.startAngle,l=a.endAngle,u=a.clockwise,c=Math.cos(s),d=Math.sin(s);n.moveTo(c*o+r,d*o+i),n.arc(r,i,o,s,l,!u)},t}(rt);xC.prototype.type="arc";const kp=xC;var IN=function(e){mt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="compound",n}return t.prototype._updatePathDirty=function(){for(var n=this.shape.paths,a=this.shapeChanged(),r=0;r<n.length;r++)a=a||n[r].shapeChanged();a&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],a=this.getGlobalScale(),r=0;r<n.length;r++)n[r].path||n[r].createPathProxy(),n[r].path.setScale(a[0],a[1],n[r].segmentIgnoreThreshold)},t.prototype.buildPath=function(n,a){for(var r=a.paths||[],i=0;i<r.length;i++)r[i].buildPath(n,r[i].shape,!0)},t.prototype.afterBrush=function(){for(var n=this.shape.paths||[],a=0;a<n.length;a++)n[a].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),rt.prototype.getBoundingRect.call(this)},t}(rt);const AN=IN;var kN=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},e}();const EC=kN;var MN=function(e){mt(t,e);function t(n,a,r,i,o,s){var l=e.call(this,o)||this;return l.x=n??0,l.y=a??0,l.x2=r??1,l.y2=i??0,l.type="linear",l.global=s||!1,l}return t}(EC);const Mp=MN;var LN=function(e){mt(t,e);function t(n,a,r,i,o){var s=e.call(this,i)||this;return s.x=n??.5,s.y=a??.5,s.r=r??.5,s.type="radial",s.global=o||!1,s}return t}(EC);const RN=LN;var vr=[0,0],gr=[0,0],Qs=new at,el=new at,ON=function(){function e(t,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var a=0;a<4;a++)this._corners[a]=new at;for(var a=0;a<2;a++)this._axes[a]=new at;t&&this.fromBoundingRect(t,n)}return e.prototype.fromBoundingRect=function(t,n){var a=this._corners,r=this._axes,i=t.x,o=t.y,s=i+t.width,l=o+t.height;if(a[0].set(i,o),a[1].set(s,o),a[2].set(s,l),a[3].set(i,l),n)for(var u=0;u<4;u++)a[u].transform(n);at.sub(r[0],a[1],a[0]),at.sub(r[1],a[3],a[0]),r[0].normalize(),r[1].normalize();for(var u=0;u<2;u++)this._origin[u]=r[u].dot(a[0])},e.prototype.intersect=function(t,n){var a=!0,r=!n;return Qs.set(1/0,1/0),el.set(0,0),!this._intersectCheckOneSide(this,t,Qs,el,r,1)&&(a=!1,r)||!this._intersectCheckOneSide(t,this,Qs,el,r,-1)&&(a=!1,r)||r||at.copy(n,a?Qs:el),a},e.prototype._intersectCheckOneSide=function(t,n,a,r,i,o){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,vr),this._getProjMinMaxOnAxis(l,n._corners,gr),vr[1]<gr[0]||vr[0]>gr[1]){if(s=!1,i)return s;var c=Math.abs(gr[0]-vr[1]),d=Math.abs(vr[0]-gr[1]);Math.min(c,d)>r.len()&&(c<d?at.scale(r,u,-c*o):at.scale(r,u,d*o))}else if(a){var c=Math.abs(gr[0]-vr[1]),d=Math.abs(vr[0]-gr[1]);Math.min(c,d)<a.len()&&(c<d?at.scale(a,u,c*o):at.scale(a,u,-d*o))}}return s},e.prototype._getProjMinMaxOnAxis=function(t,n,a){for(var r=this._axes[t],i=this._origin,o=n[0].dot(r)+i[t],s=o,l=o,u=1;u<n.length;u++){var c=n[u].dot(r)+i[t];s=Math.min(c,s),l=Math.max(c,l)}a[0]=s,a[1]=l},e}();const nu=ON;var PN=[],NN=function(e){mt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return t.prototype.traverse=function(n,a){n.call(a,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(n,a){a?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},t.prototype.addDisplayables=function(n,a){a=a||!1;for(var r=0;r<n.length;r++)this.addDisplayable(n[r],a)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(n){for(var a=this._cursor;a<this._displayables.length;a++)n&&n(this._displayables[a]);for(var a=0;a<this._temporaryDisplayables.length;a++)n&&n(this._temporaryDisplayables[a])},t.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var a=this._displayables[n];a.parent=this,a.update(),a.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var a=this._temporaryDisplayables[n];a.parent=this,a.update(),a.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new st(1/0,1/0,-1/0,-1/0),a=0;a<this._displayables.length;a++){var r=this._displayables[a],i=r.getBoundingRect().clone();r.needLocalTransform()&&i.applyTransform(r.getLocalTransform(PN)),n.union(i)}this._rect=n}return this._rect},t.prototype.contain=function(n,a){var r=this.transformCoordToLocal(n,a),i=this.getBoundingRect();if(i.contain(r[0],r[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(n,a))return!0}return!1},t}(ji);const BN=NN;var bC=At();function Uu(e,t,n,a,r){var i;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();i=o&&o.animation}var s=t&&t.isAnimationEnabled(),l=e==="update";if(s){var u=void 0,c=void 0,d=void 0;a?(u=ut(a.duration,200),c=ut(a.easing,"cubicOut"),d=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),d=t.getShallow(l?"animationDelayUpdate":"animationDelay")),i&&(i.duration!=null&&(u=i.duration),i.easing!=null&&(c=i.easing),i.delay!=null&&(d=i.delay)),We(d)&&(d=d(n,r)),We(u)&&(u=u(n));var h={duration:u||0,delay:d,easing:c};return h}else return null}function Lp(e,t,n,a,r,i,o){var s=!1,l;We(r)?(o=i,i=r,r=null):$e(r)&&(i=r.cb,o=r.during,s=r.isFrom,l=r.removeOpt,r=r.dataIndex);var u=e==="leave";u||t.stopAnimation("leave");var c=Uu(e,a,r,u?l||{}:null,a&&a.getAnimationDelayParams?a.getAnimationDelayParams(t,r):null);if(c&&c.duration>0){var d=c.duration,h=c.delay,p=c.easing,f={duration:d,delay:h||0,easing:p,done:i,force:!!i||!!o,setToFinal:!u,scope:e,during:o};s?t.animateFrom(n,f):t.animateTo(n,f)}else t.stopAnimation(),!s&&t.attr(n),o&&o(1),i&&i()}function On(e,t,n,a,r,i){Lp("update",e,t,n,a,r,i)}function sa(e,t,n,a,r,i){Lp("enter",e,t,n,a,r,i)}function Yo(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var n=e.animators[t];if(n.scope==="leave")return!0}return!1}function au(e,t,n,a,r,i){Yo(e)||Lp("leave",e,t,n,a,r,i)}function rg(e,t,n,a){e.removeTextContent(),e.removeTextGuideLine(),au(e,{style:{opacity:0}},t,n,a)}function wh(e,t,n){function a(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(r){r.isGroup||rg(r,t,n,a)}):rg(e,t,n,a)}function SC(e){bC(e).oldStyle=e.style}function $N(e){return bC(e).oldStyle}var ru=Math.max,iu=Math.min,xh={};function UN(e){return rt.extend(e)}var GN=dN;function FN(e,t){return GN(e,t)}function zn(e,t){xh[e]=t}function HN(e){if(xh.hasOwnProperty(e))return xh[e]}function Rp(e,t,n,a){var r=cN(e,t);return n&&(a==="center"&&(n=TC(n,r.getBoundingRect())),IC(r,n)),r}function DC(e,t,n){var a=new jr({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(r){if(n==="center"){var i={width:r.width,height:r.height};a.setStyle(TC(t,i))}}});return a}function TC(e,t){var n=t.width/t.height,a=e.height*n,r;a<=e.width?r=e.height:(a=e.width,r=a/n);var i=e.x+e.width/2,o=e.y+e.height/2;return{x:i-a/2,y:o-r/2,width:a,height:r}}var VN=hN;function IC(e,t){if(e.applyTransform){var n=e.getBoundingRect(),a=n.calculateTransform(t);e.applyTransform(a)}}function os(e,t){return Y_(e,e,{lineWidth:t}),e}function YN(e){return z_(e.shape,e.shape,e.style),e}var zN=Ir;function Gu(e,t){for(var n=fp([]);e&&e!==t;)Li(n,e.getLocalTransform(),n),e=e.parent;return n}function ss(e,t,n){return t&&!pn(t)&&(t=ku.getLocalTransform(t)),n&&(t=gp([],t)),Rn([],e,t)}function Op(e,t,n){var a=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),r=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),i=[e==="left"?-a:e==="right"?a:0,e==="top"?-r:e==="bottom"?r:0];return i=ss(i,t,n),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function ig(e){return!e.isGroup}function WN(e){return e.shape!=null}function AC(e,t,n){if(!e||!t)return;function a(o){var s={};return o.traverse(function(l){ig(l)&&l.anid&&(s[l.anid]=l)}),s}function r(o){var s={x:o.x,y:o.y,rotation:o.rotation};return WN(o)&&(s.shape=_e({},o.shape)),s}var i=a(e);t.traverse(function(o){if(ig(o)&&o.anid){var s=i[o.anid];if(s){var l=r(o);o.attr(r(s)),On(o,l,n,vt(o).dataIndex)}}})}function kC(e,t){return Re(e,function(n){var a=n[0];a=ru(a,t.x),a=iu(a,t.x+t.width);var r=n[1];return r=ru(r,t.y),r=iu(r,t.y+t.height),[a,r]})}function qN(e,t){var n=ru(e.x,t.x),a=iu(e.x+e.width,t.x+t.width),r=ru(e.y,t.y),i=iu(e.y+e.height,t.y+t.height);if(a>=n&&i>=r)return{x:n,y:r,width:a-n,height:i-r}}function Pp(e,t,n){var a=_e({rectHover:!0},t),r=a.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(r.image=e.slice(8),Ke(r,n),new jr(a)):Rp(e.replace("path://",""),a,n,"center")}function ZN(e,t,n,a,r){for(var i=0,o=r[r.length-1];i<r.length;i++){var s=r[i];if(MC(e,t,n,a,s[0],s[1],o[0],o[1]))return!0;o=s}}function MC(e,t,n,a,r,i,o,s){var l=n-e,u=a-t,c=o-r,d=s-i,h=Kc(c,d,l,u);if(KN(h))return!1;var p=e-r,f=t-i,g=Kc(p,f,l,u)/h;if(g<0||g>1)return!1;var v=Kc(p,f,c,d)/h;return!(v<0||v>1)}function Kc(e,t,n,a){return e*a-n*t}function KN(e){return e<=1e-6&&e>=-1e-6}function Np(e){var t=e.itemTooltipOption,n=e.componentModel,a=e.itemName,r=Oe(t)?{formatter:t}:t,i=n.mainType,o=n.componentIndex,s={componentType:i,name:a,$vars:["name"]};s[i+"Index"]=o;var l=e.formatterParamsExtra;l&&R(Dt(l),function(c){Gi(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=vt(e.el);u.componentMainType=i,u.componentIndex=o,u.tooltipConfig={name:a,option:Ke({content:a,formatterParams:s},r)}}function og(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function Fu(e,t){if(e)if(Te(e))for(var n=0;n<e.length;n++)og(e[n],t);else og(e,t)}zn("circle",Ap);zn("ellipse",dC);zn("sector",Hr);zn("ring",vC);zn("polygon",Ts);zn("polyline",$u);zn("rect",St);zn("line",Vr);zn("bezierCurve",wC);zn("arc",kp);const XN=Object.freeze(Object.defineProperty({__proto__:null,Arc:kp,BezierCurve:wC,BoundingRect:st,Circle:Ap,CompoundPath:AN,Ellipse:dC,Group:$t,Image:jr,IncrementalDisplayable:BN,Line:Vr,LinearGradient:Mp,OrientedBoundingRect:nu,Path:rt,Point:at,Polygon:Ts,Polyline:$u,RadialGradient:RN,Rect:St,Ring:vC,Sector:Hr,Text:nn,applyTransform:ss,clipPointsByRect:kC,clipRectByRect:qN,createIcon:Pp,extendPath:FN,extendShape:UN,getShapeClass:HN,getTransform:Gu,groupTransition:AC,initProps:sa,isElementRemoved:Yo,lineLineIntersect:MC,linePolygonIntersect:ZN,makeImage:DC,makePath:Rp,mergePath:VN,registerShape:zn,removeElement:au,removeElementWithFadeOut:wh,resizePath:IC,setTooltipConfig:Np,subPixelOptimize:zN,subPixelOptimizeLine:os,subPixelOptimizeRect:YN,transformDirection:Op,traverseElements:Fu,updateProps:On},Symbol.toStringTag,{value:"Module"}));var Hu={};function jN(e,t){for(var n=0;n<oa.length;n++){var a=oa[n],r=t[a],i=e.ensureState(a);i.style=i.style||{},i.style.text=r}var o=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(o,!0)}function sg(e,t,n){var a=e.labelFetcher,r=e.labelDataIndex,i=e.labelDimIndex,o=t.normal,s;a&&(s=a.getFormattedLabel(r,"normal",null,i,o&&o.get("formatter"),n!=null?{interpolatedValue:n}:null)),s==null&&(s=We(e.defaultText)?e.defaultText(r,e,n):e.defaultText);for(var l={normal:s},u=0;u<oa.length;u++){var c=oa[u],d=t[c];l[c]=ut(a?a.getFormattedLabel(r,c,null,i,d&&d.get("formatter")):null,s)}return l}function Bp(e,t,n,a){n=n||Hu;for(var r=e instanceof nn,i=!1,o=0;o<Hv.length;o++){var s=t[Hv[o]];if(s&&s.getShallow("show")){i=!0;break}}var l=r?e:e.getTextContent();if(i){r||(l||(l=new nn,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=sg(n,t),c=t.normal,d=!!c.getShallow("show"),h=Qa(c,a&&a.normal,n,!1,!r);h.text=u.normal,r||e.setTextConfig(lg(c,n,!1));for(var o=0;o<oa.length;o++){var p=oa[o],s=t[p];if(s){var f=l.ensureState(p),g=!!ut(s.getShallow("show"),d);if(g!==d&&(f.ignore=!g),f.style=Qa(s,a&&a[p],n,!0,!r),f.style.text=u[p],!r){var v=e.ensureState(p);v.textConfig=lg(s,n,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!d,l.useStyle(h),l.dirty(),n.enableTextSetter&&(Yu(l).setLabelText=function(m){var y=sg(n,t,m);jN(l,y)})}else l&&(l.ignore=!0);e.dirty()}function Vu(e,t){t=t||"label";for(var n={normal:e.getModel(t)},a=0;a<oa.length;a++){var r=oa[a];n[r]=e.getModel([r,t])}return n}function Qa(e,t,n,a,r){var i={};return JN(i,e,n,a,r),t&&_e(i,t),i}function lg(e,t,n){t=t||{};var a={},r,i=e.getShallow("rotate"),o=ut(e.getShallow("distance"),n?null:5),s=e.getShallow("offset");return r=e.getShallow("position")||(n?null:"inside"),r==="outside"&&(r=t.defaultOutsidePosition||"top"),r!=null&&(a.position=r),s!=null&&(a.offset=s),i!=null&&(i*=Math.PI/180,a.rotation=i),o!=null&&(a.distance=o),a.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",a}function JN(e,t,n,a,r){n=n||Hu;var i=t.ecModel,o=i&&i.option.textStyle,s=QN(t),l;if(s){l={};for(var u in s)if(s.hasOwnProperty(u)){var c=t.getModel(["rich",u]);hg(l[u]={},c,o,n,a,r,!1,!0)}}l&&(e.rich=l);var d=t.get("overflow");d&&(e.overflow=d);var h=t.get("minMargin");h!=null&&(e.margin=h),hg(e,t,o,n,a,r,!0,!1)}function QN(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||Hu).rich;if(n){t=t||{};for(var a=Dt(n),r=0;r<a.length;r++){var i=a[r];t[i]=1}}e=e.parentModel}return t}var ug=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],cg=["align","lineHeight","width","height","tag","verticalAlign"],dg=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function hg(e,t,n,a,r,i,o,s){n=!r&&n||Hu;var l=a&&a.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),d=ut(t.getShallow("opacity"),n.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),i||(u=u||n.color,c=c||n.textBorderColor),u!=null&&(e.fill=u),c!=null&&(e.stroke=c);var h=ut(t.getShallow("textBorderWidth"),n.textBorderWidth);h!=null&&(e.lineWidth=h);var p=ut(t.getShallow("textBorderType"),n.textBorderType);p!=null&&(e.lineDash=p);var f=ut(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);f!=null&&(e.lineDashOffset=f),!r&&d==null&&!s&&(d=a&&a.defaultOpacity),d!=null&&(e.opacity=d),!r&&!i&&e.fill==null&&a.inheritColor&&(e.fill=a.inheritColor);for(var g=0;g<ug.length;g++){var v=ug[g],m=ut(t.getShallow(v),n[v]);m!=null&&(e[v]=m)}for(var g=0;g<cg.length;g++){var v=cg[g],m=t.getShallow(v);m!=null&&(e[v]=m)}if(e.verticalAlign==null){var y=t.getShallow("baseline");y!=null&&(e.verticalAlign=y)}if(!o||!a.disableBox){for(var g=0;g<dg.length;g++){var v=dg[g],m=t.getShallow(v);m!=null&&(e[v]=m)}var _=t.getShallow("borderType");_!=null&&(e.borderDash=_),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&l&&(e.backgroundColor=l),(e.borderColor==="auto"||e.borderColor==="inherit")&&l&&(e.borderColor=l)}}function eB(e,t){var n=t&&t.getModel("textStyle");return ea([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var Yu=At();function tB(e,t,n,a){if(e){var r=Yu(e);r.prevValue=r.value,r.value=n;var i=t.normal;r.valueAnimation=i.get("valueAnimation"),r.valueAnimation&&(r.precision=i.get("precision"),r.defaultInterpolatedText=a,r.statesModels=t)}}var nB=["textStyle","color"],Xc=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],jc=new nn,aB=function(){function e(){}return e.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow("color")||(!t&&n?n.get(nB):null)},e.prototype.getFont=function(){return eB({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},a=0;a<Xc.length;a++)n[Xc[a]]=this.getShallow(Xc[a]);return jc.useStyle(n),jc.update(),jc.getBoundingRect()},e}();const rB=aB;var LC=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],iB=is(LC),oB=function(){function e(){}return e.prototype.getLineStyle=function(t){return iB(this,t)},e}(),RC=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],sB=is(RC),lB=function(){function e(){}return e.prototype.getItemStyle=function(t,n){return sB(this,t,n)},e}(),Jr=function(){function e(t,n,a){this.parentModel=n,this.ecModel=a,this.option=t}return e.prototype.init=function(t,n,a){},e.prototype.mergeOption=function(t,n){tt(this.option,t,!0)},e.prototype.get=function(t,n){return t==null?this.option:this._doGet(this.parsePath(t),!n&&this.parentModel)},e.prototype.getShallow=function(t,n){var a=this.option,r=a==null?a:a[t];if(r==null&&!n){var i=this.parentModel;i&&(r=i.getShallow(t))}return r},e.prototype.getModel=function(t,n){var a=t!=null,r=a?this.parsePath(t):null,i=a?this._doGet(r):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),new e(i,n,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(qe(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Je.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,n){var a=this.option;if(!t)return a;for(var r=0;r<t.length&&!(t[r]&&(a=a&&typeof a=="object"?a[t[r]]:null,a==null));r++);return a==null&&n&&(a=n._doGet(this.resolveParentPath(t),n.parentModel)),a},e}();Ep(Jr);HO(Jr);ua(Jr,oB);ua(Jr,lB);ua(Jr,qO);ua(Jr,rB);const Xt=Jr;var uB=Math.round(Math.random()*10);function Is(e){return[e||"",uB++].join("_")}function cB(e){var t={};e.registerSubTypeDefaulter=function(n,a){var r=ta(n);t[r.main]=a},e.determineSubType=function(n,a){var r=a.type;if(!r){var i=ta(n).main;e.hasSubTypes(n)&&t[i]&&(r=t[i](a))}return r}}function dB(e,t){e.topologicalTravel=function(i,o,s,l){if(!i.length)return;var u=n(o),c=u.graph,d=u.noEntryList,h={};for(R(i,function(y){h[y]=!0});d.length;){var p=d.pop(),f=c[p],g=!!h[p];g&&(s.call(l,p,f.originalDeps.slice()),delete h[p]),R(f.successor,g?m:v)}R(h,function(){var y="";throw new Error(y)});function v(y){c[y].entryCount--,c[y].entryCount===0&&d.push(y)}function m(y){h[y]=!0,v(y)}};function n(i){var o={},s=[];return R(i,function(l){var u=a(o,l),c=u.originalDeps=t(l),d=r(c,i);u.entryCount=d.length,u.entryCount===0&&s.push(l),R(d,function(h){it(u.predecessor,h)<0&&u.predecessor.push(h);var p=a(o,h);it(p.successor,h)<0&&p.successor.push(l)})}),{graph:o,noEntryList:s}}function a(i,o){return i[o]||(i[o]={predecessor:[],successor:[]}),i[o]}function r(i,o){var s=[];return R(i,function(l){it(o,l)>=0&&s.push(l)}),s}}function $p(e,t){return tt(tt({},e,!0),t,!0)}const hB={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},pB={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var ou="ZH",Up="EN",ls=Up,Pl={},Gp={},OC=Je.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return e.indexOf(ou)>-1?ou:ls}():ls;function PC(e,t){e=e.toUpperCase(),Gp[e]=new Xt(t),Pl[e]=t}function fB(e){if(Oe(e)){var t=Pl[e.toUpperCase()]||{};return e===ou||e===Up?qe(t):tt(qe(t),qe(Pl[ls]),!1)}else return tt(qe(e),qe(Pl[ls]),!1)}function vB(e){return Gp[e]}function gB(){return Gp[ls]}PC(Up,hB);PC(ou,pB);var Fp=1e3,Hp=Fp*60,zo=Hp*60,Ln=zo*24,pg=Ln*365,Oo={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},tl="{yyyy}-{MM}-{dd}",fg={year:"{yyyy}",month:"{yyyy}-{MM}",day:tl,hour:tl+" "+Oo.hour,minute:tl+" "+Oo.minute,second:tl+" "+Oo.second,millisecond:Oo.none},Jc=["year","month","day","hour","minute","second","millisecond"],NC=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function mr(e,t){return e+="","0000".substr(0,t-e.length)+e}function Oi(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function mB(e){return e===Oi(e)}function yB(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function zu(e,t,n,a){var r=Da(e),i=r[Vp(n)](),o=r[Pi(n)]()+1,s=Math.floor((o-1)/3)+1,l=r[Wu(n)](),u=r["get"+(n?"UTC":"")+"Day"](),c=r[us(n)](),d=(c-1)%12+1,h=r[qu(n)](),p=r[Zu(n)](),f=r[Ku(n)](),g=a instanceof Xt?a:vB(a||OC)||gB(),v=g.getModel("time"),m=v.get("month"),y=v.get("monthAbbr"),_=v.get("dayOfWeek"),w=v.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,i%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,m[o-1]).replace(/{MMM}/g,y[o-1]).replace(/{MM}/g,mr(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,mr(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,_[u]).replace(/{ee}/g,w[u]).replace(/{e}/g,u+"").replace(/{HH}/g,mr(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,mr(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,mr(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,mr(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,mr(f,3)).replace(/{S}/g,f+"")}function _B(e,t,n,a,r){var i=null;if(Oe(n))i=n;else if(We(n))i=n(e.value,t,{level:e.level});else{var o=_e({},Oo);if(e.level>0)for(var s=0;s<Jc.length;++s)o[Jc[s]]="{primary|"+o[Jc[s]]+"}";var l=n?n.inherit===!1?n:Ke(n,o):o,u=BC(e.value,r);if(l[u])i=l[u];else if(l.inherit){for(var c=NC.indexOf(u),s=c-1;s>=0;--s)if(l[u]){i=l[u];break}i=i||o.none}if(Te(i)){var d=e.level==null?0:e.level>=0?e.level:i.length+e.level;d=Math.min(d,i.length-1),i=i[d]}}return zu(new Date(e.value),i,r,a)}function BC(e,t){var n=Da(e),a=n[Pi(t)]()+1,r=n[Wu(t)](),i=n[us(t)](),o=n[qu(t)](),s=n[Zu(t)](),l=n[Ku(t)](),u=l===0,c=u&&s===0,d=c&&o===0,h=d&&i===0,p=h&&r===1,f=p&&a===1;return f?"year":p?"month":h?"day":d?"hour":c?"minute":u?"second":"millisecond"}function vg(e,t,n){var a=bt(e)?Da(e):e;switch(t=t||BC(e,n),t){case"year":return a[Vp(n)]();case"half-year":return a[Pi(n)]()>=6?1:0;case"quarter":return Math.floor((a[Pi(n)]()+1)/4);case"month":return a[Pi(n)]();case"day":return a[Wu(n)]();case"half-day":return a[us(n)]()/24;case"hour":return a[us(n)]();case"minute":return a[qu(n)]();case"second":return a[Zu(n)]();case"millisecond":return a[Ku(n)]()}}function Vp(e){return e?"getUTCFullYear":"getFullYear"}function Pi(e){return e?"getUTCMonth":"getMonth"}function Wu(e){return e?"getUTCDate":"getDate"}function us(e){return e?"getUTCHours":"getHours"}function qu(e){return e?"getUTCMinutes":"getMinutes"}function Zu(e){return e?"getUTCSeconds":"getSeconds"}function Ku(e){return e?"getUTCMilliseconds":"getMilliseconds"}function CB(e){return e?"setUTCFullYear":"setFullYear"}function $C(e){return e?"setUTCMonth":"setMonth"}function UC(e){return e?"setUTCDate":"setDate"}function GC(e){return e?"setUTCHours":"setHours"}function FC(e){return e?"setUTCMinutes":"setMinutes"}function HC(e){return e?"setUTCSeconds":"setSeconds"}function VC(e){return e?"setUTCMilliseconds":"setMilliseconds"}function YC(e){if(!CO(e))return Oe(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function zC(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,a){return a.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var Xu=jy;function Eh(e,t,n){var a="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function r(c){return c&&ea(c)?c:"-"}function i(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=t==="time",s=e instanceof Date;if(o||s){var l=o?Da(e):e;if(isNaN(+l)){if(s)return"-"}else return zu(l,a,n)}if(t==="ordinal")return zd(e)?r(e):bt(e)&&i(e)?e+"":"-";var u=eu(e);return i(u)?YC(u):zd(e)?r(e):typeof e=="boolean"?e+"":"-"}var gg=["a","b","c","d","e","f","g"],Qc=function(e,t){return"{"+e+(t??"")+"}"};function WC(e,t,n){Te(t)||(t=[t]);var a=t.length;if(!a)return"";for(var r=t[0].$vars||[],i=0;i<r.length;i++){var o=gg[i];e=e.replace(Qc(o),Qc(o,0))}for(var s=0;s<a;s++)for(var l=0;l<r.length;l++){var u=t[s][r[l]];e=e.replace(Qc(gg[l],s),n?kn(u):u)}return e}function wB(e,t){var n=Oe(e)?{color:e,extraCssText:t}:e||{},a=n.color,r=n.type;t=n.extraCssText;var i=n.renderMode||"html";if(!a)return"";if(i==="html")return r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+kn(a)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+kn(a)+";"+(t||"")+'"></span>';var o=n.markerId||"markerX";return{renderMode:i,content:"{"+o+"|}  ",style:r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:a}:{width:10,height:10,borderRadius:5,backgroundColor:a}}}function Yr(e,t){return t=t||"transparent",Oe(e)?e:$e(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function mg(e,t){if(t==="_blank"||t==="blank"){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}var Nl=R,xB=["left","right","top","bottom","width","height"],nl=[["width","left","right"],["height","top","bottom"]];function Yp(e,t,n,a,r){var i=0,o=0;a==null&&(a=1/0),r==null&&(r=1/0);var s=0;t.eachChild(function(l,u){var c=l.getBoundingRect(),d=t.childAt(u+1),h=d&&d.getBoundingRect(),p,f;if(e==="horizontal"){var g=c.width+(h?-h.x+c.x:0);p=i+g,p>a||l.newline?(i=0,p=g,o+=s+n,s=c.height):s=Math.max(s,c.height)}else{var v=c.height+(h?-h.y+c.y:0);f=o+v,f>r||l.newline?(i+=s+n,o=0,f=v,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=i,l.y=o,l.markRedraw(),e==="horizontal"?i=p+n:o=f+n)})}var EB=Yp;_t(Yp,"vertical");_t(Yp,"horizontal");function Ji(e,t,n){n=Xu(n||0);var a=t.width,r=t.height,i=Ht(e.left,a),o=Ht(e.top,r),s=Ht(e.right,a),l=Ht(e.bottom,r),u=Ht(e.width,a),c=Ht(e.height,r),d=n[2]+n[0],h=n[1]+n[3],p=e.aspect;switch(isNaN(u)&&(u=a-s-h-i),isNaN(c)&&(c=r-l-d-o),p!=null&&(isNaN(u)&&isNaN(c)&&(p>a/r?u=a*.8:c=r*.8),isNaN(u)&&(u=p*c),isNaN(c)&&(c=u/p)),isNaN(i)&&(i=a-s-u-h),isNaN(o)&&(o=r-l-c-d),e.left||e.right){case"center":i=a/2-u/2-n[3];break;case"right":i=a-u-h;break}switch(e.top||e.bottom){case"middle":case"center":o=r/2-c/2-n[0];break;case"bottom":o=r-c-d;break}i=i||0,o=o||0,isNaN(u)&&(u=a-h-i-(s||0)),isNaN(c)&&(c=r-d-o-(l||0));var f=new st(i+n[3],o+n[0],u,c);return f.margin=n,f}function bB(e,t,n,a,r,i){var o=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";if(i=i||e,i.x=e.x,i.y=e.y,!o&&!s)return!1;var u;if(l==="raw")u=e.type==="group"?new st(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();u=u.clone(),u.applyTransform(c)}var d=Ji(Ke({width:u.width,height:u.height},t),n,a),h=o?d.x-u.x:0,p=s?d.y-u.y:0;return l==="raw"?(i.x=h,i.y=p):(i.x+=h,i.y+=p),i===e&&e.markRedraw(),!0}function cs(e){var t=e.layoutMode||e.constructor.layoutMode;return $e(t)?t:t?{type:t}:null}function ds(e,t,n){var a=n&&n.ignoreSize;!Te(a)&&(a=[a,a]);var r=o(nl[0],0),i=o(nl[1],1);u(nl[0],e,r),u(nl[1],e,i);function o(c,d){var h={},p=0,f={},g=0,v=2;if(Nl(c,function(_){f[_]=e[_]}),Nl(c,function(_){s(t,_)&&(h[_]=f[_]=t[_]),l(h,_)&&p++,l(f,_)&&g++}),a[d])return l(t,c[1])?f[c[2]]=null:l(t,c[2])&&(f[c[1]]=null),f;if(g===v||!p)return f;if(p>=v)return h;for(var m=0;m<c.length;m++){var y=c[m];if(!s(h,y)&&s(e,y)){h[y]=e[y];break}}return h}function s(c,d){return c.hasOwnProperty(d)}function l(c,d){return c[d]!=null&&c[d]!=="auto"}function u(c,d,h){Nl(c,function(p){d[p]=h[p]})}}function ju(e){return SB({},e)}function SB(e,t){return t&&e&&Nl(xB,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}var DB=At(),Qi=function(e){Pe(t,e);function t(n,a,r){var i=e.call(this,n,a,r)||this;return i.uid=Is("ec_cpt_model"),i}return t.prototype.init=function(n,a,r){this.mergeDefaultAndTheme(n,r)},t.prototype.mergeDefaultAndTheme=function(n,a){var r=cs(this),i=r?ju(n):{},o=a.getTheme();tt(n,o.get(this.mainType)),tt(n,this.getDefaultOption()),r&&ds(n,i,r)},t.prototype.mergeOption=function(n,a){tt(this.option,n,!0);var r=cs(this);r&&ds(this.option,n,r)},t.prototype.optionUpdated=function(n,a){},t.prototype.getDefaultOption=function(){var n=this.constructor;if(!UO(n))return n.defaultOption;var a=DB(this);if(!a.defaultOption){for(var r=[],i=n;i;){var o=i.prototype.defaultOption;o&&r.push(o),i=i.superClass}for(var s={},l=r.length-1;l>=0;l--)s=tt(s,r[l],!0);a.defaultOption=s}return a.defaultOption},t.prototype.getReferringComponents=function(n,a){var r=n+"Index",i=n+"Id";return Ds(this.ecModel,n,{index:this.get(r,!0),id:this.get(i,!0)},a)},t.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(n){this.option.zlevel=n},t.protoInitialize=function(){var n=t.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),t}(Xt);O_(Qi,Xt);Lu(Qi);cB(Qi);dB(Qi,TB);function TB(e){var t=[];return R(Qi.getClassesByMainType(e),function(n){t=t.concat(n.dependencies||n.prototype.dependencies||[])}),t=Re(t,function(n){return ta(n).main}),e!=="dataset"&&it(t,"dataset")<=0&&t.unshift("dataset"),t}const wt=Qi;var qC="";typeof navigator<"u"&&(qC=navigator.platform||"");var vi="rgba(0, 0, 0, 0.2)";const IB={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:vi,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:vi,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:vi,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:vi,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:vi,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:vi,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:qC.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var ZC=Ve(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Nn="original",fn="arrayRows",ca="objectRows",Aa="keyedColumns",Za="typedArray",KC="unknown",xa="column",eo="row",_n={Must:1,Might:2,Not:3},XC=At();function AB(e){XC(e).datasetMap=Ve()}function kB(e,t,n){var a={},r=jC(t);if(!r||!e)return a;var i=[],o=[],s=t.ecModel,l=XC(s).datasetMap,u=r.uid+"_"+n.seriesLayoutBy,c,d;e=e.slice(),R(e,function(g,v){var m=$e(g)?g:e[v]={name:g};m.type==="ordinal"&&c==null&&(c=v,d=f(m)),a[m.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:d,valueWayDim:0});R(e,function(g,v){var m=g.name,y=f(g);if(c==null){var _=h.valueWayDim;p(a[m],_,y),p(o,_,y),h.valueWayDim+=y}else if(c===v)p(a[m],0,y),p(i,0,y);else{var _=h.categoryWayDim;p(a[m],_,y),p(o,_,y),h.categoryWayDim+=y}});function p(g,v,m){for(var y=0;y<m;y++)g.push(v+y)}function f(g){var v=g.dimsDef;return v?v.length:1}return i.length&&(a.itemName=i),o.length&&(a.seriesName=o),a}function jC(e){var t=e.get("data",!0);if(!t)return Ds(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},en).models[0]}function MB(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:Ds(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},en).models}function JC(e,t){return LB(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function LB(e,t,n,a,r,i){var o,s=5;if(xn(e))return _n.Not;var l,u;if(a){var c=a[i];$e(c)?(l=c.name,u=c.type):Oe(c)&&(l=c)}if(u!=null)return u==="ordinal"?_n.Must:_n.Not;if(t===fn){var d=e;if(n===eo){for(var h=d[i],p=0;p<(h||[]).length&&p<s;p++)if((o=w(h[r+p]))!=null)return o}else for(var p=0;p<d.length&&p<s;p++){var f=d[r+p];if(f&&(o=w(f[i]))!=null)return o}}else if(t===ca){var g=e;if(!l)return _n.Not;for(var p=0;p<g.length&&p<s;p++){var v=g[p];if(v&&(o=w(v[l]))!=null)return o}}else if(t===Aa){var m=e;if(!l)return _n.Not;var h=m[l];if(!h||xn(h))return _n.Not;for(var p=0;p<h.length&&p<s;p++)if((o=w(h[p]))!=null)return o}else if(t===Nn)for(var y=e,p=0;p<y.length&&p<s;p++){var v=y[p],_=Ss(v);if(!Te(_))return _n.Not;if((o=w(_[i]))!=null)return o}function w(E){var x=Oe(E);if(E!=null&&isFinite(E)&&E!=="")return x?_n.Might:_n.Not;if(x&&E!=="-")return _n.Must}return _n.Not}var bh=Ve();function RB(e,t){ia(bh.get(e)==null&&t),bh.set(e,t)}function OB(e,t,n){var a=bh.get(t);if(!a)return n;var r=a(e);return r?n.concat(r):n}var yg=At();At();var zp=function(){function e(){}return e.prototype.getColorFromPalette=function(t,n,a){var r=Lt(this.get("color",!0)),i=this.get("colorLayer",!0);return NB(this,yg,r,i,t,n,a)},e.prototype.clearColorPalette=function(){BB(this,yg)},e}();function PB(e,t){for(var n=e.length,a=0;a<n;a++)if(e[a].length>t)return e[a];return e[n-1]}function NB(e,t,n,a,r,i,o){i=i||e;var s=t(i),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var c=o==null||!a?n:PB(a,o);if(c=c||n,!(!c||!c.length)){var d=c[l];return r&&(u[r]=d),s.paletteIdx=(l+1)%c.length,d}}function BB(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var al,ho,_g,Cg="\0_ec_inner",$B=1,QC=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(n,a,r,i,o,s){i=i||{},this.option=null,this._theme=new Xt(i),this._locale=new Xt(o),this._optionManager=s},t.prototype.setOption=function(n,a,r){var i=Eg(a);this._optionManager.setOption(n,r,i),this._resetOption(null,i)},t.prototype.resetOption=function(n,a){return this._resetOption(n,Eg(a))},t.prototype._resetOption=function(n,a){var r=!1,i=this._optionManager;if(!n||n==="recreate"){var o=i.mountOption(n==="recreate");!this.option||n==="recreate"?_g(this,o):(this.restoreData(),this._mergeOption(o,a)),r=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var s=i.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,a))}if(!n||n==="recreate"||n==="media"){var l=i.getMediaOption(this);l.length&&R(l,function(u){r=!0,this._mergeOption(u,a)},this)}return r},t.prototype.mergeOption=function(n){this._mergeOption(n,null)},t.prototype._mergeOption=function(n,a){var r=this.option,i=this._componentsMap,o=this._componentsCount,s=[],l=Ve(),u=a&&a.replaceMergeMainTypeMap;AB(this),R(n,function(d,h){d!=null&&(wt.hasClass(h)?h&&(s.push(h),l.set(h,!0)):r[h]=r[h]==null?qe(d):tt(r[h],d,!0))}),u&&u.each(function(d,h){wt.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),wt.topologicalTravel(s,wt.getAllClassMainTypes(),c,this);function c(d){var h=OB(this,d,Lt(n[d])),p=i.get(d),f=p?u&&u.get(d)?"replaceMerge":"normalMerge":"replaceAll",g=xO(p,h,f);kO(g,d,wt),r[d]=null,i.set(d,null),o.set(d,0);var v=[],m=[],y=0,_;R(g,function(w,E){var x=w.existing,S=w.newOption;if(!S)x&&(x.mergeOption({},this),x.optionUpdated({},!1));else{var b=d==="series",D=wt.getClass(d,w.keyInfo.subType,!b);if(!D)return;if(d==="tooltip"){if(_)return;_=!0}if(x&&x.constructor===D)x.name=w.keyInfo.name,x.mergeOption(S,this),x.optionUpdated(S,!1);else{var T=_e({componentIndex:E},w.keyInfo);x=new D(S,this,this,T),_e(x,T),w.brandNew&&(x.__requireNewView=!0),x.init(S,this,this),x.optionUpdated(null,!0)}}x?(v.push(x.option),m.push(x),y++):(v.push(void 0),m.push(void 0))},this),r[d]=v,i.set(d,m),o.set(d,y),d==="series"&&al(this)}this._seriesIndices||al(this)},t.prototype.getOption=function(){var n=qe(this.option);return R(n,function(a,r){if(wt.hasClass(r)){for(var i=Lt(a),o=i.length,s=!1,l=o-1;l>=0;l--)i[l]&&!rs(i[l])?s=!0:(i[l]=null,!s&&o--);i.length=o,n[r]=i}}),delete n[Cg],n},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(n){this._payload=n},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(n,a){var r=this._componentsMap.get(n);if(r){var i=r[a||0];if(i)return i;if(a==null){for(var o=0;o<r.length;o++)if(r[o])return r[o]}}},t.prototype.queryComponents=function(n){var a=n.mainType;if(!a)return[];var r=n.index,i=n.id,o=n.name,s=this._componentsMap.get(a);if(!s||!s.length)return[];var l;return r!=null?(l=[],R(Lt(r),function(u){s[u]&&l.push(s[u])})):i!=null?l=wg("id",i,s):o!=null?l=wg("name",o,s):l=Ft(s,function(u){return!!u}),xg(l,n)},t.prototype.findComponents=function(n){var a=n.query,r=n.mainType,i=s(a),o=i?this.queryComponents(i):Ft(this._componentsMap.get(r),function(u){return!!u});return l(xg(o,n));function s(u){var c=r+"Index",d=r+"Id",h=r+"Name";return u&&(u[c]!=null||u[d]!=null||u[h]!=null)?{mainType:r,index:u[c],id:u[d],name:u[h]}:null}function l(u){return n.filter?Ft(u,n.filter):u}},t.prototype.eachComponent=function(n,a,r){var i=this._componentsMap;if(We(n)){var o=a,s=n;i.each(function(d,h){for(var p=0;d&&p<d.length;p++){var f=d[p];f&&s.call(o,h,f,f.componentIndex)}})}else for(var l=Oe(n)?i.get(n):$e(n)?this.findComponents(n):null,u=0;l&&u<l.length;u++){var c=l[u];c&&a.call(r,c,c.componentIndex)}},t.prototype.getSeriesByName=function(n){var a=aa(n,null);return Ft(this._componentsMap.get("series"),function(r){return!!r&&a!=null&&r.name===a})},t.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},t.prototype.getSeriesByType=function(n){return Ft(this._componentsMap.get("series"),function(a){return!!a&&a.subType===n})},t.prototype.getSeries=function(){return Ft(this._componentsMap.get("series"),function(n){return!!n})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(n,a){ho(this),R(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];n.call(a,i,r)},this)},t.prototype.eachRawSeries=function(n,a){R(this._componentsMap.get("series"),function(r){r&&n.call(a,r,r.componentIndex)})},t.prototype.eachSeriesByType=function(n,a,r){ho(this),R(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===n&&a.call(r,o,i)},this)},t.prototype.eachRawSeriesByType=function(n,a,r){return R(this.getSeriesByType(n),a,r)},t.prototype.isSeriesFiltered=function(n){return ho(this),this._seriesIndicesMap.get(n.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(n,a){ho(this);var r=[];R(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];n.call(a,o,i)&&r.push(i)},this),this._seriesIndices=r,this._seriesIndicesMap=Ve(r)},t.prototype.restoreData=function(n){al(this);var a=this._componentsMap,r=[];a.each(function(i,o){wt.hasClass(o)&&r.push(o)}),wt.topologicalTravel(r,wt.getAllClassMainTypes(),function(i){R(a.get(i),function(o){o&&(i!=="series"||!UB(o,n))&&o.restoreData()})})},t.internalField=function(){al=function(n){var a=n._seriesIndices=[];R(n._componentsMap.get("series"),function(r){r&&a.push(r.componentIndex)}),n._seriesIndicesMap=Ve(a)},ho=function(n){},_g=function(n,a){n.option={},n.option[Cg]=$B,n._componentsMap=Ve({series:[]}),n._componentsCount=Ve();var r=a.aria;$e(r)&&r.enabled==null&&(r.enabled=!0),GB(a,n._theme.option),tt(a,IB,!1),n._mergeOption(a,null)}}(),t}(Xt);function UB(e,t){if(t){var n=t.seriesIndex,a=t.seriesId,r=t.seriesName;return n!=null&&e.componentIndex!==n||a!=null&&e.id!==a||r!=null&&e.name!==r}}function GB(e,t){var n=e.color&&!e.colorLayer;R(t,function(a,r){r==="colorLayer"&&n||wt.hasClass(r)||(typeof a=="object"?e[r]=e[r]?tt(e[r],a,!1):qe(a):e[r]==null&&(e[r]=a))})}function wg(e,t,n){if(Te(t)){var a=Ve();return R(t,function(i){if(i!=null){var o=aa(i,null);o!=null&&a.set(i,!0)}}),Ft(n,function(i){return i&&a.get(i[e])})}else{var r=aa(t,null);return Ft(n,function(i){return i&&r!=null&&i[e]===r})}}function xg(e,t){return t.hasOwnProperty("subType")?Ft(e,function(n){return n&&n.subType===t.subType}):e}function Eg(e){var t=Ve();return e&&R(Lt(e.replaceMerge),function(n){t.set(n,!0)}),{replaceMergeMainTypeMap:t}}ua(QC,zp);const e1=QC;var FB=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],HB=function(){function e(t){R(FB,function(n){this[n]=Ye(t[n],t)},this)}return e}();const t1=HB;var ed={},VB=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,n){var a=[];R(ed,function(r,i){var o=r.create(t,n);a=a.concat(o||[])}),this._coordinateSystems=a},e.prototype.update=function(t,n){R(this._coordinateSystems,function(a){a.update&&a.update(t,n)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,n){ed[t]=n},e.get=function(t){return ed[t]},e}();const Wp=VB;var YB=/^(min|max)?(.+)$/,zB=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,n,a){t&&(R(Lt(t.series),function(o){o&&o.data&&xn(o.data)&&Wd(o.data)}),R(Lt(t.dataset),function(o){o&&o.source&&xn(o.source)&&Wd(o.source)})),t=qe(t);var r=this._optionBackup,i=WB(t,n,!r);this._newBaseOption=i.baseOption,r?(i.timelineOptions.length&&(r.timelineOptions=i.timelineOptions),i.mediaList.length&&(r.mediaList=i.mediaList),i.mediaDefault&&(r.mediaDefault=i.mediaDefault)):this._optionBackup=i},e.prototype.mountOption=function(t){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],qe(t?n.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var n,a=this._timelineOptions;if(a.length){var r=t.getComponent("timeline");r&&(n=qe(a[r.getCurrentIndex()]))}return n},e.prototype.getMediaOption=function(t){var n=this._api.getWidth(),a=this._api.getHeight(),r=this._mediaList,i=this._mediaDefault,o=[],s=[];if(!r.length&&!i)return s;for(var l=0,u=r.length;l<u;l++)qB(r[l].query,n,a)&&o.push(l);return!o.length&&i&&(o=[-1]),o.length&&!KB(o,this._currentMediaIndices)&&(s=Re(o,function(c){return qe(c===-1?i.option:r[c].option)})),this._currentMediaIndices=o,s},e}();function WB(e,t,n){var a=[],r,i,o=e.baseOption,s=e.timeline,l=e.options,u=e.media,c=!!e.media,d=!!(l||s||o&&o.timeline);o?(i=o,i.timeline||(i.timeline=s)):((d||c)&&(e.options=e.media=null),i=e),c&&Te(u)&&R(u,function(p){p&&p.option&&(p.query?a.push(p):r||(r=p))}),h(i),R(l,function(p){return h(p)}),R(a,function(p){return h(p.option)});function h(p){R(t,function(f){f(p,n)})}return{baseOption:i,timelineOptions:l||[],mediaDefault:r,mediaList:a}}function qB(e,t,n){var a={width:t,height:n,aspectratio:t/n},r=!0;return R(e,function(i,o){var s=o.match(YB);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();ZB(a[u],i,l)||(r=!1)}}),r}function ZB(e,t,n){return n==="min"?e>=t:n==="max"?e<=t:e===t}function KB(e,t){return e.join(",")===t.join(",")}const XB=zB;var Un=R,hs=$e,bg=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function td(e){var t=e&&e.itemStyle;if(t)for(var n=0,a=bg.length;n<a;n++){var r=bg[n],i=t.normal,o=t.emphasis;i&&i[r]&&(e[r]=e[r]||{},e[r].normal?tt(e[r].normal,i[r]):e[r].normal=i[r],i[r]=null),o&&o[r]&&(e[r]=e[r]||{},e[r].emphasis?tt(e[r].emphasis,o[r]):e[r].emphasis=o[r],o[r]=null)}}function Zt(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var a=e[t].normal,r=e[t].emphasis;a&&(n?(e[t].normal=e[t].emphasis=null,Ke(e[t],a)):e[t]=a),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r,r.focus&&(e.emphasis.focus=r.focus),r.blurScope&&(e.emphasis.blurScope=r.blurScope))}}function Po(e){Zt(e,"itemStyle"),Zt(e,"lineStyle"),Zt(e,"areaStyle"),Zt(e,"label"),Zt(e,"labelLine"),Zt(e,"upperLabel"),Zt(e,"edgeLabel")}function kt(e,t){var n=hs(e)&&e[t],a=hs(n)&&n.textStyle;if(a)for(var r=0,i=Ev.length;r<i;r++){var o=Ev[r];a.hasOwnProperty(o)&&(n[o]=a[o])}}function In(e){e&&(Po(e),kt(e,"label"),e.emphasis&&kt(e.emphasis,"label"))}function jB(e){if(hs(e)){td(e),Po(e),kt(e,"label"),kt(e,"upperLabel"),kt(e,"edgeLabel"),e.emphasis&&(kt(e.emphasis,"label"),kt(e.emphasis,"upperLabel"),kt(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(td(t),In(t));var n=e.markLine;n&&(td(n),In(n));var a=e.markArea;a&&In(a);var r=e.data;if(e.type==="graph"){r=r||e.nodes;var i=e.links||e.edges;if(i&&!xn(i))for(var o=0;o<i.length;o++)In(i[o]);R(e.categories,function(u){Po(u)})}if(r&&!xn(r))for(var o=0;o<r.length;o++)In(r[o]);if(t=e.markPoint,t&&t.data)for(var s=t.data,o=0;o<s.length;o++)In(s[o]);if(n=e.markLine,n&&n.data)for(var l=n.data,o=0;o<l.length;o++)Te(l[o])?(In(l[o][0]),In(l[o][1])):In(l[o]);e.type==="gauge"?(kt(e,"axisLabel"),kt(e,"title"),kt(e,"detail")):e.type==="treemap"?(Zt(e.breadcrumb,"itemStyle"),R(e.levels,function(u){Po(u)})):e.type==="tree"&&Po(e.leaves)}}function pa(e){return Te(e)?e:e?[e]:[]}function Sg(e){return(Te(e)?e[0]:e)||{}}function JB(e,t){Un(pa(e.series),function(a){hs(a)&&jB(a)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Un(n,function(a){Un(pa(e[a]),function(r){r&&(kt(r,"axisLabel"),kt(r.axisPointer,"label"))})}),Un(pa(e.parallel),function(a){var r=a&&a.parallelAxisDefault;kt(r,"axisLabel"),kt(r&&r.axisPointer,"label")}),Un(pa(e.calendar),function(a){Zt(a,"itemStyle"),kt(a,"dayLabel"),kt(a,"monthLabel"),kt(a,"yearLabel")}),Un(pa(e.radar),function(a){kt(a,"name"),a.name&&a.axisName==null&&(a.axisName=a.name,delete a.name),a.nameGap!=null&&a.axisNameGap==null&&(a.axisNameGap=a.nameGap,delete a.nameGap)}),Un(pa(e.geo),function(a){hs(a)&&(In(a),Un(pa(a.regions),function(r){In(r)}))}),Un(pa(e.timeline),function(a){In(a),Zt(a,"label"),Zt(a,"itemStyle"),Zt(a,"controlStyle",!0);var r=a.data;Te(r)&&R(r,function(i){$e(i)&&(Zt(i,"label"),Zt(i,"itemStyle"))})}),Un(pa(e.toolbox),function(a){Zt(a,"iconStyle"),Un(a.feature,function(r){Zt(r,"iconStyle")})}),kt(Sg(e.axisPointer),"label"),kt(Sg(e.tooltip).axisPointer,"label")}function QB(e,t){for(var n=t.split(","),a=e,r=0;r<n.length&&(a=a&&a[n[r]],a!=null);r++);return a}function e$(e,t,n,a){for(var r=t.split(","),i=e,o,s=0;s<r.length-1;s++)o=r[s],i[o]==null&&(i[o]={}),i=i[o];(a||i[r[s]]==null)&&(i[r[s]]=n)}function Dg(e){e&&R(t$,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var t$=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],n$=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],nd=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function po(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<nd.length;n++){var a=nd[n][1],r=nd[n][0];t[a]!=null&&(t[r]=t[a])}}function Tg(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function Ig(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function a$(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function n1(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&n1(e[n].children,t)}function a1(e,t){JB(e,t),e.series=Lt(e.series),R(e.series,function(n){if($e(n)){var a=n.type;if(a==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(a==="pie"||a==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),Tg(n.label);var r=n.data;if(r&&!xn(r))for(var i=0;i<r.length;i++)Tg(r[i]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(a==="gauge"){var o=QB(n,"pointer.color");o!=null&&e$(n,"itemStyle.color",o)}else if(a==="bar"){po(n),po(n.backgroundStyle),po(n.emphasis);var r=n.data;if(r&&!xn(r))for(var i=0;i<r.length;i++)typeof r[i]=="object"&&(po(r[i]),po(r[i]&&r[i].emphasis))}else if(a==="sunburst"){var s=n.highlightPolicy;s&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=s)),Ig(n),n1(n.data,Ig)}else a==="graph"||a==="sankey"?a$(n):a==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&Ke(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),Dg(n)}}),e.dataRange&&(e.visualMap=e.dataRange),R(n$,function(n){var a=e[n];a&&(Te(a)||(a=[a]),R(a,function(r){Dg(r)}))})}function r$(e){var t=Ve();e.eachSeries(function(n){var a=n.get("stack");if(a){var r=t.get(a)||t.set(a,[]),i=n.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:n};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(o)}}),t.each(i$)}function i$(e){R(e,function(t,n){var a=[],r=[NaN,NaN],i=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";o.modify(i,function(u,c,d){var h=o.get(t.stackedDimension,d);if(isNaN(h))return r;var p,f;s?f=o.getRawIndex(d):p=o.get(t.stackedByDimension,d);for(var g=NaN,v=n-1;v>=0;v--){var m=e[v];if(s||(f=m.data.rawIndexOf(m.stackedByDimension,p)),f>=0){var y=m.data.getByRawIndex(m.stackResultDimension,f);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&h>=0&&y>0||l==="samesign"&&h<=0&&y<0){h=mO(h,y),g=y;break}}}return a[0]=h,a[1]=g,a})})}var Ju=function(){function e(t){this.data=t.data||(t.sourceFormat===Aa?{}:[]),this.sourceFormat=t.sourceFormat||KC,this.seriesLayoutBy=t.seriesLayoutBy||xa,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var a=0;a<n.length;a++){var r=n[a];r.type==null&&JC(this,a)===_n.Must&&(r.type="ordinal")}}return e}();function qp(e){return e instanceof Ju}function Sh(e,t,n){n=n||r1(e);var a=t.seriesLayoutBy,r=s$(e,n,a,t.sourceHeader,t.dimensions),i=new Ju({data:e,sourceFormat:n,seriesLayoutBy:a,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:qe(t)});return i}function Zp(e){return new Ju({data:e,sourceFormat:xn(e)?Za:Nn})}function o$(e){return new Ju({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:qe(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function r1(e){var t=KC;if(xn(e))t=Za;else if(Te(e)){e.length===0&&(t=fn);for(var n=0,a=e.length;n<a;n++){var r=e[n];if(r!=null){if(Te(r)){t=fn;break}else if($e(r)){t=ca;break}}}}else if($e(e)){for(var i in e)if(Gi(e,i)&&pn(e[i])){t=Aa;break}}return t}function s$(e,t,n,a,r){var i,o;if(!e)return{dimensionsDefine:Ag(r),startIndex:o,dimensionsDetectedCount:i};if(t===fn){var s=e;a==="auto"||a==null?kg(function(u){u!=null&&u!=="-"&&(Oe(u)?o==null&&(o=1):o=0)},n,s,10):o=bt(a)?a:a?1:0,!r&&o===1&&(r=[],kg(function(u,c){r[c]=u!=null?u+"":""},n,s,1/0)),i=r?r.length:n===eo?s.length:s[0]?s[0].length:null}else if(t===ca)r||(r=l$(e));else if(t===Aa)r||(r=[],R(e,function(u,c){r.push(c)}));else if(t===Nn){var l=Ss(e[0]);i=Te(l)&&l.length||1}return{startIndex:o,dimensionsDefine:Ag(r),dimensionsDetectedCount:i}}function l$(e){for(var t=0,n;t<e.length&&!(n=e[t++]););if(n){var a=[];return R(n,function(r,i){a.push(i)}),a}}function Ag(e){if(e){var t=Ve();return Re(e,function(n,a){n=$e(n)?n:{name:n};var r={name:n.name,displayName:n.displayName,type:n.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var i=t.get(r.name);return i?r.name+="-"+i.count++:t.set(r.name,{count:1}),r})}}function kg(e,t,n,a){if(t===eo)for(var r=0;r<n.length&&r<a;r++)e(n[r]?n[r][0]:null,r);else for(var i=n[0]||[],r=0;r<i.length&&r<a;r++)e(i[r],r)}function i1(e){var t=e.sourceFormat;return t===ca||t===Aa}var yr,_r,Cr,Mg,Lg,o1=function(){function e(t,n){var a=qp(t)?t:Zp(t);this._source=a;var r=this._data=a.data;a.sourceFormat===Za&&(this._offset=0,this._dimSize=n,this._data=r),Lg(this,r,a)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,n){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;Lg=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,d=l.startIndex,h=l.dimensionsDefine,p=Mg[Kp(u,c)];if(_e(o,p),u===Za)o.getItem=n,o.count=r,o.fillStorage=a;else{var f=s1(u,c);o.getItem=Ye(f,null,s,d,h);var g=l1(u,c);o.count=Ye(g,null,s,d,h)}};var n=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,d=0;d<u;d++)s[d]=l[c+d];return s},a=function(o,s,l,u){for(var c=this._data,d=this._dimSize,h=0;h<d;h++){for(var p=u[h],f=p[0]==null?1/0:p[0],g=p[1]==null?-1/0:p[1],v=s-o,m=l[h],y=0;y<v;y++){var _=c[y*d+h];m[o+y]=_,_<f&&(f=_),_>g&&(g=_)}p[0]=f,p[1]=g}},r=function(){return this._data?this._data.length/this._dimSize:0};Mg=(t={},t[fn+"_"+xa]={pure:!0,appendData:i},t[fn+"_"+eo]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[ca]={pure:!0,appendData:i},t[Aa]={pure:!0,appendData:function(o){var s=this._data;R(o,function(l,u){for(var c=s[u]||(s[u]=[]),d=0;d<(l||[]).length;d++)c.push(l[d])})}},t[Nn]={appendData:i},t[Za]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},t);function i(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),e}(),Rg=function(e,t,n,a){return e[a]},u$=(yr={},yr[fn+"_"+xa]=function(e,t,n,a){return e[a+t]},yr[fn+"_"+eo]=function(e,t,n,a,r){a+=t;for(var i=r||[],o=e,s=0;s<o.length;s++){var l=o[s];i[s]=l?l[a]:null}return i},yr[ca]=Rg,yr[Aa]=function(e,t,n,a,r){for(var i=r||[],o=0;o<n.length;o++){var s=n[o].name,l=e[s];i[o]=l?l[a]:null}return i},yr[Nn]=Rg,yr);function s1(e,t){var n=u$[Kp(e,t)];return n}var Og=function(e,t,n){return e.length},c$=(_r={},_r[fn+"_"+xa]=function(e,t,n){return Math.max(0,e.length-t)},_r[fn+"_"+eo]=function(e,t,n){var a=e[0];return a?Math.max(0,a.length-t):0},_r[ca]=Og,_r[Aa]=function(e,t,n){var a=n[0].name,r=e[a];return r?r.length:0},_r[Nn]=Og,_r);function l1(e,t){var n=c$[Kp(e,t)];return n}var ad=function(e,t,n){return e[t]},d$=(Cr={},Cr[fn]=ad,Cr[ca]=function(e,t,n){return e[n]},Cr[Aa]=ad,Cr[Nn]=function(e,t,n){var a=Ss(e);return a instanceof Array?a[t]:a},Cr[Za]=ad,Cr);function u1(e){var t=d$[e];return t}function Kp(e,t){return e===fn?e+"_"+t:e}function Yi(e,t,n){if(e){var a=e.getRawDataItem(t);if(a!=null){var r=e.getStore(),i=r.getSource().sourceFormat;if(n!=null){var o=e.getDimensionIndex(n),s=r.getDimensionProperty(o);return u1(i)(a,o,s)}else{var l=a;return i===Nn&&(l=Ss(a)),l}}}}var h$=/\{@(.+?)\}/g,p$=function(){function e(){}return e.prototype.getDataParams=function(t,n){var a=this.getData(n),r=this.getRawValue(t,n),i=a.getRawIndex(t),o=a.getName(t),s=a.getRawDataItem(t),l=a.getItemVisual(t,"style"),u=l&&l[a.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,d=this.mainType,h=d==="series",p=a.userOutput&&a.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:i,data:s,dataType:n,value:r,color:u,borderColor:c,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,n,a,r,i,o){n=n||"normal";var s=this.getData(a),l=this.getDataParams(t,a);if(o&&(l.value=o.interpolatedValue),r!=null&&Te(l.value)&&(l.value=l.value[r]),!i){var u=s.getItemModel(t);i=u.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(We(i))return l.status=n,l.dimensionIndex=r,i(l);if(Oe(i)){var c=WC(i,l);return c.replace(h$,function(d,h){var p=h.length,f=h;f.charAt(0)==="["&&f.charAt(p-1)==="]"&&(f=+f.slice(1,p-1));var g=Yi(s,t,f);if(o&&Te(o.interpolatedValue)){var v=s.getDimensionIndex(f);v>=0&&(g=o.interpolatedValue[v])}return g!=null?g+"":""})}},e.prototype.getRawValue=function(t,n){return Yi(this.getData(n),t)},e.prototype.formatTooltip=function(t,n,a){},e}();function Pg(e){var t,n;return $e(e)?e.type&&(n=e):t=e,{text:t,frag:n}}function Wo(e){return new f$(e)}var f$=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var n=this._upstream,a=t&&t.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!a&&(i=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;(o!==l||s!==u)&&(i="reset");function c(y){return!(y>=1)&&(y=1),y}var d;(this._dirty||i==="reset")&&(this._dirty=!1,d=this._doReset(a)),this._modBy=l,this._modDataCount=u;var h=t&&t.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,f=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!a&&(d||p<f)){var g=this._progress;if(Te(g))for(var v=0;v<g.length;v++)this._doProgress(g[v],p,f,l,u);else this._doProgress(g,p,f,l,u)}this._dueIndex=f;var m=this._settedOutputEnd!=null?this._settedOutputEnd:f;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,n,a,r,i){Ng.reset(n,a,r,i),this._callingProgress=t,this._callingProgress({start:n,end:a,count:a-n,next:Ng.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,a;!t&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(a=n.forceFirstProgress,n=n.progress),Te(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),a},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),Ng=function(){var e,t,n,a,r,i={reset:function(l,u,c,d){t=l,e=u,n=c,a=d,r=Math.ceil(a/n),i.next=n>1&&a>0?s:o}};return i;function o(){return t<e?t++:null}function s(){var l=t%r*n+Math.ceil(t/r),u=t>=e?null:l<a?l:t;return t++,u}}();function Bl(e,t){var n=t&&t.type;return n==="ordinal"?e:(n==="time"&&!bt(e)&&e!=null&&e!=="-"&&(e=+Da(e)),e==null||e===""?NaN:+e)}Ve({number:function(e){return parseFloat(e)},time:function(e){return+Da(e)},trim:function(e){return Oe(e)?ea(e):e}});var v$=function(){function e(t,n){var a=t==="desc";this._resultLT=a?1:-1,n==null&&(n=a?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,n){var a=bt(t)?t:eu(t),r=bt(n)?n:eu(n),i=isNaN(a),o=isNaN(r);if(i&&(a=this._incomparable),o&&(r=this._incomparable),i&&o){var s=Oe(t),l=Oe(n);s&&(a=l?t:0),l&&(r=s?n:0)}return a<r?this._resultLT:a>r?-this._resultLT:0},e}(),g$=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,n){},e.prototype.retrieveValueFromItem=function(t,n){},e.prototype.convertValue=function(t,n){return Bl(t,n)},e}();function m$(e,t){var n=new g$,a=e.data,r=n.sourceFormat=e.sourceFormat,i=e.startIndex,o="";e.seriesLayoutBy!==xa&&sn(o);var s=[],l={},u=e.dimensionsDefine;if(u)R(u,function(g,v){var m=g.name,y={index:v,name:m,displayName:g.displayName};if(s.push(y),m!=null){var _="";Gi(l,m)&&sn(_),l[m]=y}});else for(var c=0;c<e.dimensionsDetectedCount;c++)s.push({index:c});var d=s1(r,xa);t.__isBuiltIn&&(n.getRawDataItem=function(g){return d(a,i,s,g)},n.getRawData=Ye(y$,null,e)),n.cloneRawData=Ye(_$,null,e);var h=l1(r,xa);n.count=Ye(h,null,a,i,s);var p=u1(r);n.retrieveValue=function(g,v){var m=d(a,i,s,g);return f(m,v)};var f=n.retrieveValueFromItem=function(g,v){if(g!=null){var m=s[v];if(m)return p(g,v,m.name)}};return n.getDimensionInfo=Ye(C$,null,s,l),n.cloneAllDimensionInfo=Ye(w$,null,s),n}function y$(e){var t=e.sourceFormat;if(!Xp(t)){var n="";sn(n)}return e.data}function _$(e){var t=e.sourceFormat,n=e.data;if(!Xp(t)){var a="";sn(a)}if(t===fn){for(var r=[],i=0,o=n.length;i<o;i++)r.push(n[i].slice());return r}else if(t===ca){for(var r=[],i=0,o=n.length;i<o;i++)r.push(_e({},n[i]));return r}}function C$(e,t,n){if(n!=null){if(bt(n)||!isNaN(n)&&!Gi(t,n))return e[n];if(Gi(t,n))return t[n]}}function w$(e){return qe(e)}var c1=Ve();function x$(e){e=qe(e);var t=e.type,n="";t||sn(n);var a=t.split(":");a.length!==2&&sn(n);var r=!1;a[0]==="echarts"&&(t=a[1],r=!0),e.__isBuiltIn=r,c1.set(t,e)}function E$(e,t,n){var a=Lt(e),r=a.length,i="";r||sn(i);for(var o=0,s=r;o<s;o++){var l=a[o];t=b$(l,t),o!==s-1&&(t.length=Math.max(t.length,1))}return t}function b$(e,t,n,a){var r="";t.length||sn(r),$e(e)||sn(r);var i=e.type,o=c1.get(i);o||sn(r);var s=Re(t,function(u){return m$(u,o)}),l=Lt(o.transform({upstream:s[0],upstreamList:s,config:qe(e.config)}));return Re(l,function(u,c){var d="";$e(u)||sn(d),u.data||sn(d);var h=r1(u.data);Xp(h)||sn(d);var p,f=t[0];if(f&&c===0&&!u.dimensions){var g=f.startIndex;g&&(u.data=f.data.slice(0,g).concat(u.data)),p={seriesLayoutBy:xa,sourceHeader:g,dimensions:f.metaRawOption.dimensions}}else p={seriesLayoutBy:xa,sourceHeader:0,dimensions:u.dimensions};return Sh(u.data,p,null)})}function Xp(e){return e===fn||e===ca}var Qu="undefined",S$=typeof Uint32Array===Qu?Array:Uint32Array,D$=typeof Uint16Array===Qu?Array:Uint16Array,d1=typeof Int32Array===Qu?Array:Int32Array,Bg=typeof Float64Array===Qu?Array:Float64Array,h1={float:Bg,int:d1,ordinal:Array,number:Array,time:Bg},rd;function fo(e){return e>65535?S$:D$}function gi(){return[1/0,-1/0]}function T$(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function $g(e,t,n,a,r){var i=h1[n||"float"];if(r){var o=e[t],s=o&&o.length;if(s!==a){for(var l=new i(a),u=0;u<s;u++)l[u]=o[u];e[t]=l}}else e[t]=new i(a)}var Dh=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Ve()}return e.prototype.initData=function(t,n,a){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=t.getSource(),i=this.defaultDimValueGetter=rd[r.sourceFormat];this._dimValueGetter=a||i,this._rawExtent=[],i1(r),this._dimensions=Re(n,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,n){var a=this._calcDimNameToIdx,r=this._dimensions,i=a.get(t);if(i!=null){if(r[i].type===n)return i}else i=r.length;return r[i]={type:n},a.set(t,i),this._chunks[i]=new h1[n||"float"](this._rawCount),this._rawExtent[i]=gi(),i},e.prototype.collectOrdinalMeta=function(t,n){var a=this._chunks[t],r=this._dimensions[t],i=this._rawExtent,o=r.ordinalOffset||0,s=a.length;o===0&&(i[t]=gi());for(var l=i[t],u=o;u<s;u++){var c=a[u]=n.parseAndCollect(a[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}r.ordinalMeta=n,r.ordinalOffset=s,r.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var n=this._dimensions[t],a=n.ordinalMeta;return a},e.prototype.getDimensionProperty=function(t){var n=this._dimensions[t];return n&&n.property},e.prototype.appendData=function(t){var n=this._provider,a=this.count();n.appendData(t);var r=n.count();return n.persistent||(r+=a),a<r&&this._initDataFromProvider(a,r,!0),[a,r]},e.prototype.appendValues=function(t,n){for(var a=this._chunks,r=this._dimensions,i=r.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,n||0),u=0;u<i;u++){var c=r[u];$g(a,u,c.type,l,!0)}for(var d=[],h=s;h<l;h++)for(var p=h-s,f=0;f<i;f++){var c=r[f],g=rd.arrayRows.call(this,t[p]||d,c.property,p,f);a[f][h]=g;var v=o[f];g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}return this._rawCount=this._count=l,{start:s,end:l}},e.prototype._initDataFromProvider=function(t,n,a){for(var r=this._provider,i=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=Re(o,function(y){return y.property}),c=0;c<s;c++){var d=o[c];l[c]||(l[c]=gi()),$g(i,c,d.type,n,a)}if(r.fillStorage)r.fillStorage(t,n,i,l);else for(var h=[],p=t;p<n;p++){h=r.getItem(p,h);for(var f=0;f<s;f++){var g=i[f],v=this._dimValueGetter(h,u[f],p,f);g[p]=v;var m=l[f];v<m[0]&&(m[0]=v),v>m[1]&&(m[1]=v)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=n,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,n){if(!(n>=0&&n<this._count))return NaN;var a=this._chunks[t];return a?a[this.getRawIndex(n)]:NaN},e.prototype.getValues=function(t,n){var a=[],r=[];if(n==null){n=t,t=[];for(var i=0;i<this._dimensions.length;i++)r.push(i)}else r=t;for(var i=0,o=r.length;i<o;i++)a.push(this.get(r[i],n));return a},e.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this._rawCount))return NaN;var a=this._chunks[t];return a?a[n]:NaN},e.prototype.getSum=function(t){var n=this._chunks[t],a=0;if(n)for(var r=0,i=this.count();r<i;r++){var o=this.get(t,r);isNaN(o)||(a+=o)}return a},e.prototype.getMedian=function(t){var n=[];this.each([t],function(i){isNaN(i)||n.push(i)});var a=n.sort(function(i,o){return i-o}),r=this.count();return r===0?0:r%2===1?a[(r-1)/2]:(a[r/2]+a[r/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var n=this._indices,a=n[t];if(a!=null&&a<this._count&&a===t)return t;for(var r=0,i=this._count-1;r<=i;){var o=(r+i)/2|0;if(n[o]<t)r=o+1;else if(n[o]>t)i=o-1;else return o}return-1},e.prototype.indicesOfNearest=function(t,n,a){var r=this._chunks,i=r[t],o=[];if(!i)return o;a==null&&(a=1/0);for(var s=1/0,l=-1,u=0,c=0,d=this.count();c<d;c++){var h=this.getRawIndex(c),p=n-i[h],f=Math.abs(p);f<=a&&((f<s||f===s&&p>=0&&l<0)&&(s=f,l=p,u=0),p===l&&(o[u++]=c))}return o.length=u,o},e.prototype.getIndices=function(){var t,n=this._indices;if(n){var a=n.constructor,r=this._count;if(a===Array){t=new a(r);for(var i=0;i<r;i++)t[i]=n[i]}else t=new a(n.buffer,0,r)}else{var a=fo(this._rawCount);t=new a(this.count());for(var i=0;i<t.length;i++)t[i]=i}return t},e.prototype.filter=function(t,n){if(!this._count)return this;for(var a=this.clone(),r=a.count(),i=fo(a._rawCount),o=new i(r),s=[],l=t.length,u=0,c=t[0],d=a._chunks,h=0;h<r;h++){var p=void 0,f=a.getRawIndex(h);if(l===0)p=n(h);else if(l===1){var g=d[c][f];p=n(g,h)}else{for(var v=0;v<l;v++)s[v]=d[t[v]][f];s[v]=h,p=n.apply(null,s)}p&&(o[u++]=f)}return u<r&&(a._indices=o),a._count=u,a._extent=[],a._updateGetRawIdx(),a},e.prototype.selectRange=function(t){var n=this.clone(),a=n._count;if(!a)return this;var r=Dt(t),i=r.length;if(!i)return this;var o=n.count(),s=fo(n._rawCount),l=new s(o),u=0,c=r[0],d=t[c][0],h=t[c][1],p=n._chunks,f=!1;if(!n._indices){var g=0;if(i===1){for(var v=p[r[0]],m=0;m<a;m++){var y=v[m];(y>=d&&y<=h||isNaN(y))&&(l[u++]=g),g++}f=!0}else if(i===2){for(var v=p[r[0]],_=p[r[1]],w=t[r[1]][0],E=t[r[1]][1],m=0;m<a;m++){var y=v[m],x=_[m];(y>=d&&y<=h||isNaN(y))&&(x>=w&&x<=E||isNaN(x))&&(l[u++]=g),g++}f=!0}}if(!f)if(i===1)for(var m=0;m<o;m++){var S=n.getRawIndex(m),y=p[r[0]][S];(y>=d&&y<=h||isNaN(y))&&(l[u++]=S)}else for(var m=0;m<o;m++){for(var b=!0,S=n.getRawIndex(m),D=0;D<i;D++){var T=r[D],y=p[T][S];(y<t[T][0]||y>t[T][1])&&(b=!1)}b&&(l[u++]=n.getRawIndex(m))}return u<o&&(n._indices=l),n._count=u,n._extent=[],n._updateGetRawIdx(),n},e.prototype.map=function(t,n){var a=this.clone(t);return this._updateDims(a,t,n),a},e.prototype.modify=function(t,n){this._updateDims(this,t,n)},e.prototype._updateDims=function(t,n,a){for(var r=t._chunks,i=[],o=n.length,s=t.count(),l=[],u=t._rawExtent,c=0;c<n.length;c++)u[n[c]]=gi();for(var d=0;d<s;d++){for(var h=t.getRawIndex(d),p=0;p<o;p++)l[p]=r[n[p]][h];l[o]=d;var f=a&&a.apply(null,l);if(f!=null){typeof f!="object"&&(i[0]=f,f=i);for(var c=0;c<f.length;c++){var g=n[c],v=f[c],m=u[g],y=r[g];y&&(y[h]=v),v<m[0]&&(m[0]=v),v>m[1]&&(m[1]=v)}}}},e.prototype.lttbDownSample=function(t,n){var a=this.clone([t],!0),r=a._chunks,i=r[t],o=this.count(),s=0,l=Math.floor(1/n),u=this.getRawIndex(0),c,d,h,p=new(fo(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));p[s++]=u;for(var f=1;f<o-1;f+=l){for(var g=Math.min(f+l,o-1),v=Math.min(f+l*2,o),m=(v+g)/2,y=0,_=g;_<v;_++){var w=this.getRawIndex(_),E=i[w];isNaN(E)||(y+=E)}y/=v-g;var x=f,S=Math.min(f+l,o),b=f-1,D=i[u];c=-1,h=x;for(var T=-1,A=0,_=x;_<S;_++){var w=this.getRawIndex(_),E=i[w];if(isNaN(E)){A++,T<0&&(T=w);continue}d=Math.abs((b-m)*(E-D)-(b-_)*(y-D)),d>c&&(c=d,h=w)}A>0&&A<S-x&&(p[s++]=Math.min(T,h),h=Math.max(T,h)),p[s++]=h,u=h}return p[s++]=this.getRawIndex(o-1),a._count=s,a._indices=p,a.getRawIndex=this._getRawIdx,a},e.prototype.downSample=function(t,n,a,r){for(var i=this.clone([t],!0),o=i._chunks,s=[],l=Math.floor(1/n),u=o[t],c=this.count(),d=i._rawExtent[t]=gi(),h=new(fo(this._rawCount))(Math.ceil(c/l)),p=0,f=0;f<c;f+=l){l>c-f&&(l=c-f,s.length=l);for(var g=0;g<l;g++){var v=this.getRawIndex(f+g);s[g]=u[v]}var m=a(s),y=this.getRawIndex(Math.min(f+r(s,m)||0,c-1));u[y]=m,m<d[0]&&(d[0]=m),m>d[1]&&(d[1]=m),h[p++]=y}return i._count=p,i._indices=h,i._updateGetRawIdx(),i},e.prototype.each=function(t,n){if(this._count)for(var a=t.length,r=this._chunks,i=0,o=this.count();i<o;i++){var s=this.getRawIndex(i);switch(a){case 0:n(i);break;case 1:n(r[t[0]][s],i);break;case 2:n(r[t[0]][s],r[t[1]][s],i);break;default:for(var l=0,u=[];l<a;l++)u[l]=r[t[l]][s];u[l]=i,n.apply(null,u)}}},e.prototype.getDataExtent=function(t){var n=this._chunks[t],a=gi();if(!n)return a;var r=this.count(),i=!this._indices,o;if(i)return this._rawExtent[t].slice();if(o=this._extent[t],o)return o.slice();o=a;for(var s=o[0],l=o[1],u=0;u<r;u++){var c=this.getRawIndex(u),d=n[c];d<s&&(s=d),d>l&&(l=d)}return o=[s,l],this._extent[t]=o,o},e.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(n);for(var a=[],r=this._chunks,i=0;i<r.length;i++)a.push(r[i][n]);return a},e.prototype.clone=function(t,n){var a=new e,r=this._chunks,i=t&&Ki(t,function(s,l){return s[l]=!0,s},{});if(i)for(var o=0;o<r.length;o++)a._chunks[o]=i[o]?T$(r[o]):r[o];else a._chunks=r;return this._copyCommonProps(a),n||(a._indices=this._cloneIndices()),a._updateGetRawIdx(),a},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=qe(this._extent),t._rawExtent=qe(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,n=void 0;if(t===Array){var a=this._indices.length;n=new t(a);for(var r=0;r<a;r++)n[r]=this._indices[r]}else n=new t(this._indices);return n}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(n,a,r,i){return Bl(n[i],this._dimensions[i])}rd={arrayRows:t,objectRows:function(n,a,r,i){return Bl(n[a],this._dimensions[i])},keyedColumns:t,original:function(n,a,r,i){var o=n&&(n.value==null?n:n.value);return Bl(o instanceof Array?o[i]:o,this._dimensions[i])},typedArray:function(n,a,r,i){return n[i]}}}(),e}(),I$=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,n){this._sourceList=t,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,n=this._getUpstreamSourceManagers(),a=!!n.length,r,i;if(rl(t)){var o=t,s=void 0,l=void 0,u=void 0;if(a){var c=n[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,i=[c._getVersionSign()]}else s=o.get("data",!0),l=xn(s)?Za:Nn,i=[];var d=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},p=ut(d.seriesLayoutBy,h.seriesLayoutBy)||null,f=ut(d.sourceHeader,h.sourceHeader),g=ut(d.dimensions,h.dimensions),v=p!==h.seriesLayoutBy||!!f!=!!h.sourceHeader||g;r=v?[Sh(s,{seriesLayoutBy:p,sourceHeader:f,dimensions:g},l)]:[]}else{var m=t;if(a){var y=this._applyTransform(n);r=y.sourceList,i=y.upstreamSignList}else{var _=m.get("source",!0);r=[Sh(_,this._getSourceMetaRawOption(),null)],i=[]}}this._setLocalSource(r,i)},e.prototype._applyTransform=function(t){var n=this._sourceHost,a=n.get("transform",!0),r=n.get("fromTransformResult",!0);if(r!=null){var i="";t.length!==1&&Ug(i)}var o,s=[],l=[];return R(t,function(u){u.prepareSource();var c=u.getSource(r||0),d="";r!=null&&!c&&Ug(d),s.push(c),l.push(u._getVersionSign())}),a?o=E$(a,s,{datasetIndex:n.componentIndex}):r!=null&&(o=[o$(s[0])]),{sourceList:o,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var a=t[n];if(a._isDirty()||this._upstreamSignList[n]!==a._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var n=this._sourceList[t];if(!n){var a=this._getUpstreamSourceManagers();return a[0]&&a[0].getSource(t)}return n},e.prototype.getSharedDataStore=function(t){var n=t.makeStoreSchema();return this._innerGetDataStore(n.dimensions,t.source,n.hash)},e.prototype._innerGetDataStore=function(t,n,a){var r=0,i=this._storeList,o=i[r];o||(o=i[r]={});var s=o[a];if(!s){var l=this._getUpstreamSourceManagers()[0];rl(this._sourceHost)&&l?s=l._innerGetDataStore(t,n,a):(s=new Dh,s.initData(new o1(n,t.length),t)),o[a]=s}return s},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(rl(t)){var n=jC(t);return n?[n.getSourceManager()]:[]}else return Re(MB(t),function(a){return a.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,n,a,r;if(rl(t))n=t.get("seriesLayoutBy",!0),a=t.get("sourceHeader",!0),r=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=t;n=i.get("seriesLayoutBy",!0),a=i.get("sourceHeader",!0),r=i.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:a,dimensions:r}},e}();function rl(e){return e.mainType==="series"}function Ug(e){throw new Error(e)}var p1="line-height:1";function f1(e,t){var n=e.color||"#6e7079",a=e.fontSize||12,r=e.fontWeight||"400",i=e.color||"#464646",o=e.fontSize||14,s=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+kn(a+"")+"px;color:"+kn(n)+";font-weight:"+kn(r+""),valueStyle:"font-size:"+kn(o+"")+"px;color:"+kn(i)+";font-weight:"+kn(s+"")}:{nameStyle:{fontSize:a,fill:n,fontWeight:r},valueStyle:{fontSize:o,fill:i,fontWeight:s}}}var A$=[0,10,20,30],k$=["",`
`,`

`,`


`];function ps(e,t){return t.type=e,t}function Th(e){return e.type==="section"}function v1(e){return Th(e)?M$:L$}function g1(e){if(Th(e)){var t=0,n=e.blocks.length,a=n>1||n>0&&!e.noHeader;return R(e.blocks,function(r){var i=g1(r);i>=t&&(t=i+ +(a&&(!i||Th(r)&&!r.noHeader)))}),t}return 0}function M$(e,t,n,a){var r=t.noHeader,i=R$(g1(t)),o=[],s=t.blocks||[];ia(!s||Te(s)),s=s||[];var l=e.orderMode;if(t.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Gi(u,l)){var c=new v$(u[l],null);s.sort(function(f,g){return c.evaluate(f.sortParam,g.sortParam)})}else l==="seriesDesc"&&s.reverse()}R(s,function(f,g){var v=t.valueFormatter,m=v1(f)(v?_e(_e({},e),{valueFormatter:v}):e,f,g>0?i.html:0,a);m!=null&&o.push(m)});var d=e.renderMode==="richText"?o.join(i.richText):Ih(o.join(""),r?n:i.html);if(r)return d;var h=Eh(t.header,"ordinal",e.useUTC),p=f1(a,e.renderMode).nameStyle;return e.renderMode==="richText"?m1(e,h,p)+i.richText+d:Ih('<div style="'+p+";"+p1+';">'+kn(h)+"</div>"+d,n)}function L$(e,t,n,a){var r=e.renderMode,i=t.noName,o=t.noValue,s=!t.markerType,l=t.name,u=e.useUTC,c=t.valueFormatter||e.valueFormatter||function(w){return w=Te(w)?w:[w],Re(w,function(E,x){return Eh(E,Te(p)?p[x]:p,u)})};if(!(i&&o)){var d=s?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",r),h=i?"":Eh(l,"ordinal",u),p=t.valueType,f=o?[]:c(t.value),g=!s||!i,v=!s&&i,m=f1(a,r),y=m.nameStyle,_=m.valueStyle;return r==="richText"?(s?"":d)+(i?"":m1(e,h,y))+(o?"":N$(e,f,g,v,_)):Ih((s?"":d)+(i?"":O$(h,!s,y))+(o?"":P$(f,g,v,_)),n)}}function Gg(e,t,n,a,r,i){if(e){var o=v1(e),s={useUTC:r,renderMode:n,orderMode:a,markupStyleCreator:t,valueFormatter:e.valueFormatter};return o(s,e,0,i)}}function R$(e){return{html:A$[e],richText:k$[e]}}function Ih(e,t){var n='<div style="clear:both"></div>',a="margin: "+t+"px 0 0";return'<div style="'+a+";"+p1+';">'+e+n+"</div>"}function O$(e,t,n){var a=t?"margin-left:2px":"";return'<span style="'+n+";"+a+'">'+kn(e)+"</span>"}function P$(e,t,n,a){var r=n?"10px":"20px",i=t?"float:right;margin-left:"+r:"";return e=Te(e)?e:[e],'<span style="'+i+";"+a+'">'+Re(e,function(o){return kn(o)}).join("&nbsp;&nbsp;")+"</span>"}function m1(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function N$(e,t,n,a,r){var i=[r],o=a?10:20;return n&&i.push({padding:[0,0,0,o],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(Te(t)?t.join("  "):t,i)}function B$(e,t){var n=e.getData().getItemVisual(t,"style"),a=n[e.visualDrawType];return Yr(a)}function y1(e,t){var n=e.get("padding");return n??(t==="richText"?[8,10]:10)}var id=function(){function e(){this.richTextStyles={},this._nextStyleNameId=D_()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,n,a){var r=a==="richText"?this._generateStyleName():null,i=wB({color:n,type:t,renderMode:a,markerId:r});return Oe(i)?i:(this.richTextStyles[r]=i.style,i.content)},e.prototype.wrapRichTextStyle=function(t,n){var a={};Te(n)?R(n,function(i){return _e(a,i)}):_e(a,n);var r=this._generateStyleName();return this.richTextStyles[r]=a,"{"+r+"|"+t+"}"},e}();function $$(e){var t=e.series,n=e.dataIndex,a=e.multipleSeries,r=t.getData(),i=r.mapDimensionsAll("defaultedTooltip"),o=i.length,s=t.getRawValue(n),l=Te(s),u=B$(t,n),c,d,h,p;if(o>1||l&&!o){var f=U$(s,t,n,i,u);c=f.inlineValues,d=f.inlineValueTypes,h=f.blocks,p=f.inlineValues[0]}else if(o){var g=r.getDimensionInfo(i[0]);p=c=Yi(r,n,i[0]),d=g.type}else p=c=l?s[0]:s;var v=M_(t),m=v&&t.name||"",y=r.getName(n),_=a?m:y;return ps("section",{header:m,noHeader:a||!v,sortParam:p,blocks:[ps("nameValue",{markerType:"item",markerColor:u,name:_,noName:!ea(_),value:c,valueType:d})].concat(h||[])})}function U$(e,t,n,a,r){var i=t.getData(),o=Ki(e,function(d,h,p){var f=i.getDimensionInfo(p);return d=d||f&&f.tooltip!==!1&&f.displayName!=null},!1),s=[],l=[],u=[];a.length?R(a,function(d){c(Yi(i,n,d),d)}):R(e,c);function c(d,h){var p=i.getDimensionInfo(h);!p||p.otherDims.tooltip===!1||(o?u.push(ps("nameValue",{markerType:"subItem",markerColor:r,name:p.displayName,value:d,valueType:p.type})):(s.push(d),l.push(p.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Ra=At();function il(e,t){return e.getName(t)||e.getId(t)}var $l="__universalTransitionEnabled",ec=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return t.prototype.init=function(n,a,r){this.seriesIndex=this.componentIndex,this.dataTask=Wo({count:F$,reset:H$}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,r);var i=Ra(this).sourceManager=new I$(this);i.prepareSource();var o=this.getInitialData(n,r);Hg(o,this),this.dataTask.context.data=o,Ra(this).dataBeforeProcessed=o,Fg(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(n,a){var r=cs(this),i=r?ju(n):{},o=this.subType;wt.hasClass(o)&&(o+="Series"),tt(n,a.getTheme().get(this.subType)),tt(n,this.getDefaultOption()),xv(n,"label",["show"]),this.fillDataTextStyle(n.data),r&&ds(n,i,r)},t.prototype.mergeOption=function(n,a){n=tt(this.option,n,!0),this.fillDataTextStyle(n.data);var r=cs(this);r&&ds(this.option,n,r);var i=Ra(this).sourceManager;i.dirty(),i.prepareSource();var o=this.getInitialData(n,a);Hg(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Ra(this).dataBeforeProcessed=o,Fg(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(n){if(n&&!xn(n))for(var a=["show"],r=0;r<n.length;r++)n[r]&&n[r].label&&xv(n[r],"label",a)},t.prototype.getInitialData=function(n,a){},t.prototype.appendData=function(n){var a=this.getRawData();a.appendData(n.data)},t.prototype.getData=function(n){var a=Ah(this);if(a){var r=a.context.data;return n==null?r:r.getLinkedData(n)}else return Ra(this).data},t.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},t.prototype.setData=function(n){var a=Ah(this);if(a){var r=a.context;r.outputData=n,a!==this.dataTask&&(r.data=n)}Ra(this).data=n},t.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return Ve(n)},t.prototype.getSourceManager=function(){return Ra(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Ra(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},t.prototype.formatTooltip=function(n,a,r){return $$({series:this,dataIndex:n,multipleSeries:a})},t.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(Je.node&&!(n&&n.ssr))return!1;var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),!!a},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(n,a,r){var i=this.ecModel,o=zp.prototype.getColorFromPalette.call(this,n,a,r);return o||(o=i.getColorFromPalette(n,a,r)),o},t.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(n,a){this._innerSelect(this.getData(a),n)},t.prototype.unselect=function(n,a){var r=this.option.selectedMap;if(r){var i=this.option.selectedMode,o=this.getData(a);if(i==="series"||r==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<n.length;s++){var l=n[s],u=il(o,l);r[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(n,a){for(var r=[],i=0;i<n.length;i++)r[0]=n[i],this.isSelected(n[i],a)?this.unselect(r,a):this.select(r,a)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,a=Dt(n),r=[],i=0;i<a.length;i++){var o=n[a[i]];o>=0&&r.push(o)}return r},t.prototype.isSelected=function(n,a){var r=this.option.selectedMap;if(!r)return!1;var i=this.getData(a);return(r==="all"||r[il(i,n)])&&!i.getItemModel(n).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[$l])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},t.prototype._innerSelect=function(n,a){var r,i,o=this.option,s=o.selectedMode,l=a.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){$e(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var d=a[c],h=il(n,d);u[h]=!0,this._selectedDataIndicesMap[h]=n.getRawIndex(d)}}else if(s==="single"||s===!0){var p=a[l-1],h=il(n,p);o.selectedMap=(r={},r[h]=!0,r),this._selectedDataIndicesMap=(i={},i[h]=n.getRawIndex(p),i)}}},t.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var a=[];n.hasItemOption&&n.each(function(r){var i=n.getRawDataItem(r);i&&i.selected&&a.push(r)}),a.length>0&&this._innerSelect(n,a)}},t.registerClass=function(n){return wt.registerClass(n)},t.protoInitialize=function(){var n=t.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),t}(wt);ua(ec,p$);ua(ec,zp);O_(ec,wt);function Fg(e){var t=e.name;M_(e)||(e.name=G$(e)||t)}function G$(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),a=[];return R(n,function(r){var i=t.getDimensionInfo(r);i.displayName&&a.push(i.displayName)}),a.join(" ")}function F$(e){return e.model.getRawData().count()}function H$(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),V$}function V$(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Hg(e,t){R(FR(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(n){e.wrapMethod(n,_t(Y$,t))})}function Y$(e,t){var n=Ah(e);return n&&n.setOutputEnd((t||this).count()),t}function Ah(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var a=n.currentTask;if(a){var r=a.agentStubMap;r&&(a=r.get(e.uid))}return a}}const zr=ec;var jp=function(){function e(){this.group=new $t,this.uid=Is("viewComponent")}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,a,r){},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,a,r){},e.prototype.updateLayout=function(t,n,a,r){},e.prototype.updateVisual=function(t,n,a,r){},e.prototype.toggleBlurSeries=function(t,n,a){},e.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},e}();Ep(jp);Lu(jp);const la=jp;function Jp(){var e=At();return function(t){var n=e(t),a=t.pipelineContext,r=!!n.large,i=!!n.progressiveRender,o=n.large=!!(a&&a.large),s=n.progressiveRender=!!(a&&a.progressiveRender);return(r!==o||i!==s)&&"reset"}}var _1=At(),z$=Jp(),Qp=function(){function e(){this.group=new $t,this.uid=Is("viewChart"),this.renderTask=Wo({plan:W$,reset:q$}),this.renderTask.context={view:this}}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,a,r){},e.prototype.highlight=function(t,n,a,r){var i=t.getData(r&&r.dataType);i&&Yg(i,r,"emphasis")},e.prototype.downplay=function(t,n,a,r){var i=t.getData(r&&r.dataType);i&&Yg(i,r,"normal")},e.prototype.remove=function(t,n){this.group.removeAll()},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,a,r){this.render(t,n,a,r)},e.prototype.updateLayout=function(t,n,a,r){this.render(t,n,a,r)},e.prototype.updateVisual=function(t,n,a,r){this.render(t,n,a,r)},e.prototype.eachRendered=function(t){Fu(this.group,t)},e.markUpdateMethod=function(t,n){_1(t).updateMethod=n},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function Vg(e,t,n){e&&yh(e)&&(t==="emphasis"?Hi:Vi)(e,n)}function Yg(e,t,n){var a=Fr(e,t),r=t&&t.highlightKey!=null?aN(t.highlightKey):null;a!=null?R(Lt(a),function(i){Vg(e.getItemGraphicEl(i),n,r)}):e.eachItemGraphicEl(function(i){Vg(i,n,r)})}Ep(Qp);Lu(Qp);function W$(e){return z$(e.model)}function q$(e){var t=e.model,n=e.ecModel,a=e.api,r=e.payload,i=t.pipelineContext.progressiveRender,o=e.view,s=r&&_1(r).updateMethod,l=i?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](t,n,a,r),Z$[l]}var Z$={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};const Ea=Qp;var su="\0__throttleOriginMethod",zg="\0__throttleRate",Wg="\0__throttleType";function tc(e,t,n){var a,r=0,i=0,o=null,s,l,u,c;t=t||0;function d(){i=new Date().getTime(),o=null,e.apply(l,u||[])}var h=function(){for(var p=[],f=0;f<arguments.length;f++)p[f]=arguments[f];a=new Date().getTime(),l=this,u=p;var g=c||t,v=c||n;c=null,s=a-(v?r:i)-g,clearTimeout(o),v?o=setTimeout(d,g):s>=0?d():o=setTimeout(d,-s),r=a};return h.clear=function(){o&&(clearTimeout(o),o=null)},h.debounceNextCall=function(p){c=p},h}function nc(e,t,n,a){var r=e[t];if(r){var i=r[su]||r,o=r[Wg],s=r[zg];if(s!==n||o!==a){if(n==null||!a)return e[t]=i;r=e[t]=tc(i,n,a==="debounce"),r[su]=i,r[Wg]=a,r[zg]=n}return r}}function lu(e,t){var n=e[t];n&&n[su]&&(n.clear&&n.clear(),e[t]=n[su])}var qg=At(),Zg={itemStyle:is(RC,!0),lineStyle:is(LC,!0)},K$={lineStyle:"stroke",itemStyle:"fill"};function C1(e,t){var n=e.visualStyleMapper||Zg[t];return n||(console.warn("Unknown style type '"+t+"'."),Zg.itemStyle)}function w1(e,t){var n=e.visualDrawType||K$[t];return n||(console.warn("Unknown style type '"+t+"'."),"fill")}var X$={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),a=e.visualStyleAccessPath||"itemStyle",r=e.getModel(a),i=C1(e,a),o=i(r),s=r.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=w1(e,a),u=o[l],c=We(u)?u:null,d=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||d){var h=e.getColorFromPalette(e.name,null,t.getSeriesCount());o[l]||(o[l]=h,n.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||We(o.fill)?h:o.fill,o.stroke=o.stroke==="auto"||We(o.stroke)?h:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",l),!t.isSeriesFiltered(e)&&c)return n.setVisual("colorFromPalette",!1),{dataEach:function(p,f){var g=e.getDataParams(f),v=_e({},o);v[l]=c(g),p.setItemVisual(f,"style",v)}}}},vo=new Xt,j$={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var n=e.getData(),a=e.visualStyleAccessPath||"itemStyle",r=C1(e,a),i=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[a]){vo.option=l[a];var u=r(vo),c=o.ensureUniqueItemVisual(s,"style");_e(c,u),vo.option.decal&&(o.setItemVisual(s,"decal",vo.option.decal),vo.option.decal.dirty=!0),i in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},J$={performRawSeries:!0,overallReset:function(e){var t=Ve();e.eachSeries(function(n){var a=n.getColorBy();if(!n.isColorBySeries()){var r=n.type+"-"+a,i=t.get(r);i||(i={},t.set(r,i)),qg(n).scope=i}}),e.eachSeries(function(n){if(!(n.isColorBySeries()||e.isSeriesFiltered(n))){var a=n.getRawData(),r={},i=n.getData(),o=qg(n).scope,s=n.visualStyleAccessPath||"itemStyle",l=w1(n,s);i.each(function(u){var c=i.getRawIndex(u);r[c]=u}),a.each(function(u){var c=r[u],d=i.getItemVisual(c,"colorFromPalette");if(d){var h=i.ensureUniqueItemVisual(c,"style"),p=a.getName(u)||u+"",f=a.count();h[l]=n.getColorFromPalette(p,o,f)}})}})}},ol=Math.PI;function Q$(e,t){t=t||{},Ke(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new $t,a=new St({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(a);var r=new nn({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),i=new St({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});n.add(i);var o;return t.showSpinner&&(o=new kp({shape:{startAngle:-ol/2,endAngle:-ol/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:ol*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:ol*3/2}).delay(300).start("circularInOut"),n.add(o)),n.resize=function(){var s=r.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),c=e.getHeight()/2;t.showSpinner&&o.setShape({cx:u,cy:c}),i.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),a.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var e8=function(){function e(t,n,a,r){this._stageTaskMap=Ve(),this.ecInstance=t,this.api=n,a=this._dataProcessorHandlers=a.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=a.concat(r)}return e.prototype.restoreData=function(t,n){t.restoreData(n),this._stageTaskMap.each(function(a){var r=a.overallTask;r&&r.dirty()})},e.prototype.getPerformArgs=function(t,n){if(t.__pipeline){var a=this._pipelineMap.get(t.__pipeline.id),r=a.context,i=!n&&a.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>a.blockIndex,o=i?a.step:null,s=r&&r.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,n){var a=this._pipelineMap.get(t.uid),r=t.getData(),i=r.count(),o=a.progressiveEnabled&&n.incrementalPrepareRender&&i>=a.threshold,s=t.get("large")&&i>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?i:null;t.pipelineContext=a.context={progressiveRender:o,modDataCount:l,large:s}},e.prototype.restorePipelines=function(t){var n=this,a=n._pipelineMap=Ve();t.eachSeries(function(r){var i=r.getProgressive(),o=r.uid;a.set(o,{id:o,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:i&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),n._pipe(r,r.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,n=this.api.getModel(),a=this.api;R(this._allHandlers,function(r){var i=t.get(r.uid)||t.set(r.uid,{}),o="";ia(!(r.reset&&r.overallReset),o),r.reset&&this._createSeriesStageTask(r,i,n,a),r.overallReset&&this._createOverallStageTask(r,i,n,a)},this)},e.prototype.prepareView=function(t,n,a,r){var i=t.renderTask,o=i.context;o.model=n,o.ecModel=a,o.api=r,i.__block=!t.incrementalPrepareRender,this._pipe(n,i)},e.prototype.performDataProcessorTasks=function(t,n){this._performStageTasks(this._dataProcessorHandlers,t,n,{block:!0})},e.prototype.performVisualTasks=function(t,n,a){this._performStageTasks(this._visualHandlers,t,n,a)},e.prototype._performStageTasks=function(t,n,a,r){r=r||{};var i=!1,o=this;R(t,function(l,u){if(!(r.visualType&&r.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),d=c.seriesTaskMap,h=c.overallTask;if(h){var p,f=h.agentStubMap;f.each(function(v){s(r,v)&&(v.dirty(),p=!0)}),p&&h.dirty(),o.updatePayload(h,a);var g=o.getPerformArgs(h,r.block);f.each(function(v){v.perform(g)}),h.perform(g)&&(i=!0)}else d&&d.each(function(v,m){s(r,v)&&v.dirty();var y=o.getPerformArgs(v,r.block);y.skip=!l.performRawSeries&&n.isSeriesFiltered(v.context.model),o.updatePayload(v,a),v.perform(y)&&(i=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=i||this.unfinished},e.prototype.performSeriesTasks=function(t){var n;t.eachSeries(function(a){n=a.dataTask.perform()||n}),this.unfinished=n||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var n=t.tail;do{if(n.__block){t.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},e.prototype.updatePayload=function(t,n){n!=="remain"&&(t.context.payload=n)},e.prototype._createSeriesStageTask=function(t,n,a,r){var i=this,o=n.seriesTaskMap,s=n.seriesTaskMap=Ve(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?a.eachRawSeries(c):l?a.eachRawSeriesByType(l,c):u&&u(a,r).each(c);function c(d){var h=d.uid,p=s.set(h,o&&o.get(h)||Wo({plan:i8,reset:o8,count:l8}));p.context={model:d,ecModel:a,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:i},i._pipe(d,p)}},e.prototype._createOverallStageTask=function(t,n,a,r){var i=this,o=n.overallTask=n.overallTask||Wo({reset:t8});o.context={ecModel:a,api:r,overallReset:t.overallReset,scheduler:i};var s=o.agentStubMap,l=o.agentStubMap=Ve(),u=t.seriesType,c=t.getTargetSeries,d=!0,h=!1,p="";ia(!t.createOnAllSeries,p),u?a.eachRawSeriesByType(u,f):c?c(a,r).each(f):(d=!1,R(a.getSeries(),f));function f(g){var v=g.uid,m=l.set(v,s&&s.get(v)||(h=!0,Wo({reset:n8,onDirty:r8})));m.context={model:g,overallProgress:d},m.agent=o,m.__block=d,i._pipe(g,m)}h&&o.dirty()},e.prototype._pipe=function(t,n){var a=t.uid,r=this._pipelineMap.get(a);!r.head&&(r.head=n),r.tail&&r.tail.pipe(n),r.tail=n,n.__idxInPipeline=r.count++,n.__pipeline=r},e.wrapStageHandler=function(t,n){return We(t)&&(t={overallReset:t,seriesType:u8(t)}),t.uid=Is("stageHandler"),n&&(t.visualType=n),t},e}();function t8(e){e.overallReset(e.ecModel,e.api,e.payload)}function n8(e){return e.overallProgress&&a8}function a8(){this.agent.dirty(),this.getDownstream().dirty()}function r8(){this.agent&&this.agent.dirty()}function i8(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function o8(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Lt(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?Re(t,function(n,a){return x1(a)}):s8}var s8=x1(0);function x1(e){return function(t,n){var a=n.data,r=n.resetDefines[e];if(r&&r.dataEach)for(var i=t.start;i<t.end;i++)r.dataEach(a,i);else r&&r.progress&&r.progress(t,a)}}function l8(e){return e.data.count()}function u8(e){uu=null;try{e(fs,E1)}catch{}return uu}var fs={},E1={},uu;b1(fs,e1);b1(E1,t1);fs.eachSeriesByType=fs.eachRawSeriesByType=function(e){uu=e};fs.eachComponent=function(e){e.mainType==="series"&&e.subType&&(uu=e.subType)};function b1(e,t){for(var n in t.prototype)e[n]=tn}const S1=e8;var Kg=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const c8={color:Kg,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Kg]};var jt="#B9B8CE",Xg="#100C2A",sl=function(){return{axisLine:{lineStyle:{color:jt}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},jg=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],D1={darkMode:!0,color:jg,backgroundColor:Xg,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:jt}},textStyle:{color:jt},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:jt}},dataZoom:{borderColor:"#71708A",textStyle:{color:jt},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:jt}},timeline:{lineStyle:{color:jt},label:{color:jt},controlStyle:{color:jt,borderColor:jt}},calendar:{itemStyle:{color:Xg},dayLabel:{color:jt},monthLabel:{color:jt},yearLabel:{color:jt}},timeAxis:sl(),logAxis:sl(),valueAxis:sl(),categoryAxis:sl(),line:{symbol:"circle"},graph:{color:jg},gauge:{title:{color:jt},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:jt},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};D1.categoryAxis.splitLine.show=!1;const d8=D1;var h8=function(){function e(){}return e.prototype.normalizeQuery=function(t){var n={},a={},r={};if(Oe(t)){var i=ta(t);n.mainType=i.main||null,n.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};R(t,function(l,u){for(var c=!1,d=0;d<o.length;d++){var h=o[d],p=u.lastIndexOf(h);if(p>0&&p===u.length-h.length){var f=u.slice(0,p);f!=="data"&&(n.mainType=f,n[h.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(a[u]=l,c=!0),c||(r[u]=l)})}return{cptQuery:n,dataQuery:a,otherQuery:r}},e.prototype.filter=function(t,n){var a=this.eventInfo;if(!a)return!0;var r=a.targetEl,i=a.packedEvent,o=a.model,s=a.view;if(!o||!s)return!0;var l=n.cptQuery,u=n.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,i,"name")&&c(u,i,"dataIndex")&&c(u,i,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,n.otherQuery,r,i));function c(d,h,p,f){return d[p]==null||h[f||p]===d[p]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),kh=["symbol","symbolSize","symbolRotate","symbolOffset"],Jg=kh.concat(["symbolKeepAspect"]),p8={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var a={},r={},i=!1,o=0;o<kh.length;o++){var s=kh[o],l=e.get(s);We(l)?(i=!0,r[s]=l):a[s]=l}if(a.symbol=a.symbol||e.defaultSymbol,n.setVisual(_e({legendIcon:e.legendIcon||a.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},a)),t.isSeriesFiltered(e))return;var u=Dt(r);function c(d,h){for(var p=e.getRawValue(h),f=e.getDataParams(h),g=0;g<u.length;g++){var v=u[g];d.setItemVisual(h,v,r[v](p,f))}}return{dataEach:i?c:null}}},f8={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var n=e.getData();function a(r,i){for(var o=r.getItemModel(i),s=0;s<Jg.length;s++){var l=Jg[s],u=o.getShallow(l,!0);u!=null&&r.setItemVisual(i,l,u)}}return{dataEach:n.hasItemOption?a:null}}};function v8(e,t,n){switch(n){case"color":var a=e.getItemVisual(t,"style");return a[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n)}}function g8(e,t){switch(t){case"color":var n=e.getVisual("style");return n[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function mi(e,t,n,a,r){var i=e+t;n.isSilent(i)||a.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=r.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var d=o.getData(),h=Fr(d,r.fromActionPayload);n.trigger(i,{type:i,seriesId:o.id,name:Te(h)?d.getName(h[0]):d.getName(h),selected:Oe(l)?l:_e({},l)})}})}function m8(e,t,n){e.on("selectchanged",function(a){var r=n.getModel();a.isFromClick?(mi("map","selectchanged",t,r,a),mi("pie","selectchanged",t,r,a)):a.fromAction==="select"?(mi("map","selected",t,r,a),mi("pie","selected",t,r,a)):a.fromAction==="unselect"&&(mi("map","unselected",t,r,a),mi("pie","unselected",t,r,a))})}function No(e,t,n){for(var a;e&&!(t(e)&&(a=e,n));)e=e.__hostTarget||e.parent;return a}var y8=Math.round(Math.random()*9),_8=typeof Object.defineProperty=="function",C8=function(){function e(){this._id="__ec_inner_"+y8++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,n){var a=this._guard(t);return _8?Object.defineProperty(a,this._id,{value:n,enumerable:!1,configurable:!0}):a[this._id]=n,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}();const w8=C8;var x8=rt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,a=t.cy,r=t.width/2,i=t.height/2;e.moveTo(n,a-i),e.lineTo(n+r,a+i),e.lineTo(n-r,a+i),e.closePath()}}),E8=rt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,a=t.cy,r=t.width/2,i=t.height/2;e.moveTo(n,a-i),e.lineTo(n+r,a),e.lineTo(n,a+i),e.lineTo(n-r,a),e.closePath()}}),b8=rt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,a=t.y,r=t.width/5*3,i=Math.max(r,t.height),o=r/2,s=o*o/(i-o),l=a-i+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,d=Math.sin(u),h=Math.cos(u),p=o*.6,f=o*.7;e.moveTo(n-c,l+s),e.arc(n,l,o,Math.PI-u,Math.PI*2+u),e.bezierCurveTo(n+c-d*p,l+s+h*p,n,a-f,n,a),e.bezierCurveTo(n,a-f,n-c+d*p,l+s+h*p,n-c,l+s),e.closePath()}}),S8=rt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,a=t.width,r=t.x,i=t.y,o=a/3*2;e.moveTo(r,i),e.lineTo(r+o,i+n),e.lineTo(r,i+n/4*3),e.lineTo(r-o,i+n),e.lineTo(r,i),e.closePath()}}),D8={line:Vr,rect:St,roundRect:St,square:St,circle:Ap,diamond:E8,pin:b8,arrow:S8,triangle:x8},T8={line:function(e,t,n,a,r){r.x1=e,r.y1=t+a/2,r.x2=e+n,r.y2=t+a/2},rect:function(e,t,n,a,r){r.x=e,r.y=t,r.width=n,r.height=a},roundRect:function(e,t,n,a,r){r.x=e,r.y=t,r.width=n,r.height=a,r.r=Math.min(n,a)/4},square:function(e,t,n,a,r){var i=Math.min(n,a);r.x=e,r.y=t,r.width=i,r.height=i},circle:function(e,t,n,a,r){r.cx=e+n/2,r.cy=t+a/2,r.r=Math.min(n,a)/2},diamond:function(e,t,n,a,r){r.cx=e+n/2,r.cy=t+a/2,r.width=n,r.height=a},pin:function(e,t,n,a,r){r.x=e+n/2,r.y=t+a/2,r.width=n,r.height=a},arrow:function(e,t,n,a,r){r.x=e+n/2,r.y=t+a/2,r.width=n,r.height=a},triangle:function(e,t,n,a,r){r.cx=e+n/2,r.cy=t+a/2,r.width=n,r.height=a}},cu={};R(D8,function(e,t){cu[t]=new e});var I8=rt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var a=Jl(e,t,n),r=this.shape;return r&&r.symbolType==="pin"&&t.position==="inside"&&(a.y=n.y+n.height*.4),a},buildPath:function(e,t,n){var a=t.symbolType;if(a!=="none"){var r=cu[a];r||(a="rect",r=cu[a]),T8[a](t.x,t.y,t.width,t.height,r.shape),r.buildPath(e,r.shape,n)}}});function A8(e,t){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=e:n.fill=e,this.markRedraw()}}function Wr(e,t,n,a,r,i,o){var s=e.indexOf("empty")===0;s&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return e.indexOf("image://")===0?l=DC(e.slice(8),new st(t,n,a,r),o?"center":"cover"):e.indexOf("path://")===0?l=Rp(e.slice(7),{},new st(t,n,a,r),o?"center":"cover"):l=new I8({shape:{symbolType:e,x:t,y:n,width:a,height:r}}),l.__isEmptyBrush=s,l.setColor=A8,i&&l.setColor(i),l}function k8(e){return Te(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function T1(e,t){if(e!=null)return Te(e)||(e=[e,e]),[Ht(e[0],t[0])||0,Ht(ut(e[1],e[0]),t[1])||0]}function Ar(e){return isFinite(e)}function M8(e,t,n){var a=t.x==null?0:t.x,r=t.x2==null?1:t.x2,i=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(a=a*n.width+n.x,r=r*n.width+n.x,i=i*n.height+n.y,o=o*n.height+n.y),a=Ar(a)?a:0,r=Ar(r)?r:1,i=Ar(i)?i:0,o=Ar(o)?o:0;var s=e.createLinearGradient(a,i,r,o);return s}function L8(e,t,n){var a=n.width,r=n.height,i=Math.min(a,r),o=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(o=o*a+n.x,s=s*r+n.y,l=l*i),o=Ar(o)?o:.5,s=Ar(s)?s:.5,l=l>=0&&Ar(l)?l:.5;var u=e.createRadialGradient(o,s,0,o,s,l);return u}function Mh(e,t,n){for(var a=t.type==="radial"?L8(e,t,n):M8(e,t,n),r=t.colorStops,i=0;i<r.length;i++)a.addColorStop(r[i].offset,r[i].color);return a}function R8(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function ll(e){return parseInt(e,10)}function ul(e,t,n){var a=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(n[a]!=null&&n[a]!=="auto")return parseFloat(n[a]);var s=document.defaultView.getComputedStyle(e);return(e[r]||ll(s[a])||ll(e.style[a]))-(ll(s[i])||0)-(ll(s[o])||0)|0}function O8(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:bt(e)?[e]:Te(e)?e:null}function I1(e){var t=e.style,n=t.lineDash&&t.lineWidth>0&&O8(t.lineDash,t.lineWidth),a=t.lineDashOffset;if(n){var r=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;r&&r!==1&&(n=Re(n,function(i){return i/r}),a/=r)}return[n,a]}var P8=new Ja(!0);function du(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function Qg(e){return typeof e=="string"&&e!=="none"}function hu(e){var t=e.fill;return t!=null&&t!=="none"}function em(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function tm(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function Lh(e,t,n){var a=P_(t.image,t.__image,n);if(Ru(a)){var r=e.createPattern(a,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&r&&r.setTransform){var i=new DOMMatrix;i.translateSelf(t.x||0,t.y||0),i.rotateSelf(0,0,(t.rotation||0)*HR),i.scaleSelf(t.scaleX||1,t.scaleY||1),r.setTransform(i)}return r}}function N8(e,t,n,a){var r,i=du(n),o=hu(n),s=n.strokePercent,l=s<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||P8,d=t.__dirty;if(!a){var h=n.fill,p=n.stroke,f=o&&!!h.colorStops,g=i&&!!p.colorStops,v=o&&!!h.image,m=i&&!!p.image,y=void 0,_=void 0,w=void 0,E=void 0,x=void 0;(f||g)&&(x=t.getBoundingRect()),f&&(y=d?Mh(e,h,x):t.__canvasFillGradient,t.__canvasFillGradient=y),g&&(_=d?Mh(e,p,x):t.__canvasStrokeGradient,t.__canvasStrokeGradient=_),v&&(w=d||!t.__canvasFillPattern?Lh(e,h,t):t.__canvasFillPattern,t.__canvasFillPattern=w),m&&(E=d||!t.__canvasStrokePattern?Lh(e,p,t):t.__canvasStrokePattern,t.__canvasStrokePattern=w),f?e.fillStyle=y:v&&(w?e.fillStyle=w:o=!1),g?e.strokeStyle=_:m&&(E?e.strokeStyle=E:i=!1)}var S=t.getGlobalScale();c.setScale(S[0],S[1],t.segmentIgnoreThreshold);var b,D;e.setLineDash&&n.lineDash&&(r=I1(t),b=r[0],D=r[1]);var T=!0;(u||d&Ei)&&(c.setDPR(e.dpr),l?c.setContext(null):(c.setContext(e),T=!1),c.reset(),t.buildPath(c,t.shape,a),c.toStatic(),t.pathUpdated()),T&&c.rebuildPath(e,l?s:1),b&&(e.setLineDash(b),e.lineDashOffset=D),a||(n.strokeFirst?(i&&tm(e,n),o&&em(e,n)):(o&&em(e,n),i&&tm(e,n))),b&&e.setLineDash([])}function B8(e,t,n){var a=t.__image=P_(n.image,t.__image,t,t.onload);if(!(!a||!Ru(a))){var r=n.x||0,i=n.y||0,o=t.getWidth(),s=t.getHeight(),l=a.width/a.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=a.width,s=a.height),n.sWidth&&n.sHeight){var u=n.sx||0,c=n.sy||0;e.drawImage(a,u,c,n.sWidth,n.sHeight,r,i,o,s)}else if(n.sx&&n.sy){var u=n.sx,c=n.sy,d=o-u,h=s-c;e.drawImage(a,u,c,d,h,r,i,o,s)}else e.drawImage(a,r,i,o,s)}}function $8(e,t,n){var a,r=n.text;if(r!=null&&(r+=""),r){e.font=n.font||Ur,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var i=void 0,o=void 0;e.setLineDash&&n.lineDash&&(a=I1(t),i=a[0],o=a[1]),i&&(e.setLineDash(i),e.lineDashOffset=o),n.strokeFirst?(du(n)&&e.strokeText(r,n.x,n.y),hu(n)&&e.fillText(r,n.x,n.y)):(hu(n)&&e.fillText(r,n.x,n.y),du(n)&&e.strokeText(r,n.x,n.y)),i&&e.setLineDash([])}}var nm=["shadowBlur","shadowOffsetX","shadowOffsetY"],am=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function A1(e,t,n,a,r){var i=!1;if(!a&&(n=n||{},t===n))return!1;if(a||t.opacity!==n.opacity){cn(e,r),i=!0;var o=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(o)?Lr.opacity:o}(a||t.blend!==n.blend)&&(i||(cn(e,r),i=!0),e.globalCompositeOperation=t.blend||Lr.blend);for(var s=0;s<nm.length;s++){var l=nm[s];(a||t[l]!==n[l])&&(i||(cn(e,r),i=!0),e[l]=e.dpr*(t[l]||0))}return(a||t.shadowColor!==n.shadowColor)&&(i||(cn(e,r),i=!0),e.shadowColor=t.shadowColor||Lr.shadowColor),i}function rm(e,t,n,a,r){var i=vs(t,r.inHover),o=a?null:n&&vs(n,r.inHover)||{};if(i===o)return!1;var s=A1(e,i,o,a,r);if((a||i.fill!==o.fill)&&(s||(cn(e,r),s=!0),Qg(i.fill)&&(e.fillStyle=i.fill)),(a||i.stroke!==o.stroke)&&(s||(cn(e,r),s=!0),Qg(i.stroke)&&(e.strokeStyle=i.stroke)),(a||i.opacity!==o.opacity)&&(s||(cn(e,r),s=!0),e.globalAlpha=i.opacity==null?1:i.opacity),t.hasStroke()){var l=i.lineWidth,u=l/(i.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(s||(cn(e,r),s=!0),e.lineWidth=u)}for(var c=0;c<am.length;c++){var d=am[c],h=d[0];(a||i[h]!==o[h])&&(s||(cn(e,r),s=!0),e[h]=i[h]||d[1])}return s}function U8(e,t,n,a,r){return A1(e,vs(t,r.inHover),n&&vs(n,r.inHover),a,r)}function k1(e,t){var n=t.transform,a=e.dpr||1;n?e.setTransform(a*n[0],a*n[1],a*n[2],a*n[3],a*n[4],a*n[5]):e.setTransform(a,0,0,a,0,0)}function G8(e,t,n){for(var a=!1,r=0;r<e.length;r++){var i=e[r];a=a||i.isZeroArea(),k1(t,i),t.beginPath(),i.buildPath(t,i.shape),t.clip()}n.allClipped=a}function F8(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var im=1,om=2,sm=3,lm=4;function H8(e){var t=hu(e),n=du(e);return!(e.lineDash||!(+t^+n)||t&&typeof e.fill!="string"||n&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function cn(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function vs(e,t){return t&&e.__hoverStyle||e.style}function M1(e,t){kr(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function kr(e,t,n,a){var r=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){t.__dirty&=~Cn,t.__isRendered=!1;return}var i=t.__clipPaths,o=n.prevElClipPaths,s=!1,l=!1;if((!o||R8(i,o))&&(o&&o.length&&(cn(e,n),e.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),i&&i.length&&(cn(e,n),e.save(),G8(i,e,n),s=!0),n.prevElClipPaths=i),n.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=n.prevEl;u||(l=s=!0);var c=t instanceof rt&&t.autoBatch&&H8(t.style);s||F8(r,u.transform)?(cn(e,n),k1(e,t)):c||cn(e,n);var d=vs(t,n.inHover);t instanceof rt?(n.lastDrawType!==im&&(l=!0,n.lastDrawType=im),rm(e,t,u,l,n),(!c||!n.batchFill&&!n.batchStroke)&&e.beginPath(),N8(e,t,d,c),c&&(n.batchFill=d.fill||"",n.batchStroke=d.stroke||"")):t instanceof fh?(n.lastDrawType!==sm&&(l=!0,n.lastDrawType=sm),rm(e,t,u,l,n),$8(e,t,d)):t instanceof jr?(n.lastDrawType!==om&&(l=!0,n.lastDrawType=om),U8(e,t,u,l,n),B8(e,t,d)):t.getTemporalDisplayables&&(n.lastDrawType!==lm&&(l=!0,n.lastDrawType=lm),V8(e,t,n)),c&&a&&cn(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}function V8(e,t,n){var a=t.getDisplayables(),r=t.getTemporalDisplayables();e.save();var i={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},o,s;for(o=t.getCursor(),s=a.length;o<s;o++){var l=a[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),kr(e,l,i,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}for(var u=0,c=r.length;u<c;u++){var l=r[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),kr(e,l,i,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var od=new w8,um=new bs(100),cm=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function dm(e,t){if(e==="none")return null;var n=t.getDevicePixelRatio(),a=t.getZr(),r=a.painter.type==="svg";e.dirty&&od.delete(e);var i=od.get(e);if(i)return i;var o=Ke(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=r?1:1/n,od.set(e,s),e.dirty=!1,s;function l(u){for(var c=[n],d=!0,h=0;h<cm.length;++h){var p=o[cm[h]];if(p!=null&&!Te(p)&&!Oe(p)&&!bt(p)&&typeof p!="boolean"){d=!1;break}c.push(p)}var f;if(d){f=c.join(",")+(r?"-svg":"");var g=um.get(f);g&&(r?u.svgElement=g:u.image=g)}var v=R1(o.dashArrayX),m=Y8(o.dashArrayY),y=L1(o.symbol),_=z8(v),w=O1(m),E=!r&&Zi.createCanvas(),x=r&&{tag:"g",attrs:{},key:"dcl",children:[]},S=D(),b;E&&(E.width=S.width*n,E.height=S.height*n,b=E.getContext("2d")),T(),d&&um.put(f,E||x),u.image=E,u.svgElement=x,u.svgWidth=S.width,u.svgHeight=S.height;function D(){for(var A=1,L=0,P=_.length;L<P;++L)A=Cv(A,_[L]);for(var N=1,L=0,P=y.length;L<P;++L)N=Cv(N,y[L].length);A*=N;var B=w*_.length*y.length;return{width:Math.max(1,Math.min(A,o.maxTileWidth)),height:Math.max(1,Math.min(B,o.maxTileHeight))}}function T(){b&&(b.clearRect(0,0,E.width,E.height),o.backgroundColor&&(b.fillStyle=o.backgroundColor,b.fillRect(0,0,E.width,E.height)));for(var A=0,L=0;L<m.length;++L)A+=m[L];if(A<=0)return;for(var P=-w,N=0,B=0,K=0;P<S.height;){if(N%2===0){for(var ce=B/2%y.length,$=0,W=0,ae=0;$<S.width*2;){for(var Z=0,L=0;L<v[K].length;++L)Z+=v[K][L];if(Z<=0)break;if(W%2===0){var ne=(1-o.symbolSize)*.5,Y=$+v[K][W]*ne,q=P+m[N]*ne,ie=v[K][W]*o.symbolSize,te=m[N]*o.symbolSize,X=ae/2%y[ce].length;j(Y,q,ie,te,y[ce][X])}$+=v[K][W],++ae,++W,W===v[K].length&&(W=0)}++K,K===v.length&&(K=0)}P+=m[N],++B,++N,N===m.length&&(N=0)}function j(J,z,F,V,ue){var de=r?1:n,Ce=Wr(ue,J*de,z*de,F*de,V*de,o.color,o.symbolKeepAspect);if(r){var Tt=a.painter.renderOneToVNode(Ce);Tt&&x.children.push(Tt)}else M1(b,Ce)}}}}function L1(e){if(!e||e.length===0)return[["rect"]];if(Oe(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!Oe(e[n])){t=!1;break}if(t)return L1([e]);for(var a=[],n=0;n<e.length;++n)Oe(e[n])?a.push([e[n]]):a.push(e[n]);return a}function R1(e){if(!e||e.length===0)return[[0,0]];if(bt(e)){var t=Math.ceil(e);return[[t,t]]}for(var n=!0,a=0;a<e.length;++a)if(!bt(e[a])){n=!1;break}if(n)return R1([e]);for(var r=[],a=0;a<e.length;++a)if(bt(e[a])){var t=Math.ceil(e[a]);r.push([t,t])}else{var t=Re(e[a],function(s){return Math.ceil(s)});t.length%2===1?r.push(t.concat(t)):r.push(t)}return r}function Y8(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(bt(e)){var t=Math.ceil(e);return[t,t]}var n=Re(e,function(a){return Math.ceil(a)});return e.length%2?n.concat(n):n}function z8(e){return Re(e,function(t){return O1(t)})}function O1(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?t*2:t}function W8(e,t){e.eachRawSeries(function(n){if(!e.isSeriesFiltered(n)){var a=n.getData();a.hasItemVisual()&&a.each(function(o){var s=a.getItemVisual(o,"decal");if(s){var l=a.ensureUniqueItemVisual(o,"style");l.decal=dm(s,t)}});var r=a.getVisual("decal");if(r){var i=a.getVisual("style");i.decal=dm(r,t)}}})}var q8=new Pn;const Vn=q8;var P1={};function Z8(e,t){P1[e]=t}function K8(e){return P1[e]}var X8=1,j8=800,J8=900,Q8=1e3,e4=2e3,t4=5e3,N1=1e3,n4=1100,ef=2e3,B1=3e3,a4=4e3,ac=4500,r4=4600,i4=5e3,o4=6e3,$1=7e3,s4={PROCESSOR:{FILTER:Q8,SERIES_FILTER:j8,STATISTIC:t4},VISUAL:{LAYOUT:N1,PROGRESSIVE_LAYOUT:n4,GLOBAL:ef,CHART:B1,POST_CHART_LAYOUT:r4,COMPONENT:a4,BRUSH:i4,CHART_ITEM:ac,ARIA:o4,DECAL:$1}},zt="__flagInMainProcess",on="__pendingUpdate",sd="__needsUpdateStatus",hm=/^[a-zA-Z0-9_]+$/,ld="__connectUpdateStatus",pm=0,l4=1,u4=2;function U1(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isDisposed()){this.id;return}return F1(this,e,t)}}function G1(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return F1(this,e,t)}}function F1(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),Pn.prototype[t].apply(e,n)}var H1=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Pn),V1=H1.prototype;V1.on=G1("on");V1.off=G1("off");var yi,ud,cl,Oa,cd,dd,hd,go,mo,fm,vm,pd,gm,dl,mm,Y1,En,ym,z1=function(e){Pe(t,e);function t(n,a,r){var i=e.call(this,new h8)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],r=r||{},Oe(a)&&(a=W1[a]),i._dom=n;var o="canvas",s="auto",l=!1,u=i._zr=yv(n,{renderer:r.renderer||o,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:ut(r.useDirtyRect,l),useCoarsePointer:ut(r.useCoarsePointer,s),pointerSize:r.pointerSize});i._ssr=r.ssr,i._throttledZrFlush=tc(Ye(u.flush,u),17),a=qe(a),a&&a1(a,!0),i._theme=a,i._locale=fB(r.locale||OC),i._coordSysMgr=new Wp;var c=i._api=mm(i);function d(h,p){return h.__prio-p.__prio}return Dl(fu,d),Dl(Rh,d),i._scheduler=new S1(i,c,Rh,fu),i._messageCenter=new H1,i._initEvents(),i.resize=Ye(i.resize,i),u.animation.on("frame",i._onframe,i),fm(u,i),vm(u,i),Wd(i),i}return t.prototype._onframe=function(){if(!this._disposed){ym(this);var n=this._scheduler;if(this[on]){var a=this[on].silent;this[zt]=!0;try{yi(this),Oa.update.call(this,null,this[on].updateParams)}catch(l){throw this[zt]=!1,this[on]=null,l}this._zr.flush(),this[zt]=!1,this[on]=null,go.call(this,a),mo.call(this,a)}else if(n.unfinished){var r=X8,i=this._model,o=this._api;n.unfinished=!1;do{var s=+new Date;n.performSeriesTasks(i),n.performDataProcessorTasks(i),dd(this,i),n.performVisualTasks(i),dl(this,this._model,o,"remain",{}),r-=+new Date-s}while(r>0&&n.unfinished);n.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(n,a,r){if(!this[zt]){if(this._disposed){this.id;return}var i,o,s;if($e(a)&&(r=a.lazyUpdate,i=a.silent,o=a.replaceMerge,s=a.transition,a=a.notMerge),this[zt]=!0,!this._model||a){var l=new XB(this._api),u=this._theme,c=this._model=new e1;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(n,{replaceMerge:o},Oh);var d={seriesTransition:s,optionChanged:!0};if(r)this[on]={silent:i,updateParams:d},this[zt]=!1,this.getZr().wakeUp();else{try{yi(this),Oa.update.call(this,null,d)}catch(h){throw this[on]=null,this[zt]=!1,h}this._ssr||this._zr.flush(),this[on]=null,this[zt]=!1,go.call(this,i),mo.call(this,i)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Je.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},t.prototype.renderToCanvas=function(n){n=n||{};var a=this._zr.painter;return a.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(n){n=n||{};var a=this._zr.painter;return a.renderToString({useViewBox:n.useViewBox})},t.prototype.getSvgDataURL=function(){if(Je.svgSupported){var n=this._zr,a=n.storage.getDisplayList();return R(a,function(r){r.stopAnimation(null,!0)}),n.painter.toDataURL()}},t.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var a=n.excludeComponents,r=this._model,i=[],o=this;R(a,function(l){r.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(i.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return R(i,function(l){l.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var a=n.type==="svg",r=this.group,i=Math.min,o=Math.max,s=1/0;if(_m[r]){var l=s,u=s,c=-s,d=-s,h=[],p=n&&n.pixelRatio||this.getDevicePixelRatio();R(Zo,function(_,w){if(_.group===r){var E=a?_.getZr().painter.getSvgDom().innerHTML:_.renderToCanvas(qe(n)),x=_.getDom().getBoundingClientRect();l=i(x.left,l),u=i(x.top,u),c=o(x.right,c),d=o(x.bottom,d),h.push({dom:E,left:x.left,top:x.top})}}),l*=p,u*=p,c*=p,d*=p;var f=c-l,g=d-u,v=Zi.createCanvas(),m=yv(v,{renderer:a?"svg":"canvas"});if(m.resize({width:f,height:g}),a){var y="";return R(h,function(_){var w=_.left-l,E=_.top-u;y+='<g transform="translate('+w+","+E+')">'+_.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=y,n.connectedBackgroundColor&&m.painter.setBackgroundColor(n.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return n.connectedBackgroundColor&&m.add(new St({shape:{x:0,y:0,width:f,height:g},style:{fill:n.connectedBackgroundColor}})),R(h,function(_){var w=new jr({style:{x:_.left*p-l,y:_.top*p-u,image:_.dom}});m.add(w)}),m.refreshImmediately(),v.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},t.prototype.convertToPixel=function(n,a){return cd(this,"convertToPixel",n,a)},t.prototype.convertFromPixel=function(n,a){return cd(this,"convertFromPixel",n,a)},t.prototype.containPixel=function(n,a){if(this._disposed){this.id;return}var r=this._model,i,o=Go(r,n);return R(o,function(s,l){l.indexOf("Models")>=0&&R(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)i=i||!!c.containPoint(a);else if(l==="seriesModels"){var d=this._chartsMap[u.__viewId];d&&d.containPoint&&(i=i||d.containPoint(a,u))}},this)},this),!!i},t.prototype.getVisual=function(n,a){var r=this._model,i=Go(r,n,{defaultMainType:"series"}),o=i.seriesModel,s=o.getData(),l=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?s.indexOfRawIndex(i.dataIndex):null;return l!=null?v8(s,l,a):g8(s,a)},t.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},t.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},t.prototype._initEvents=function(){var n=this;R(c4,function(a){var r=function(i){var o=n.getModel(),s=i.target,l,u=a==="globalout";if(u?l={}:s&&No(s,function(f){var g=vt(f);if(g&&g.dataIndex!=null){var v=g.dataModel||o.getSeriesByIndex(g.seriesIndex);return l=v&&v.getDataParams(g.dataIndex,g.dataType)||{},!0}else if(g.eventData)return l=_e({},g.eventData),!0},!0),l){var c=l.componentType,d=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",d=l.seriesIndex);var h=c&&d!=null&&o.getComponent(c,d),p=h&&n[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];l.event=i,l.type=a,n._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:h,view:p},n.trigger(a,l)}};r.zrEventfulCallAtLast=!0,n._zr.on(a,r,n)}),R(qo,function(a,r){n._messageCenter.on(r,function(i){this.trigger(r,i)},n)}),R(["selectchanged"],function(a){n._messageCenter.on(a,function(r){this.trigger(a,r)},n)}),m8(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&L_(this.getDom(),nf,"");var a=this,r=a._api,i=a._model;R(a._componentsViews,function(o){o.dispose(i,r)}),R(a._chartsViews,function(o){o.dispose(i,r)}),a._zr.dispose(),a._dom=a._model=a._chartsMap=a._componentsMap=a._chartsViews=a._componentsViews=a._scheduler=a._api=a._zr=a._throttledZrFlush=a._theme=a._coordSysMgr=a._messageCenter=null,delete Zo[a.id]},t.prototype.resize=function(n){if(!this[zt]){if(this._disposed){this.id;return}this._zr.resize(n);var a=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!a){var r=a.resetOption("media"),i=n&&n.silent;this[on]&&(i==null&&(i=this[on].silent),r=!0,this[on]=null),this[zt]=!0;try{r&&yi(this),Oa.update.call(this,{type:"resize",animation:_e({duration:0},n&&n.animation)})}catch(o){throw this[zt]=!1,o}this[zt]=!1,go.call(this,i),mo.call(this,i)}}},t.prototype.showLoading=function(n,a){if(this._disposed){this.id;return}if($e(n)&&(a=n,n=""),n=n||"default",this.hideLoading(),!!Ph[n]){var r=Ph[n](this._api,a),i=this._zr;this._loadingFX=r,i.add(r)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(n){var a=_e({},n);return a.type=qo[n.type],a},t.prototype.dispatchAction=function(n,a){if(this._disposed){this.id;return}if($e(a)||(a={silent:!!a}),!!pu[n.type]&&this._model){if(this[zt]){this._pendingActions.push(n);return}var r=a.silent;hd.call(this,n,r);var i=a.flush;i?this._zr.flush():i!==!1&&Je.browser.weChat&&this._throttledZrFlush(),go.call(this,r),mo.call(this,r)}},t.prototype.updateLabelLayout=function(){Vn.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(n){if(this._disposed){this.id;return}var a=n.seriesIndex,r=this.getModel(),i=r.getSeriesByIndex(a);i.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){yi=function(d){var h=d._scheduler;h.restorePipelines(d._model),h.prepareStageTasks(),ud(d,!0),ud(d,!1),h.plan()},ud=function(d,h){for(var p=d._model,f=d._scheduler,g=h?d._componentsViews:d._chartsViews,v=h?d._componentsMap:d._chartsMap,m=d._zr,y=d._api,_=0;_<g.length;_++)g[_].__alive=!1;h?p.eachComponent(function(x,S){x!=="series"&&w(S)}):p.eachSeries(w);function w(x){var S=x.__requireNewView;x.__requireNewView=!1;var b="_ec_"+x.id+"_"+x.type,D=!S&&v[b];if(!D){var T=ta(x.type),A=h?la.getClass(T.main,T.sub):Ea.getClass(T.sub);D=new A,D.init(p,y),v[b]=D,g.push(D),m.add(D.group)}x.__viewId=D.__id=b,D.__alive=!0,D.__model=x,D.group.__ecComponentInfo={mainType:x.mainType,index:x.componentIndex},!h&&f.prepareView(D,x,p,y)}for(var _=0;_<g.length;){var E=g[_];E.__alive?_++:(!h&&E.renderTask.dispose(),m.remove(E.group),E.dispose(p,y),g.splice(_,1),v[E.__id]===E&&delete v[E.__id],E.__id=E.group.__ecComponentInfo=null)}},cl=function(d,h,p,f,g){var v=d._model;if(v.setUpdatePayload(p),!f){R([].concat(d._componentsViews).concat(d._chartsViews),E);return}var m={};m[f+"Id"]=p[f+"Id"],m[f+"Index"]=p[f+"Index"],m[f+"Name"]=p[f+"Name"];var y={mainType:f,query:m};g&&(y.subType=g);var _=p.excludeSeriesId,w;_!=null&&(w=Ve(),R(Lt(_),function(x){var S=aa(x,null);S!=null&&w.set(S,!0)})),v&&v.eachComponent(y,function(x){var S=w&&w.get(x.id)!=null;if(!S)if(jv(p))if(x instanceof zr)p.type===Rr&&!p.notBlur&&!x.get(["emphasis","disabled"])&&KP(x,p,d._api);else{var b=Tp(x.mainType,x.componentIndex,p.name,d._api),D=b.focusSelf,T=b.dispatchers;p.type===Rr&&D&&!p.notBlur&&gh(x.mainType,x.componentIndex,d._api),T&&R(T,function(A){p.type===Rr?Hi(A):Vi(A)})}else _h(p)&&x instanceof zr&&(JP(x,p,d._api),Kv(x),En(d))},d),v&&v.eachComponent(y,function(x){var S=w&&w.get(x.id)!=null;S||E(d[f==="series"?"_chartsMap":"_componentsMap"][x.__viewId])},d);function E(x){x&&x.__alive&&x[h]&&x[h](x.__model,v,d._api,p)}},Oa={prepareAndUpdate:function(d){yi(this),Oa.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,h){var p=this._model,f=this._api,g=this._zr,v=this._coordSysMgr,m=this._scheduler;if(p){p.setUpdatePayload(d),m.restoreData(p,d),m.performSeriesTasks(p),v.create(p,f),m.performDataProcessorTasks(p,d),dd(this,p),v.update(p,f),n(p),m.performVisualTasks(p,d),pd(this,p,f,d,h);var y=p.get("backgroundColor")||"transparent",_=p.get("darkMode");g.setBackgroundColor(y),_!=null&&_!=="auto"&&g.setDarkMode(_),Vn.trigger("afterupdate",p,f)}},updateTransform:function(d){var h=this,p=this._model,f=this._api;if(p){p.setUpdatePayload(d);var g=[];p.eachComponent(function(m,y){if(m!=="series"){var _=h.getViewOfComponentModel(y);if(_&&_.__alive)if(_.updateTransform){var w=_.updateTransform(y,p,f,d);w&&w.update&&g.push(_)}else g.push(_)}});var v=Ve();p.eachSeries(function(m){var y=h._chartsMap[m.__viewId];if(y.updateTransform){var _=y.updateTransform(m,p,f,d);_&&_.update&&v.set(m.uid,1)}else v.set(m.uid,1)}),n(p),this._scheduler.performVisualTasks(p,d,{setDirty:!0,dirtyMap:v}),dl(this,p,f,d,{},v),Vn.trigger("afterupdate",p,f)}},updateView:function(d){var h=this._model;h&&(h.setUpdatePayload(d),Ea.markUpdateMethod(d,"updateView"),n(h),this._scheduler.performVisualTasks(h,d,{setDirty:!0}),pd(this,h,this._api,d,{}),Vn.trigger("afterupdate",h,this._api))},updateVisual:function(d){var h=this,p=this._model;p&&(p.setUpdatePayload(d),p.eachSeries(function(f){f.getData().clearAllVisual()}),Ea.markUpdateMethod(d,"updateVisual"),n(p),this._scheduler.performVisualTasks(p,d,{visualType:"visual",setDirty:!0}),p.eachComponent(function(f,g){if(f!=="series"){var v=h.getViewOfComponentModel(g);v&&v.__alive&&v.updateVisual(g,p,h._api,d)}}),p.eachSeries(function(f){var g=h._chartsMap[f.__viewId];g.updateVisual(f,p,h._api,d)}),Vn.trigger("afterupdate",p,this._api))},updateLayout:function(d){Oa.update.call(this,d)}},cd=function(d,h,p,f){if(d._disposed){d.id;return}for(var g=d._model,v=d._coordSysMgr.getCoordinateSystems(),m,y=Go(g,p),_=0;_<v.length;_++){var w=v[_];if(w[h]&&(m=w[h](g,y,f))!=null)return m}},dd=function(d,h){var p=d._chartsMap,f=d._scheduler;h.eachSeries(function(g){f.updateStreamModes(g,p[g.__viewId])})},hd=function(d,h){var p=this,f=this.getModel(),g=d.type,v=d.escapeConnect,m=pu[g],y=m.actionInfo,_=(y.update||"update").split(":"),w=_.pop(),E=_[0]!=null&&ta(_[0]);this[zt]=!0;var x=[d],S=!1;d.batch&&(S=!0,x=Re(d.batch,function(N){return N=Ke(_e({},N),d),N.batch=null,N}));var b=[],D,T=_h(d),A=jv(d);if(A&&nC(this._api),R(x,function(N){if(D=m.action(N,p._model,p._api),D=D||_e({},N),D.type=y.event||D.type,b.push(D),A){var B=xp(d),K=B.queryOptionMap,ce=B.mainTypeSpecified,$=ce?K.keys()[0]:"series";cl(p,w,N,$),En(p)}else T?(cl(p,w,N,"series"),En(p)):E&&cl(p,w,N,E.main,E.sub)}),w!=="none"&&!A&&!T&&!E)try{this[on]?(yi(this),Oa.update.call(this,d),this[on]=null):Oa[w].call(this,d)}catch(N){throw this[zt]=!1,N}if(S?D={type:y.event||g,escapeConnect:v,batch:b}:D=b[0],this[zt]=!1,!h){var L=this._messageCenter;if(L.trigger(D.type,D),T){var P={type:"selectchanged",escapeConnect:v,selected:QP(f),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};L.trigger(P.type,P)}}},go=function(d){for(var h=this._pendingActions;h.length;){var p=h.shift();hd.call(this,p,d)}},mo=function(d){!d&&this.trigger("updated")},fm=function(d,h){d.on("rendered",function(p){h.trigger("rendered",p),d.animation.isFinished()&&!h[on]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},vm=function(d,h){d.on("mouseover",function(p){var f=p.target,g=No(f,yh);g&&(XP(g,p,h._api),En(h))}).on("mouseout",function(p){var f=p.target,g=No(f,yh);g&&(jP(g,p,h._api),En(h))}).on("click",function(p){var f=p.target,g=No(f,function(y){return vt(y).dataIndex!=null},!0);if(g){var v=g.selected?"unselect":"select",m=vt(g);h._api.dispatchAction({type:v,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function n(d){d.clearColorPalette(),d.eachSeries(function(h){h.clearColorPalette()})}function a(d){var h=[],p=[],f=!1;if(d.eachComponent(function(y,_){var w=_.get("zlevel")||0,E=_.get("z")||0,x=_.getZLevelKey();f=f||!!x,(y==="series"?p:h).push({zlevel:w,z:E,idx:_.componentIndex,type:y,key:x})}),f){var g=h.concat(p),v,m;Dl(g,function(y,_){return y.zlevel===_.zlevel?y.z-_.z:y.zlevel-_.zlevel}),R(g,function(y){var _=d.getComponent(y.type,y.idx),w=y.zlevel,E=y.key;v!=null&&(w=Math.max(v,w)),E?(w===v&&E!==m&&w++,m=E):m&&(w===v&&w++,m=""),v=w,_.setZLevel(w)})}}pd=function(d,h,p,f,g){a(h),gm(d,h,p,f,g),R(d._chartsViews,function(v){v.__alive=!1}),dl(d,h,p,f,g),R(d._chartsViews,function(v){v.__alive||v.remove(h,p)})},gm=function(d,h,p,f,g,v){R(v||d._componentsViews,function(m){var y=m.__model;u(y,m),m.render(y,h,p,f),s(y,m),c(y,m)})},dl=function(d,h,p,f,g,v){var m=d._scheduler;g=_e(g||{},{updatedSeries:h.getSeries()}),Vn.trigger("series:beforeupdate",h,p,g);var y=!1;h.eachSeries(function(_){var w=d._chartsMap[_.__viewId];w.__alive=!0;var E=w.renderTask;m.updatePayload(E,f),u(_,w),v&&v.get(_.uid)&&E.dirty(),E.perform(m.getPerformArgs(E))&&(y=!0),w.group.silent=!!_.get("silent"),o(_,w),Kv(_)}),m.unfinished=y||m.unfinished,Vn.trigger("series:layoutlabels",h,p,g),Vn.trigger("series:transition",h,p,g),h.eachSeries(function(_){var w=d._chartsMap[_.__viewId];s(_,w),c(_,w)}),i(d,h),Vn.trigger("series:afterupdate",h,p,g)},En=function(d){d[sd]=!0,d.getZr().wakeUp()},ym=function(d){d[sd]&&(d.getZr().storage.traverse(function(h){Yo(h)||r(h)}),d[sd]=!1)};function r(d){for(var h=[],p=d.currentStates,f=0;f<p.length;f++){var g=p[f];g==="emphasis"||g==="blur"||g==="select"||h.push(g)}d.selected&&d.states.select&&h.push("select"),d.hoverState===Nu&&d.states.emphasis?h.push("emphasis"):d.hoverState===Pu&&d.states.blur&&h.push("blur"),d.useStates(h)}function i(d,h){var p=d._zr,f=p.storage,g=0;f.traverse(function(v){v.isGroup||g++}),g>h.get("hoverLayerThreshold")&&!Je.node&&!Je.worker&&h.eachSeries(function(v){if(!v.preventUsingHoverLayer){var m=d._chartsMap[v.__viewId];m.__alive&&m.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function o(d,h){var p=d.get("blendMode")||null;h.eachRendered(function(f){f.isGroup||(f.style.blend=p)})}function s(d,h){if(!d.preventAutoZ){var p=d.get("z")||0,f=d.get("zlevel")||0;h.eachRendered(function(g){return l(g,p,f,-1/0),!0})}}function l(d,h,p,f){var g=d.getTextContent(),v=d.getTextGuideLine(),m=d.isGroup;if(m)for(var y=d.childrenRef(),_=0;_<y.length;_++)f=Math.max(l(y[_],h,p,f),f);else d.z=h,d.zlevel=p,f=Math.max(d.z2,f);if(g&&(g.z=h,g.zlevel=p,isFinite(f)&&(g.z2=f+2)),v){var w=d.textGuideLineConfig;v.z=h,v.zlevel=p,isFinite(f)&&(v.z2=f+(w&&w.showAbove?1:-1))}return f}function u(d,h){h.eachRendered(function(p){if(!Yo(p)){var f=p.getTextContent(),g=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),f&&f.stateTransition&&(f.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function c(d,h){var p=d.getModel("stateAnimation"),f=d.isAnimationEnabled(),g=p.get("duration"),v=g>0?{duration:g,delay:p.get("delay"),easing:p.get("easing")}:null;h.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Yo(m))return;if(m instanceof rt&&rN(m),m.__dirty){var y=m.prevStates;y&&m.useStates(y)}if(f){m.stateTransition=v;var _=m.getTextContent(),w=m.getTextGuideLine();_&&(_.stateTransition=v),w&&(w.stateTransition=v)}m.__dirty&&r(m)}})}mm=function(d){return new(function(h){Pe(p,h);function p(){return h!==null&&h.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(f){for(;f;){var g=f.__ecComponentInfo;if(g!=null)return d._model.getComponent(g.mainType,g.index);f=f.parent}},p.prototype.enterEmphasis=function(f,g){Hi(f,g),En(d)},p.prototype.leaveEmphasis=function(f,g){Vi(f,g),En(d)},p.prototype.enterBlur=function(f){ZP(f),En(d)},p.prototype.leaveBlur=function(f){J_(f),En(d)},p.prototype.enterSelect=function(f){Q_(f),En(d)},p.prototype.leaveSelect=function(f){eC(f),En(d)},p.prototype.getModel=function(){return d.getModel()},p.prototype.getViewOfComponentModel=function(f){return d.getViewOfComponentModel(f)},p.prototype.getViewOfSeriesModel=function(f){return d.getViewOfSeriesModel(f)},p}(t1))(d)},Y1=function(d){function h(p,f){for(var g=0;g<p.length;g++){var v=p[g];v[ld]=f}}R(qo,function(p,f){d._messageCenter.on(f,function(g){if(_m[d.group]&&d[ld]!==pm){if(g&&g.escapeConnect)return;var v=d.makeActionFromEvent(g),m=[];R(Zo,function(y){y!==d&&y.group===d.group&&m.push(y)}),h(m,pm),R(m,function(y){y[ld]!==l4&&y.dispatchAction(v)}),h(m,u4)}})})}}(),t}(Pn),tf=z1.prototype;tf.on=U1("on");tf.off=U1("off");tf.one=function(e,t,n){var a=this;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];t&&t.apply&&t.apply(this,i),a.off(e,r)}this.on.call(this,e,r,n)};var c4=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var pu={},qo={},Rh=[],Oh=[],fu=[],W1={},Ph={},Zo={},_m={},d4=+new Date-0,nf="_echarts_instance_";function h4(e,t,n){var a=!(n&&n.ssr);if(a){var r=p4(e);if(r)return r}var i=new z1(e,t,n);return i.id="ec_"+d4++,Zo[i.id]=i,a&&L_(e,nf,i.id),Y1(i),Vn.trigger("afterinit",i),i}function p4(e){return Zo[OO(e,nf)]}function q1(e,t){W1[e]=t}function Z1(e){it(Oh,e)<0&&Oh.push(e)}function K1(e,t){rf(Rh,e,t,e4)}function f4(e){af("afterinit",e)}function v4(e){af("afterupdate",e)}function af(e,t){Vn.on(e,t)}function da(e,t,n){We(t)&&(n=t,t="");var a=$e(e)?e.type:[e,e={event:t}][0];e.event=(e.event||a).toLowerCase(),t=e.event,!qo[t]&&(ia(hm.test(a)&&hm.test(t)),pu[a]||(pu[a]={action:n,actionInfo:e}),qo[t]=a)}function g4(e,t){Wp.register(e,t)}function m4(e,t){rf(fu,e,t,N1,"layout")}function Qr(e,t){rf(fu,e,t,B1,"visual")}var Cm=[];function rf(e,t,n,a,r){if((We(t)||$e(t))&&(n=t,t=a),!(it(Cm,n)>=0)){Cm.push(n);var i=S1.wrapStageHandler(n,r);i.__prio=t,i.__raw=n,e.push(i)}}function X1(e,t){Ph[e]=t}function y4(e,t,n){var a=K8("registerMap");a&&a(e,t,n)}var _4=x$;Qr(ef,X$);Qr(ac,j$);Qr(ac,J$);Qr(ef,p8);Qr(ac,f8);Qr($1,W8);Z1(a1);K1(J8,r$);X1("default",Q$);da({type:Rr,event:Rr,update:Rr},tn);da({type:Rl,event:Rl,update:Rl},tn);da({type:Fo,event:Fo,update:Fo},tn);da({type:Ol,event:Ol,update:Ol},tn);da({type:Ho,event:Ho,update:Ho},tn);q1("light",c8);q1("dark",d8);function yo(e){return e==null?0:e.length||1}function wm(e){return e}var C4=function(){function e(t,n,a,r,i,o){this._old=t,this._new=n,this._oldKeyGetter=a||wm,this._newKeyGetter=r||wm,this.context=i,this._diffModeMultiple=o==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,n=this._new,a={},r=new Array(t.length),i=new Array(n.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(n,a,i,"_newKeyGetter");for(var o=0;o<t.length;o++){var s=r[o],l=a[s],u=yo(l);if(u>1){var c=l.shift();l.length===1&&(a[s]=l[0]),this._update&&this._update(c,o)}else u===1?(a[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(i,a)},e.prototype._executeMultiple=function(){var t=this._old,n=this._new,a={},r={},i=[],o=[];this._initIndexMap(t,a,i,"_oldKeyGetter"),this._initIndexMap(n,r,o,"_newKeyGetter");for(var s=0;s<i.length;s++){var l=i[s],u=a[l],c=r[l],d=yo(u),h=yo(c);if(d>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,u),r[l]=null;else if(d===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,u),r[l]=null;else if(d===1&&h===1)this._update&&this._update(c,u),r[l]=null;else if(d>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,u),r[l]=null;else if(d>1)for(var p=0;p<d;p++)this._remove&&this._remove(u[p]);else this._remove&&this._remove(u)}this._performRestAdd(o,r)},e.prototype._performRestAdd=function(t,n){for(var a=0;a<t.length;a++){var r=t[a],i=n[r],o=yo(i);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(i[s]);else o===1&&this._add&&this._add(i);n[r]=null}},e.prototype._initIndexMap=function(t,n,a,r){for(var i=this._diffModeMultiple,o=0;o<t.length;o++){var s="_ec_"+this[r](t[o],o);if(i||(a[o]=s),!!n){var l=n[s],u=yo(l);u===0?(n[s]=o,i&&a.push(s)):u===1?n[s]=[l,o]:l.push(o)}}},e}();const gs=C4;var w4=function(){function e(t,n){this._encode=t,this._schema=n}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function x4(e,t){var n={},a=n.encode={},r=Ve(),i=[],o=[],s={};R(e.dimensions,function(h){var p=e.getDimensionInfo(h),f=p.coordDim;if(f){var g=p.coordDimIndex;fd(a,f)[g]=h,p.isExtraCoord||(r.set(f,1),b4(p.type)&&(i[0]=h),fd(s,f)[g]=e.getDimensionIndex(p.name)),p.defaultTooltip&&o.push(h)}ZC.each(function(v,m){var y=fd(a,m),_=p.otherDims[m];_!=null&&_!==!1&&(y[_]=p.name)})});var l=[],u={};r.each(function(h,p){var f=a[p];u[p]=f[0],l=l.concat(f)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=Re(l,function(h){return e.getDimensionInfo(h).storeDimIndex}),n.encodeFirstDimNotExtra=u;var c=a.label;c&&c.length&&(i=c.slice());var d=a.tooltip;return d&&d.length?o=d.slice():o.length||(o=i.slice()),a.defaultedLabel=i,a.defaultedTooltip=o,n.userOutput=new w4(s,t),n}function fd(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function E4(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function b4(e){return!(e==="ordinal"||e==="time")}var S4=function(){function e(t){this.otherDims={},t!=null&&_e(this,t)}return e}();const Ul=S4;var D4=At(),T4={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},j1=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=ew(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return ut(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,n=i1(this.source),a=!tw(t),r="",i=[],o=0,s=0;o<t;o++){var l=void 0,u=void 0,c=void 0,d=this.dimensions[s];if(d&&d.storeDimIndex===o)l=n?d.name:null,u=d.type,c=d.ordinalMeta,s++;else{var h=this.getSourceDimension(o);h&&(l=n?h.name:null,u=h.type)}i.push({property:l,type:u,ordinalMeta:c}),n&&l!=null&&(!d||!d.isCalculationCoord)&&(r+=a?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=T4[u]||"f",c&&(r+=c.uid),r+="$"}var p=this.source,f=[p.seriesLayoutBy,p.startIndex,r].join("$$");return{dimensions:i,hash:f}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,a=0;n<this._fullDimCount;n++){var r=void 0,i=this.dimensions[a];if(i&&i.storeDimIndex===n)i.isCalculationCoord||(r=i.name),a++;else{var o=this.getSourceDimension(n);o&&(r=o.name)}t.push(r)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function J1(e){return e instanceof j1}function Q1(e){for(var t=Ve(),n=0;n<(e||[]).length;n++){var a=e[n],r=$e(a)?a.name:a;r!=null&&t.get(r)==null&&t.set(r,n)}return t}function ew(e){var t=D4(e);return t.dimNameMap||(t.dimNameMap=Q1(e.dimensionsDefine))}function tw(e){return e>30}var _o=$e,Pa=Re,I4=typeof Int32Array>"u"?Array:Int32Array,A4="e\0\0",xm=-1,k4=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],M4=["_approximateExtent"],Em,hl,Co,wo,vd,pl,gd,L4=function(){function e(t,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var a,r=!1;J1(t)?(a=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,a=t),a=a||["x","y"];for(var i={},o=[],s={},l=!1,u={},c=0;c<a.length;c++){var d=a[c],h=Oe(d)?new Ul({name:d}):d instanceof Ul?d:new Ul(d),p=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=p,h.coordDimIndex=0);var f=h.otherDims=h.otherDims||{};o.push(p),i[p]=h,u[p]!=null&&(l=!0),h.createInvertedIndices&&(s[p]=[]),f.itemName===0&&(this._nameDimIdx=c),f.itemId===0&&(this._idDimIdx=c),r&&(h.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(l),this.hostModel=n,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=Ve();R(o,function(v){g.set(i[v].storeDimIndex,v)})}}return e.prototype.getDimension=function(t){var n=this._recognizeDimIndex(t);if(n==null)return t;if(n=t,!this._dimOmitted)return this.dimensions[n];var a=this._dimIdxToName.get(n);if(a!=null)return a;var r=this._schema.getSourceDimension(n);if(r)return r.name},e.prototype.getDimensionIndex=function(t){var n=this._recognizeDimIndex(t);if(n!=null)return n;if(t==null)return-1;var a=this._getDimInfo(t);return a?a.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(bt(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var n=this.getDimensionIndex(t);return n},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var n=this._dimInfos;this._getDimInfo=t?function(a){return n.hasOwnProperty(a)?n[a]:void 0}:function(a){return n[a]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,n){var a=this._dimSummary;if(n==null)return a.encodeFirstDimNotExtra[t];var r=a.encode[t];return r?r[n]:null},e.prototype.mapDimensionsAll=function(t){var n=this._dimSummary,a=n.encode[t];return(a||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,n,a){var r=this,i;if(t instanceof Dh&&(i=t),!i){var o=this.dimensions,s=qp(t)||pn(t)?new o1(t,o.length):t;i=new Dh;var l=Pa(o,function(u){return{type:r._dimInfos[u].type,property:u}});i.initData(s,l,a)}this._store=i,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=x4(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var n=this._store.appendData(t);this._doInit(n[0],n[1])},e.prototype.appendValues=function(t,n){var a=this._store.appendValues(t,n.length),r=a.start,i=a.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var s=r;s<i;s++){var l=s-r;this._nameList[s]=n[l],o&&gd(this,s)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,n=this.dimensions,a=0;a<n.length;a++){var r=this._dimInfos[n[a]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Za&&!t.fillStorage},e.prototype._doInit=function(t,n){if(!(t>=n)){var a=this._store,r=a.getProvider();this._updateOrdinalMeta();var i=this._nameList,o=this._idList,s=r.getSource().sourceFormat,l=s===Nn;if(l&&!r.pure)for(var u=[],c=t;c<n;c++){var d=r.getItem(c,u);if(!this.hasItemOption&&wO(d)&&(this.hasItemOption=!0),d){var h=d.name;i[c]==null&&h!=null&&(i[c]=aa(h,null));var p=d.id;o[c]==null&&p!=null&&(o[c]=aa(p,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<n;c++)gd(this,c);Em(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this._approximateExtent[n]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,n){_o(t)?_e(this._calculationInfo,t):this._calculationInfo[t]=n},e.prototype.getName=function(t){var n=this.getRawIndex(t),a=this._nameList[n];return a==null&&this._nameDimIdx!=null&&(a=Co(this,this._nameDimIdx,n)),a==null&&(a=""),a},e.prototype._getCategory=function(t,n){var a=this._store.get(t,n),r=this._store.getOrdinalMeta(t);return r?r.categories[a]:a},e.prototype.getId=function(t){return hl(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,n){var a=this._store,r=this._dimInfos[t];if(r)return a.get(r.storeDimIndex,n)},e.prototype.getByRawIndex=function(t,n){var a=this._store,r=this._dimInfos[t];if(r)return a.getByRawIndex(r.storeDimIndex,n)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,n){var a=this,r=this._store;return Te(t)?r.getValues(Pa(t,function(i){return a._getStoreDimIndex(i)}),n):r.getValues(t)},e.prototype.hasValue=function(t){for(var n=this._dimSummary.dataDimIndicesOnCoord,a=0,r=n.length;a<r;a++)if(isNaN(this._store.get(n[a],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var n=0,a=this._store.count();n<a;n++)if(this.getName(n)===t)return n;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,n){var a=t&&this._invertedIndicesMap[t],r=a[n];return r==null||isNaN(r)?xm:r},e.prototype.indicesOfNearest=function(t,n,a){return this._store.indicesOfNearest(this._getStoreDimIndex(t),n,a)},e.prototype.each=function(t,n,a){We(t)&&(a=n,n=t,t=[]);var r=a||this,i=Pa(wo(t),this._getStoreDimIndex,this);this._store.each(i,r?Ye(n,r):n)},e.prototype.filterSelf=function(t,n,a){We(t)&&(a=n,n=t,t=[]);var r=a||this,i=Pa(wo(t),this._getStoreDimIndex,this);return this._store=this._store.filter(i,r?Ye(n,r):n),this},e.prototype.selectRange=function(t){var n=this,a={},r=Dt(t);return R(r,function(i){var o=n._getStoreDimIndex(i);a[o]=t[i]}),this._store=this._store.selectRange(a),this},e.prototype.mapArray=function(t,n,a){We(t)&&(a=n,n=t,t=[]),a=a||this;var r=[];return this.each(t,function(){r.push(n&&n.apply(this,arguments))},a),r},e.prototype.map=function(t,n,a,r){var i=a||r||this,o=Pa(wo(t),this._getStoreDimIndex,this),s=pl(this);return s._store=this._store.map(o,i?Ye(n,i):n),s},e.prototype.modify=function(t,n,a,r){var i=a||r||this,o=Pa(wo(t),this._getStoreDimIndex,this);this._store.modify(o,i?Ye(n,i):n)},e.prototype.downSample=function(t,n,a,r){var i=pl(this);return i._store=this._store.downSample(this._getStoreDimIndex(t),n,a,r),i},e.prototype.lttbDownSample=function(t,n){var a=pl(this);return a._store=this._store.lttbDownSample(this._getStoreDimIndex(t),n),a},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var n=this.hostModel,a=this.getRawDataItem(t);return new Xt(a,n,n&&n.ecModel)},e.prototype.diff=function(t){var n=this;return new gs(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(a){return hl(t,a)},function(a){return hl(n,a)})},e.prototype.getVisual=function(t){var n=this._visual;return n&&n[t]},e.prototype.setVisual=function(t,n){this._visual=this._visual||{},_o(t)?_e(this._visual,t):this._visual[t]=n},e.prototype.getItemVisual=function(t,n){var a=this._itemVisuals[t],r=a&&a[n];return r??this.getVisual(n)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,n){var a=this._itemVisuals,r=a[t];r||(r=a[t]={});var i=r[n];return i==null&&(i=this.getVisual(n),Te(i)?i=i.slice():_o(i)&&(i=_e({},i)),r[n]=i),i},e.prototype.setItemVisual=function(t,n,a){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,_o(n)?_e(r,n):r[n]=a},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,n){_o(t)?_e(this._layout,t):this._layout[t]=n},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,n,a){this._itemLayouts[t]=a?_e(this._itemLayouts[t]||{},n):n},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,n){var a=this.hostModel&&this.hostModel.seriesIndex;$P(a,this.dataType,t,n),this._graphicEls[t]=n},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,n){R(this._graphicEls,function(a,r){a&&t&&t.call(n,a,r)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:Pa(this.dimensions,this._getDimInfo,this),this.hostModel)),vd(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,n){var a=this[t];We(a)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var r=a.apply(this,arguments);return n.apply(this,[r].concat(hp(arguments)))})},e.internalField=function(){Em=function(t){var n=t._invertedIndicesMap;R(n,function(a,r){var i=t._dimInfos[r],o=i.ordinalMeta,s=t._store;if(o){a=n[r]=new I4(o.categories.length);for(var l=0;l<a.length;l++)a[l]=xm;for(var l=0;l<s.count();l++)a[s.get(i.storeDimIndex,l)]=l}})},Co=function(t,n,a){return aa(t._getCategory(n,a),null)},hl=function(t,n){var a=t._idList[n];return a==null&&t._idDimIdx!=null&&(a=Co(t,t._idDimIdx,n)),a==null&&(a=A4+n),a},wo=function(t){return Te(t)||(t=t!=null?[t]:[]),t},pl=function(t){var n=new e(t._schema?t._schema:Pa(t.dimensions,t._getDimInfo,t),t.hostModel);return vd(n,t),n},vd=function(t,n){R(k4.concat(n.__wrappedMethods||[]),function(a){n.hasOwnProperty(a)&&(t[a]=n[a])}),t.__wrappedMethods=n.__wrappedMethods,R(M4,function(a){t[a]=qe(n[a])}),t._calculationInfo=_e({},n._calculationInfo)},gd=function(t,n){var a=t._nameList,r=t._idList,i=t._nameDimIdx,o=t._idDimIdx,s=a[n],l=r[n];if(s==null&&i!=null&&(a[n]=s=Co(t,i,n)),l==null&&o!=null&&(r[n]=l=Co(t,o,n)),l==null&&s!=null){var u=t._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),r[n]=l}}}(),e}();const R4=L4;function O4(e,t){qp(e)||(e=Zp(e)),t=t||{};var n=t.coordDimensions||[],a=t.dimensionsDefine||e.dimensionsDefine||[],r=Ve(),i=[],o=N4(e,n,a,t.dimensionsCount),s=t.canOmitUnusedDimensions&&tw(o),l=a===e.dimensionsDefine,u=l?ew(e):Q1(a),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(e,o));for(var d=Ve(c),h=new d1(o),p=0;p<h.length;p++)h[p]=-1;function f(D){var T=h[D];if(T<0){var A=a[D],L=$e(A)?A:{name:A},P=new Ul,N=L.name;N!=null&&u.get(N)!=null&&(P.name=P.displayName=N),L.type!=null&&(P.type=L.type),L.displayName!=null&&(P.displayName=L.displayName);var B=i.length;return h[D]=B,P.storeDimIndex=D,i.push(P),P}return i[T]}if(!s)for(var p=0;p<o;p++)f(p);d.each(function(D,T){var A=Lt(D).slice();if(A.length===1&&!Oe(A[0])&&A[0]<0){d.set(T,!1);return}var L=d.set(T,[]);R(A,function(P,N){var B=Oe(P)?u.get(P):P;B!=null&&B<o&&(L[N]=B,v(f(B),T,N))})});var g=0;R(n,function(D){var T,A,L,P;if(Oe(D))T=D,P={};else{P=D,T=P.name;var N=P.ordinalMeta;P.ordinalMeta=null,P=_e({},P),P.ordinalMeta=N,A=P.dimsDef,L=P.otherDims,P.name=P.coordDim=P.coordDimIndex=P.dimsDef=P.otherDims=null}var B=d.get(T);if(B!==!1){if(B=Lt(B),!B.length)for(var K=0;K<(A&&A.length||1);K++){for(;g<o&&f(g).coordDim!=null;)g++;g<o&&B.push(g++)}R(B,function(ce,$){var W=f(ce);if(l&&P.type!=null&&(W.type=P.type),v(Ke(W,P),T,$),W.name==null&&A){var ae=A[$];!$e(ae)&&(ae={name:ae}),W.name=W.displayName=ae.name,W.defaultTooltip=ae.defaultTooltip}L&&Ke(W.otherDims,L)})}});function v(D,T,A){ZC.get(T)!=null?D.otherDims[T]=A:(D.coordDim=T,D.coordDimIndex=A,r.set(T,!0))}var m=t.generateCoord,y=t.generateCoordCount,_=y!=null;y=m?y||1:0;var w=m||"value";function E(D){D.name==null&&(D.name=D.coordDim)}if(s)R(i,function(D){E(D)}),i.sort(function(D,T){return D.storeDimIndex-T.storeDimIndex});else for(var x=0;x<o;x++){var S=f(x),b=S.coordDim;b==null&&(S.coordDim=B4(w,r,_),S.coordDimIndex=0,(!m||y<=0)&&(S.isExtraCoord=!0),y--),E(S),S.type==null&&(JC(e,x)===_n.Must||S.isExtraCoord&&(S.otherDims.itemName!=null||S.otherDims.seriesName!=null))&&(S.type="ordinal")}return P4(i),new j1({source:e,dimensions:i,fullDimensionCount:o,dimensionOmitted:s})}function P4(e){for(var t=Ve(),n=0;n<e.length;n++){var a=e[n],r=a.name,i=t.get(r)||0;i>0&&(a.name=r+(i-1)),i++,t.set(r,i)}}function N4(e,t,n,a){var r=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,a||0);return R(t,function(i){var o;$e(i)&&(o=i.dimsDef)&&(r=Math.max(r,o.length))}),r}function B4(e,t,n){if(n||t.hasKey(e)){for(var a=0;t.hasKey(e+a);)a++;e+=a}return t.set(e,!0),e}var $4=function(){function e(t){this.coordSysDims=[],this.axisMap=Ve(),this.categoryAxisMap=Ve(),this.coordSysName=t}return e}();function U4(e){var t=e.get("coordinateSystem"),n=new $4(t),a=G4[t];if(a)return a(e,n,n.axisMap,n.categoryAxisMap),n}var G4={cartesian2d:function(e,t,n,a){var r=e.getReferringComponents("xAxis",en).models[0],i=e.getReferringComponents("yAxis",en).models[0];t.coordSysDims=["x","y"],n.set("x",r),n.set("y",i),_i(r)&&(a.set("x",r),t.firstCategoryDimIndex=0),_i(i)&&(a.set("y",i),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,a){var r=e.getReferringComponents("singleAxis",en).models[0];t.coordSysDims=["single"],n.set("single",r),_i(r)&&(a.set("single",r),t.firstCategoryDimIndex=0)},polar:function(e,t,n,a){var r=e.getReferringComponents("polar",en).models[0],i=r.findAxisModel("radiusAxis"),o=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",i),n.set("angle",o),_i(i)&&(a.set("radius",i),t.firstCategoryDimIndex=0),_i(o)&&(a.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,a){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,a){var r=e.ecModel,i=r.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=i.dimensions.slice();R(i.parallelAxisIndex,function(s,l){var u=r.getComponent("parallelAxis",s),c=o[l];n.set(c,u),_i(u)&&(a.set(c,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function _i(e){return e.get("type")==="category"}function F4(e,t,n){n=n||{};var a=n.byIndex,r=n.stackedCoordDimension,i,o,s;H4(t)?i=t:(o=t.schema,i=o.dimensions,s=t.store);var l=!!(e&&e.get("stack")),u,c,d,h;if(R(i,function(y,_){Oe(y)&&(i[_]=y={name:y}),l&&!y.isExtraCoord&&(!a&&!u&&y.ordinalMeta&&(u=y),!c&&y.type!=="ordinal"&&y.type!=="time"&&(!r||r===y.coordDim)&&(c=y))}),c&&!a&&!u&&(a=!0),c){d="__\0ecstackresult_"+e.id,h="__\0ecstackedover_"+e.id,u&&(u.createInvertedIndices=!0);var p=c.coordDim,f=c.type,g=0;R(i,function(y){y.coordDim===p&&g++});var v={name:d,coordDim:p,coordDimIndex:g,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},m={name:h,coordDim:h,coordDimIndex:g+1,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};o?(s&&(v.storeDimIndex=s.ensureCalculationDimension(h,f),m.storeDimIndex=s.ensureCalculationDimension(d,f)),o.appendCalculationDimension(v),o.appendCalculationDimension(m)):(i.push(v),i.push(m))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:a,stackedOverDimension:h,stackResultDimension:d}}function H4(e){return!J1(e.schema)}function zi(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function V4(e,t){return zi(e,t)?e.getCalculationInfo("stackResultDimension"):t}function Y4(e,t){var n=e.get("coordinateSystem"),a=Wp.get(n),r;return t&&t.coordSysDims&&(r=Re(t.coordSysDims,function(i){var o={name:i},s=t.axisMap.get(i);if(s){var l=s.get("type");o.type=E4(l)}return o})),r||(r=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]),r}function z4(e,t,n){var a,r;return n&&R(e,function(i,o){var s=i.coordDim,l=n.categoryAxisMap.get(s);l&&(a==null&&(a=o),i.ordinalMeta=l.getOrdinalMeta(),t&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(r=!0)}),!r&&a!=null&&(e[a].otherDims.itemName=0),a}function of(e,t,n){n=n||{};var a=t.getSourceManager(),r,i=!1;e?(i=!0,r=Zp(e)):(r=a.getSource(),i=r.sourceFormat===Nn);var o=U4(t),s=Y4(t,o),l=n.useEncodeDefaulter,u=We(l)?l:l?_t(kB,s,t):null,c={coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!i},d=O4(r,c),h=z4(d.dimensions,n.createInvertedIndices,o),p=i?null:a.getSharedDataStore(d),f=F4(t,{schema:d,store:p}),g=new R4(d,t);g.setCalculationInfo(f);var v=h!=null&&W4(r)?function(m,y,_,w){return w===h?_:this.defaultDimValueGetter(m,y,_,w)}:null;return g.hasItemOption=!1,g.initData(i?r:p,null,v),g}function W4(e){if(e.sourceFormat===Nn){var t=q4(e.data||[]);return!Te(Ss(t))}}function q4(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var nw=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,n){var a=this._extent;isNaN(t)||(a[0]=t),isNaN(n)||(a[1]=n)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();Lu(nw);const ka=nw;var Z4=0,K4=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++Z4}return e.createByAxisModel=function(t){var n=t.option,a=n.data,r=a&&Re(a,X4);return new e({categories:r,needCollect:!r,deduplication:n.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var n,a=this._needCollect;if(!Oe(t)&&!a)return t;if(a&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var r=this._getOrCreateMap();return n=r.get(t),n==null&&(a?(n=this.categories.length,this.categories[n]=t,r.set(t,n)):n=NaN),n},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Ve(this.categories))},e}();function X4(e){return $e(e)&&e.value!=null?e.value:e+""}const Nh=K4;function Bh(e){return e.type==="interval"||e.type==="log"}function j4(e,t,n,a){var r={},i=e[1]-e[0],o=r.interval=S_(i/t,!0);n!=null&&o<n&&(o=r.interval=n),a!=null&&o>a&&(o=r.interval=a);var s=r.intervalPrecision=aw(o),l=r.niceTickExtent=[Mt(Math.ceil(e[0]/o)*o,s),Mt(Math.floor(e[1]/o)*o,s)];return J4(l,e),r}function md(e){var t=Math.pow(10,wp(e)),n=e/t;return n?n===2?n=3:n===3?n=5:n*=2:n=1,Mt(n*t)}function aw(e){return ya(e)+2}function bm(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function J4(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),bm(e,0,t),bm(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function rc(e,t){return e>=t[0]&&e<=t[1]}function ic(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function oc(e,t){return e*(t[1]-t[0])+t[0]}var rw=function(e){Pe(t,e);function t(n){var a=e.call(this,n)||this;a.type="ordinal";var r=a.getSetting("ordinalMeta");return r||(r=new Nh({})),Te(r)&&(r=new Nh({categories:Re(r,function(i){return $e(i)?i.value:i})})),a._ordinalMeta=r,a._extent=a.getSetting("extent")||[0,r.categories.length-1],a}return t.prototype.parse=function(n){return n==null?NaN:Oe(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},t.prototype.contain=function(n){return n=this.parse(n),rc(n,this._extent)&&this._ordinalMeta.categories[n]!=null},t.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),ic(n,this._extent)},t.prototype.scale=function(n){return n=Math.round(oc(n,this._extent)),this.getRawOrdinalNumber(n)},t.prototype.getTicks=function(){for(var n=[],a=this._extent,r=a[0];r<=a[1];)n.push({value:r}),r++;return n},t.prototype.getMinorTicks=function(n){},t.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var a=n.ordinalNumbers,r=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,a.length);o<l;++o){var u=a[o];r[o]=u,i[u]=o}for(var c=0;o<s;++o){for(;i[c]!=null;)c++;r.push(c),i[c]=o}},t.prototype._getTickNumber=function(n){var a=this._ticksByOrdinalNumber;return a&&n>=0&&n<a.length?a[n]:n},t.prototype.getRawOrdinalNumber=function(n){var a=this._ordinalNumbersByTick;return a&&n>=0&&n<a.length?a[n]:n},t.prototype.getLabel=function(n){if(!this.isBlank()){var a=this.getRawOrdinalNumber(n.value),r=this._ordinalMeta.categories[a];return r==null?"":r+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(n,a){this.unionExtent(n.getApproximateExtent(a))},t.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(ka);ka.registerClass(rw);const iw=rw;var wr=Mt,ow=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return rc(n,this._extent)},t.prototype.normalize=function(n){return ic(n,this._extent)},t.prototype.scale=function(n){return oc(n,this._extent)},t.prototype.setExtent=function(n,a){var r=this._extent;isNaN(n)||(r[0]=parseFloat(n)),isNaN(a)||(r[1]=parseFloat(a))},t.prototype.unionExtent=function(n){var a=this._extent;n[0]<a[0]&&(a[0]=n[0]),n[1]>a[1]&&(a[1]=n[1]),this.setExtent(a[0],a[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=aw(n)},t.prototype.getTicks=function(n){var a=this._interval,r=this._extent,i=this._niceExtent,o=this._intervalPrecision,s=[];if(!a)return s;var l=1e4;r[0]<i[0]&&(n?s.push({value:wr(i[0]-a,o)}):s.push({value:r[0]}));for(var u=i[0];u<=i[1]&&(s.push({value:u}),u=wr(u+a,o),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:i[1];return r[1]>c&&(n?s.push({value:wr(c+a,o)}):s.push({value:r[1]})),s},t.prototype.getMinorTicks=function(n){for(var a=this.getTicks(!0),r=[],i=this.getExtent(),o=1;o<a.length;o++){for(var s=a[o],l=a[o-1],u=0,c=[],d=s.value-l.value,h=d/n;u<n-1;){var p=wr(l.value+(u+1)*h);p>i[0]&&p<i[1]&&c.push(p),u++}r.push(c)}return r},t.prototype.getLabel=function(n,a){if(n==null)return"";var r=a&&a.precision;r==null?r=ya(n.value)||0:r==="auto"&&(r=this._intervalPrecision);var i=wr(n.value,r,!0);return YC(i)},t.prototype.calcNiceTicks=function(n,a,r){n=n||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var s=j4(i,n,a,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(n){var a=this._extent;if(a[0]===a[1])if(a[0]!==0){var r=Math.abs(a[0]);n.fixMax||(a[1]+=r/2),a[0]-=r/2}else a[1]=1;var i=a[1]-a[0];isFinite(i)||(a[0]=0,a[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var o=this._interval;n.fixMin||(a[0]=wr(Math.floor(a[0]/o)*o)),n.fixMax||(a[1]=wr(Math.ceil(a[1]/o)*o))},t.prototype.setNiceExtent=function(n,a){this._niceExtent=[n,a]},t.type="interval",t}(ka);ka.registerClass(ow);const As=ow;var sw=typeof Float32Array<"u",Q4=sw?Float32Array:Array;function _a(e){return Te(e)?sw?new Float32Array(e):e:new Q4(e)}var eU="__ec_stack_";function sf(e){return e.get("stack")||eU+e.seriesIndex}function lf(e){return e.dim+e.index}function lw(e,t){var n=[];return t.eachSeriesByType(e,function(a){cw(a)&&n.push(a)}),n}function tU(e){var t={};R(e,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var d=l.getData(),h=c.dim+"_"+c.index,p=d.getDimensionIndex(d.mapDimension(c.dim)),f=d.getStore(),g=0,v=f.count();g<v;++g){var m=f.get(p,g);t[h]?t[h].push(m):t[h]=[m]}});var n={};for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];if(r){r.sort(function(l,u){return l-u});for(var i=null,o=1;o<r.length;++o){var s=r[o]-r[o-1];s>0&&(i=i===null?s:Math.min(i,s))}n[a]=i}}return n}function uw(e){var t=tU(e),n=[];return R(e,function(a){var r=a.coordinateSystem,i=r.getBaseAxis(),o=i.getExtent(),s;if(i.type==="category")s=i.getBandWidth();else if(i.type==="value"||i.type==="time"){var l=i.dim+"_"+i.index,u=t[l],c=Math.abs(o[1]-o[0]),d=i.scale.getExtent(),h=Math.abs(d[1]-d[0]);s=u?c/h*u:c}else{var p=a.getData();s=Math.abs(o[1]-o[0])/p.count()}var f=Ht(a.get("barWidth"),s),g=Ht(a.get("barMaxWidth"),s),v=Ht(a.get("barMinWidth")||(dw(a)?.5:1),s),m=a.get("barGap"),y=a.get("barCategoryGap");n.push({bandWidth:s,barWidth:f,barMaxWidth:g,barMinWidth:v,barGap:m,barCategoryGap:y,axisKey:lf(i),stackId:sf(a)})}),nU(n)}function nU(e){var t={};R(e,function(a,r){var i=a.axisKey,o=a.bandWidth,s=t[i]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[i]=s;var u=a.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=a.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var d=a.barMaxWidth;d&&(l[u].maxWidth=d);var h=a.barMinWidth;h&&(l[u].minWidth=h);var p=a.barGap;p!=null&&(s.gap=p);var f=a.barCategoryGap;f!=null&&(s.categoryGap=f)});var n={};return R(t,function(a,r){n[r]={};var i=a.stacks,o=a.bandWidth,s=a.categoryGap;if(s==null){var l=Dt(i).length;s=Math.max(35-l*4,15)+"%"}var u=Ht(s,o),c=Ht(a.gap,1),d=a.remainedWidth,h=a.autoWidthCount,p=(d-u)/(h+(h-1)*c);p=Math.max(p,0),R(i,function(m){var y=m.maxWidth,_=m.minWidth;if(m.width){var w=m.width;y&&(w=Math.min(w,y)),_&&(w=Math.max(w,_)),m.width=w,d-=w+c*w,h--}else{var w=p;y&&y<w&&(w=Math.min(y,d)),_&&_>w&&(w=_),w!==p&&(m.width=w,d-=w+c*w,h--)}}),p=(d-u)/(h+(h-1)*c),p=Math.max(p,0);var f=0,g;R(i,function(m,y){m.width||(m.width=p),g=m,f+=m.width*(1+c)}),g&&(f-=g.width*c);var v=-f/2;R(i,function(m,y){n[r][y]=n[r][y]||{bandWidth:o,offset:v,width:m.width},v+=m.width*(1+c)})}),n}function aU(e,t,n){if(e&&t){var a=e[lf(t)];return a!=null&&n!=null?a[sf(n)]:a}}function rU(e,t){var n=lw(e,t),a=uw(n);R(n,function(r){var i=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=sf(r),u=a[lf(s)][l],c=u.offset,d=u.width;i.setLayout({bandWidth:u.bandWidth,offset:c,size:d})})}function iU(e){return{seriesType:e,plan:Jp(),reset:function(t){if(cw(t)){var n=t.getData(),a=t.coordinateSystem,r=a.getBaseAxis(),i=a.getOtherAxis(r),o=n.getDimensionIndex(n.mapDimension(i.dim)),s=n.getDimensionIndex(n.mapDimension(r.dim)),l=t.get("showBackground",!0),u=n.mapDimension(i.dim),c=n.getCalculationInfo("stackResultDimension"),d=zi(n,u)&&!!n.getCalculationInfo("stackedOnSeries"),h=i.isHorizontal(),p=oU(r,i),f=dw(t),g=t.get("barMinHeight")||0,v=c&&n.getDimensionIndex(c),m=n.getLayout("size"),y=n.getLayout("offset");return{progress:function(_,w){for(var E=_.count,x=f&&_a(E*3),S=f&&l&&_a(E*3),b=f&&_a(E),D=a.master.getRect(),T=h?D.width:D.height,A,L=w.getStore(),P=0;(A=_.next())!=null;){var N=L.get(d?v:o,A),B=L.get(s,A),K=p,ce=void 0;d&&(ce=+N-L.get(o,A));var $=void 0,W=void 0,ae=void 0,Z=void 0;if(h){var ne=a.dataToPoint([N,B]);if(d){var Y=a.dataToPoint([ce,B]);K=Y[0]}$=K,W=ne[1]+y,ae=ne[0]-K,Z=m,Math.abs(ae)<g&&(ae=(ae<0?-1:1)*g)}else{var ne=a.dataToPoint([B,N]);if(d){var Y=a.dataToPoint([B,ce]);K=Y[1]}$=ne[0]+y,W=K,ae=m,Z=ne[1]-K,Math.abs(Z)<g&&(Z=(Z<=0?-1:1)*g)}f?(x[P]=$,x[P+1]=W,x[P+2]=h?ae:Z,S&&(S[P]=h?D.x:$,S[P+1]=h?W:D.y,S[P+2]=T),b[A]=A):w.setItemLayout(A,{x:$,y:W,width:ae,height:Z}),P+=3}f&&w.setLayout({largePoints:x,largeDataIndices:b,largeBackgroundPoints:S,valueAxisHorizontal:h})}}}}}}function cw(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function dw(e){return e.pipelineContext&&e.pipelineContext.large}function oU(e,t){return t.toGlobalCoord(t.dataToCoord(t.type==="log"?1:0))}var sU=function(e,t,n,a){for(;n<a;){var r=n+a>>>1;e[r][1]<t?n=r+1:a=r}return n},hw=function(e){Pe(t,e);function t(n){var a=e.call(this,n)||this;return a.type="time",a}return t.prototype.getLabel=function(n){var a=this.getSetting("useUTC");return zu(n.value,fg[yB(Oi(this._minLevelUnit))]||fg.second,a,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(n,a,r){var i=this.getSetting("useUTC"),o=this.getSetting("locale");return _B(n,a,r,o,i)},t.prototype.getTicks=function(){var n=this._interval,a=this._extent,r=[];if(!n)return r;r.push({value:a[0],level:0});var i=this.getSetting("useUTC"),o=fU(this._minLevelUnit,this._approxInterval,i,a);return r=r.concat(o),r.push({value:a[1],level:0}),r},t.prototype.calcNiceExtent=function(n){var a=this._extent;if(a[0]===a[1]&&(a[0]-=Ln,a[1]+=Ln),a[1]===-1/0&&a[0]===1/0){var r=new Date;a[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),a[0]=a[1]-Ln}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},t.prototype.calcNiceTicks=function(n,a,r){n=n||10;var i=this._extent,o=i[1]-i[0];this._approxInterval=o/n,a!=null&&this._approxInterval<a&&(this._approxInterval=a),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var s=fl.length,l=Math.min(sU(fl,this._approxInterval,0,s),s-1);this._interval=fl[l][1],this._minLevelUnit=fl[Math.max(l-1,0)][0]},t.prototype.parse=function(n){return bt(n)?n:+Da(n)},t.prototype.contain=function(n){return rc(this.parse(n),this._extent)},t.prototype.normalize=function(n){return ic(this.parse(n),this._extent)},t.prototype.scale=function(n){return oc(n,this._extent)},t.type="time",t}(As),fl=[["second",Fp],["minute",Hp],["hour",zo],["quarter-day",zo*6],["half-day",zo*12],["day",Ln*1.2],["half-week",Ln*3.5],["week",Ln*7],["month",Ln*31],["quarter",Ln*95],["half-year",pg/2],["year",pg]];function lU(e,t,n,a){var r=Da(t),i=Da(n),o=function(f){return vg(r,f,a)===vg(i,f,a)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},c=function(){return u()&&o("hour")},d=function(){return c()&&o("minute")},h=function(){return d()&&o("second")},p=function(){return h()&&o("millisecond")};switch(e){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return d();case"second":return h();case"millisecond":return p()}}function uU(e,t){return e/=Ln,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function cU(e){var t=30*Ln;return e/=t,e>6?6:e>3?3:e>2?2:1}function dU(e){return e/=zo,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function Sm(e,t){return e/=t?Hp:Fp,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function hU(e){return S_(e,!0)}function pU(e,t,n){var a=new Date(e);switch(Oi(t)){case"year":case"month":a[$C(n)](0);case"day":a[UC(n)](1);case"hour":a[GC(n)](0);case"minute":a[FC(n)](0);case"second":a[HC(n)](0),a[VC(n)](0)}return a.getTime()}function fU(e,t,n,a){var r=1e4,i=NC,o=0;function s(T,A,L,P,N,B,K){for(var ce=new Date(A),$=A,W=ce[P]();$<L&&$<=a[1];)K.push({value:$}),W+=T,ce[N](W),$=ce.getTime();K.push({value:$,notAdd:!0})}function l(T,A,L){var P=[],N=!A.length;if(!lU(Oi(T),a[0],a[1],n)){N&&(A=[{value:pU(new Date(a[0]),T,n)},{value:a[1]}]);for(var B=0;B<A.length-1;B++){var K=A[B].value,ce=A[B+1].value;if(K!==ce){var $=void 0,W=void 0,ae=void 0,Z=!1;switch(T){case"year":$=Math.max(1,Math.round(t/Ln/365)),W=Vp(n),ae=CB(n);break;case"half-year":case"quarter":case"month":$=cU(t),W=Pi(n),ae=$C(n);break;case"week":case"half-week":case"day":$=uU(t),W=Wu(n),ae=UC(n),Z=!0;break;case"half-day":case"quarter-day":case"hour":$=dU(t),W=us(n),ae=GC(n);break;case"minute":$=Sm(t,!0),W=qu(n),ae=FC(n);break;case"second":$=Sm(t,!1),W=Zu(n),ae=HC(n);break;case"millisecond":$=hU(t),W=Ku(n),ae=VC(n);break}s($,K,ce,W,ae,Z,P),T==="year"&&L.length>1&&B===0&&L.unshift({value:L[0].value-$})}}for(var B=0;B<P.length;B++)L.push(P[B]);return P}}for(var u=[],c=[],d=0,h=0,p=0;p<i.length&&o++<r;++p){var f=Oi(i[p]);if(mB(i[p])){l(i[p],u[u.length-1]||[],c);var g=i[p+1]?Oi(i[p+1]):null;if(f!==g){if(c.length){h=d,c.sort(function(T,A){return T.value-A.value});for(var v=[],m=0;m<c.length;++m){var y=c[m].value;(m===0||c[m-1].value!==y)&&(v.push(c[m]),y>=a[0]&&y<=a[1]&&d++)}var _=(a[1]-a[0])/t;if(d>_*1.5&&h>_/1.5||(u.push(v),d>_||e===i[p]))break}c=[]}}}for(var w=Ft(Re(u,function(T){return Ft(T,function(A){return A.value>=a[0]&&A.value<=a[1]&&!A.notAdd})}),function(T){return T.length>0}),E=[],x=w.length-1,p=0;p<w.length;++p)for(var S=w[p],b=0;b<S.length;++b)E.push({value:S[b].value,level:x-p});E.sort(function(T,A){return T.value-A.value});for(var D=[],p=0;p<E.length;++p)(p===0||E[p].value!==E[p-1].value)&&D.push(E[p]);return D}ka.registerClass(hw);const vU=hw;var Dm=ka.prototype,Ko=As.prototype,gU=Mt,mU=Math.floor,yU=Math.ceil,vl=Math.pow,Gn=Math.log,uf=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new As,n._interval=0,n}return t.prototype.getTicks=function(n){var a=this._originalScale,r=this._extent,i=a.getExtent(),o=Ko.getTicks.call(this,n);return Re(o,function(s){var l=s.value,u=Mt(vl(this.base,l));return u=l===r[0]&&this._fixMin?gl(u,i[0]):u,u=l===r[1]&&this._fixMax?gl(u,i[1]):u,{value:u}},this)},t.prototype.setExtent=function(n,a){var r=Gn(this.base);n=Gn(Math.max(0,n))/r,a=Gn(Math.max(0,a))/r,Ko.setExtent.call(this,n,a)},t.prototype.getExtent=function(){var n=this.base,a=Dm.getExtent.call(this);a[0]=vl(n,a[0]),a[1]=vl(n,a[1]);var r=this._originalScale,i=r.getExtent();return this._fixMin&&(a[0]=gl(a[0],i[0])),this._fixMax&&(a[1]=gl(a[1],i[1])),a},t.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var a=this.base;n[0]=Gn(n[0])/Gn(a),n[1]=Gn(n[1])/Gn(a),Dm.unionExtent.call(this,n)},t.prototype.unionExtentFromData=function(n,a){this.unionExtent(n.getApproximateExtent(a))},t.prototype.calcNiceTicks=function(n){n=n||10;var a=this._extent,r=a[1]-a[0];if(!(r===1/0||r<=0)){var i=_O(r),o=n/r*i;for(o<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var s=[Mt(yU(a[0]/i)*i),Mt(mU(a[1]/i)*i)];this._interval=i,this._niceExtent=s}},t.prototype.calcNiceExtent=function(n){Ko.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return n=Gn(n)/Gn(this.base),rc(n,this._extent)},t.prototype.normalize=function(n){return n=Gn(n)/Gn(this.base),ic(n,this._extent)},t.prototype.scale=function(n){return n=oc(n,this._extent),vl(this.base,n)},t.type="log",t}(ka),pw=uf.prototype;pw.getMinorTicks=Ko.getMinorTicks;pw.getLabel=Ko.getLabel;function gl(e,t){return gU(e,ya(t))}ka.registerClass(uf);const _U=uf;var CU=function(){function e(t,n,a){this._prepareParams(t,n,a)}return e.prototype._prepareParams=function(t,n,a){a[1]<a[0]&&(a=[NaN,NaN]),this._dataMin=a[0],this._dataMax=a[1];var r=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var i=this._modelMinRaw=n.get("min",!0);We(i)?this._modelMinNum=ml(t,i({min:a[0],max:a[1]})):i!=="dataMin"&&(this._modelMinNum=ml(t,i));var o=this._modelMaxRaw=n.get("max",!0);if(We(o)?this._modelMaxNum=ml(t,o({min:a[0],max:a[1]})):o!=="dataMax"&&(this._modelMaxNum=ml(t,o)),r)this._axisDataLen=n.getCategories().length;else{var s=n.get("boundaryGap"),l=Te(s)?s:[s||0,s||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Gr(l[0],1),Gr(l[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,n=this._dataMin,a=this._dataMax,r=this._axisDataLen,i=this._boundaryGapInner,o=t?null:a-n||Math.abs(n),s=this._modelMinRaw==="dataMin"?n:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?a:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=t?r?0:NaN:n-i[0]*o),l==null&&(l=t?r?r-1:NaN:a+i[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var d=Wl(s)||Wl(l)||t&&!r;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var h=this._determinedMin,p=this._determinedMax;return h!=null&&(s=h,u=!0),p!=null&&(l=p,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:d}},e.prototype.modifyDataMinMax=function(t,n){this[xU[t]]=n},e.prototype.setDeterminedMinMax=function(t,n){var a=wU[t];this[a]=n},e.prototype.freeze=function(){this.frozen=!0},e}(),wU={min:"_determinedMin",max:"_determinedMax"},xU={min:"_dataMin",max:"_dataMax"};function fw(e,t,n){var a=e.rawExtentInfo;return a||(a=new CU(e,t,n),e.rawExtentInfo=a,a)}function ml(e,t){return t==null?null:Wl(t)?NaN:e.parse(t)}function vw(e,t){var n=e.type,a=fw(e,t,e.getExtent()).calculate();e.setBlank(a.isBlank);var r=a.min,i=a.max,o=t.ecModel;if(o&&n==="time"){var s=lw("bar",o),l=!1;if(R(s,function(d){l=l||d.getBaseAxis()===t.axis}),l){var u=uw(s),c=EU(r,i,t,u);r=c.min,i=c.max}}return{extent:[r,i],fixMin:a.minFixed,fixMax:a.maxFixed}}function EU(e,t,n,a){var r=n.axis.getExtent(),i=r[1]-r[0],o=aU(a,n.axis);if(o===void 0)return{min:e,max:t};var s=1/0;R(o,function(p){s=Math.min(p.offset,s)});var l=-1/0;R(o,function(p){l=Math.max(p.offset+p.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-e,d=1-(s+l)/i,h=c/d-c;return t+=h*(l/u),e-=h*(s/u),{min:e,max:t}}function Tm(e,t){var n=t,a=vw(e,n),r=a.extent,i=n.get("splitNumber");e instanceof _U&&(e.base=n.get("logBase"));var o=e.type,s=n.get("interval"),l=o==="interval"||o==="time";e.setExtent(r[0],r[1]),e.calcNiceExtent({splitNumber:i,fixMin:a.fixMin,fixMax:a.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),s!=null&&e.setInterval&&e.setInterval(s)}function bU(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new iw({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new vU({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(ka.getClass(t)||As)}}function SU(e){var t=e.scale.getExtent(),n=t[0],a=t[1];return!(n>0&&a>0||n<0&&a<0)}function ks(e){var t=e.getLabelModel().get("formatter"),n=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(a){return function(r,i){return e.scale.getFormattedLabel(r,i,a)}}(t):Oe(t)?function(a){return function(r){var i=e.scale.getLabel(r),o=a.replace("{value}",i??"");return o}}(t):We(t)?function(a){return function(r,i){return n!=null&&(i=r.value-n),a(cf(e,r),i,r.level!=null?{level:r.level}:null)}}(t):function(a){return e.scale.getLabel(a)}}function cf(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function DU(e){var t=e.model,n=e.scale;if(!(!t.get(["axisLabel","show"])||n.isBlank())){var a,r,i=n.getExtent();n instanceof iw?r=n.count():(a=n.getTicks(),r=a.length);var o=e.getLabelModel(),s=ks(e),l,u=1;r>40&&(u=Math.ceil(r/40));for(var c=0;c<r;c+=u){var d=a?a[c]:{value:i[0]+c},h=s(d,c),p=o.getTextRect(h),f=TU(p,o.get("rotate")||0);l?l.union(f):l=f}return l}}function TU(e,t){var n=t*Math.PI/180,a=e.width,r=e.height,i=a*Math.abs(Math.cos(n))+Math.abs(r*Math.sin(n)),o=a*Math.abs(Math.sin(n))+Math.abs(r*Math.cos(n)),s=new st(e.x,e.y,i,o);return s}function df(e){var t=e.get("interval");return t??"auto"}function gw(e){return e.type==="category"&&df(e.getLabelModel())===0}function mw(e,t){var n={};return R(e.mapDimensionsAll(t),function(a){n[V4(e,a)]=!0}),Dt(n)}function IU(e,t,n){t&&R(mw(t,n),function(a){var r=t.getApproximateExtent(a);r[0]<e[0]&&(e[0]=r[0]),r[1]>e[1]&&(e[1]=r[1])})}var AU=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}(),Im=[],kU={registerPreprocessor:Z1,registerProcessor:K1,registerPostInit:f4,registerPostUpdate:v4,registerUpdateLifecycle:af,registerAction:da,registerCoordinateSystem:g4,registerLayout:m4,registerVisual:Qr,registerTransform:_4,registerLoading:X1,registerMap:y4,registerImpl:Z8,PRIORITY:s4,ComponentModel:wt,ComponentView:la,SeriesModel:zr,ChartView:Ea,registerComponentModel:function(e){wt.registerClass(e)},registerComponentView:function(e){la.registerClass(e)},registerSeriesModel:function(e){zr.registerClass(e)},registerChartView:function(e){Ea.registerClass(e)},registerSubTypeDefaulter:function(e,t){wt.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){fO(e,t)}};function vn(e){if(Te(e)){R(e,function(t){vn(t)});return}it(Im,e)>=0||(Im.push(e),We(e)&&(e={install:e}),e.install(kU))}var ms=At();function MU(e){return e.type==="category"?RU(e):PU(e)}function LU(e,t){return e.type==="category"?OU(e,t):{ticks:Re(e.scale.getTicks(),function(n){return n.value})}}function RU(e){var t=e.getLabelModel(),n=yw(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function yw(e,t){var n=_w(e,"labels"),a=df(t),r=Cw(n,a);if(r)return r;var i,o;return We(a)?i=Ew(e,a):(o=a==="auto"?NU(e):a,i=xw(e,o)),ww(n,a,{labels:i,labelCategoryInterval:o})}function OU(e,t){var n=_w(e,"ticks"),a=df(t),r=Cw(n,a);if(r)return r;var i,o;if((!t.get("show")||e.scale.isBlank())&&(i=[]),We(a))i=Ew(e,a,!0);else if(a==="auto"){var s=yw(e,e.getLabelModel());o=s.labelCategoryInterval,i=Re(s.labels,function(l){return l.tickValue})}else o=a,i=xw(e,o,!0);return ww(n,a,{ticks:i,tickCategoryInterval:o})}function PU(e){var t=e.scale.getTicks(),n=ks(e);return{labels:Re(t,function(a,r){return{level:a.level,formattedLabel:n(a,r),rawLabel:e.scale.getLabel(a),tickValue:a.value}})}}function _w(e,t){return ms(e)[t]||(ms(e)[t]=[])}function Cw(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function ww(e,t,n){return e.push({key:t,value:n}),n}function NU(e){var t=ms(e).autoInterval;return t??(ms(e).autoInterval=e.calculateCategoryInterval())}function BU(e){var t=$U(e),n=ks(e),a=(t.axisRotate-t.labelRotate)/180*Math.PI,r=e.scale,i=r.getExtent(),o=r.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=i[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(u*Math.cos(a)),d=Math.abs(u*Math.sin(a)),h=0,p=0;l<=i[1];l+=s){var f=0,g=0,v=Mu(n({value:l}),t.font,"center","top");f=v.width*1.3,g=v.height*1.3,h=Math.max(h,f,7),p=Math.max(p,g,7)}var m=h/c,y=p/d;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(m,y))),w=ms(e.model),E=e.getExtent(),x=w.lastAutoInterval,S=w.lastTickCount;return x!=null&&S!=null&&Math.abs(x-_)<=1&&Math.abs(S-o)<=1&&x>_&&w.axisExtent0===E[0]&&w.axisExtent1===E[1]?_=x:(w.lastTickCount=o,w.lastAutoInterval=_,w.axisExtent0=E[0],w.axisExtent1=E[1]),_}function $U(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function xw(e,t,n){var a=ks(e),r=e.scale,i=r.getExtent(),o=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=i[0],c=r.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var d=gw(e),h=o.get("showMinLabel")||d,p=o.get("showMaxLabel")||d;h&&u!==i[0]&&g(i[0]);for(var f=u;f<=i[1];f+=l)g(f);p&&f-l!==i[1]&&g(i[1]);function g(v){var m={value:v};s.push(n?v:{formattedLabel:a(m),rawLabel:r.getLabel(m),tickValue:v})}return s}function Ew(e,t,n){var a=e.scale,r=ks(e),i=[];return R(a.getTicks(),function(o){var s=a.getLabel(o),l=o.value;t(o.value,s)&&i.push(n?l:{formattedLabel:r(o),rawLabel:s,tickValue:l})}),i}var Am=[0,1],UU=function(){function e(t,n,a){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=a||[0,0]}return e.prototype.contain=function(t){var n=this._extent,a=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);return t>=a&&t<=r},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return E_(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,n){var a=this._extent;a[0]=t,a[1]=n},e.prototype.dataToCoord=function(t,n){var a=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&r.type==="ordinal"&&(a=a.slice(),km(a,r.count())),Wt(t,Am,a,n)},e.prototype.coordToData=function(t,n){var a=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&(a=a.slice(),km(a,r.count()));var i=Wt(t,a,Am,n);return this.scale.scale(i)},e.prototype.pointToData=function(t,n){},e.prototype.getTicksCoords=function(t){t=t||{};var n=t.tickModel||this.getTickModel(),a=LU(this,n),r=a.ticks,i=Re(r,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=n.get("alignWithLabel");return GU(this,i,o,t.clamp),i},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),n=t.get("splitNumber");n>0&&n<100||(n=5);var a=this.scale.getMinorTicks(n),r=Re(a,function(i){return Re(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return r},e.prototype.getViewLabels=function(){return MU(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),a=n[1]-n[0]+(this.onBand?1:0);a===0&&(a=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/a},e.prototype.calculateCategoryInterval=function(){return BU(this)},e}();function km(e,t){var n=e[1]-e[0],a=t,r=n/a/2;e[0]+=r,e[1]-=r}function GU(e,t,n,a){var r=t.length;if(!e.onBand||n||!r)return;var i=e.getExtent(),o,s;if(r===1)t[0].coord=i[0],o=t[1]={coord:i[0]};else{var l=t[r-1].tickValue-t[0].tickValue,u=(t[r-1].coord-t[0].coord)/l;R(t,function(p){p.coord-=u/2});var c=e.scale.getExtent();s=1+c[1]-t[r-1].tickValue,o={coord:t[r-1].coord+u*s},t.push(o)}var d=i[0]>i[1];h(t[0].coord,i[0])&&(a?t[0].coord=i[0]:t.shift()),a&&h(i[0],t[0].coord)&&t.unshift({coord:i[0]}),h(i[1],o.coord)&&(a?o.coord=i[1]:t.pop()),a&&h(o.coord,i[1])&&t.push({coord:i[1]});function h(p,f){return p=Mt(p),f=Mt(f),d?p>f:p<f}}const FU=UU;function HU(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];if(!a.defaultAttr.ignore){var r=a.label,i=r.getComputedTransform(),o=r.getBoundingRect(),s=!i||i[1]<1e-5&&i[2]<1e-5,l=r.style.margin||0,u=o.clone();u.applyTransform(i),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new nu(o,i):null;t.push({label:r,labelLine:a.labelLine,rect:u,localRect:o,obb:c,priority:a.priority,defaultAttr:a.defaultAttr,layoutOption:a.computedLayoutOption,axisAligned:s,transform:i})}}return t}function VU(e){var t=[];e.sort(function(g,v){return v.priority-g.priority});var n=new st(0,0,0,0);function a(g){if(!g.ignore){var v=g.ensureState("emphasis");v.ignore==null&&(v.ignore=!1)}g.ignore=!0}for(var r=0;r<e.length;r++){var i=e[r],o=i.axisAligned,s=i.localRect,l=i.transform,u=i.label,c=i.labelLine;n.copy(i.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var d=i.obb,h=!1,p=0;p<t.length;p++){var f=t[p];if(n.intersect(f.rect)){if(o&&f.axisAligned){h=!0;break}if(f.obb||(f.obb=new nu(f.localRect,f.transform)),d||(d=new nu(s,l)),d.intersect(f.obb)){h=!0;break}}}h?(a(u),c&&a(c)):(u.attr("ignore",i.defaultAttr.ignore),c&&c.attr("ignore",i.defaultAttr.labelGuideIgnore),t.push(i))}}function Mm(e,t,n){var a=Zi.createCanvas(),r=t.getWidth(),i=t.getHeight(),o=a.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=r+"px",o.height=i+"px",a.setAttribute("data-zr-dom-id",e)),a.width=r*n,a.height=i*n,a}var YU=function(e){mt(t,e);function t(n,a,r){var i=e.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null;var o;r=r||jl,typeof n=="string"?o=Mm(n,a,r):$e(n)&&(o=n,n=o.id),i.id=n,i.dom=o;var s=o.style;return s&&(e_(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),i.painter=a,i.dpr=r,i}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=Mm("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},t.prototype.createRepaintRects=function(n,a,r,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new st(0,0,0,0);function c(y){if(!(!y.isFinite()||y.isZero()))if(o.length===0){var _=new st(0,0,0,0);_.copy(y),o.push(_)}else{for(var w=!1,E=1/0,x=0,S=0;S<o.length;++S){var b=o[S];if(b.intersect(y)){var D=new st(0,0,0,0);D.copy(b),D.union(y),o[S]=D,w=!0;break}else if(l){u.copy(y),u.union(b);var T=y.width*y.height,A=b.width*b.height,L=u.width*u.height,P=L-T-A;P<E&&(E=P,x=S)}}if(l&&(o[x].union(y),w=!0),!w){var _=new st(0,0,0,0);_.copy(y),o.push(_)}l||(l=o.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var h=n[d];if(h){var p=h.shouldBePainted(r,i,!0,!0),f=h.__isRendered&&(h.__dirty&Cn||!p)?h.getPrevPaintRect():null;f&&c(f);var g=p&&(h.__dirty&Cn||!h.__isRendered)?h.getPaintRect():null;g&&c(g)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var h=a[d],p=h.shouldBePainted(r,i,!0,!0);if(h&&(!p||!h.__zr)&&h.__isRendered){var f=h.getPrevPaintRect();f&&c(f)}}var v;do{v=!1;for(var d=0;d<o.length;){if(o[d].isZero()){o.splice(d,1);continue}for(var m=d+1;m<o.length;)o[d].intersect(o[m])?(v=!0,o[d].union(o[m]),o.splice(m,1)):m++;d++}}while(v);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(n,a){var r=this.dpr,i=this.dom,o=i.style,s=this.domBack;o&&(o.width=n+"px",o.height=a+"px"),i.width=n*r,i.height=a*r,s&&(s.width=n*r,s.height=a*r,r!==1&&this.ctxBack.scale(r,r))},t.prototype.clear=function(n,a,r){var i=this.dom,o=this.ctx,s=i.width,l=i.height;a=a||this.clearColor;var u=this.motionBlur&&!n,c=this.lastFrameAlpha,d=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,s/d,l/d));var p=this.domBack;function f(g,v,m,y){if(o.clearRect(g,v,m,y),a&&a!=="transparent"){var _=void 0;if(Iu(a)){var w=a.global||a.__width===m&&a.__height===y;_=w&&a.__canvasGradient||Mh(o,a,{x:0,y:0,width:m,height:y}),a.__canvasGradient=_,a.__width=m,a.__height=y}else BR(a)&&(a.scaleX=a.scaleX||d,a.scaleY=a.scaleY||d,_=Lh(o,a,{dirty:function(){h.setUnpainted(),h.__painter.refresh()}}));o.save(),o.fillStyle=_||a,o.fillRect(g,v,m,y),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(p,g,v,m,y),o.restore())}!r||u?f(0,0,s,l):r.length&&R(r,function(g){f(g.x*d,g.y*d,g.width*d,g.height*d)})},t}(Pn);const yd=YU;var Lm=1e5,xr=314159,yl=.01,zU=.001;function WU(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function qU(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var ZU=function(){function e(t,n,a,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=a=_e({},a||{}),this.dpr=a.devicePixelRatio||jl,this._singleCanvas=i,this.root=t;var o=t.style;o&&(e_(t),t.innerHTML=""),this.storage=n;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(i){var c=t,d=c.width,h=c.height;a.width!=null&&(d=a.width),a.height!=null&&(h=a.height),this.dpr=a.devicePixelRatio||1,c.width=d*this.dpr,c.height=h*this.dpr,this._width=d,this._height=h;var p=new yd(c,this,this.dpr);p.__builtin__=!0,p.initContext(),l[xr]=p,p.zlevel=xr,s.push(xr),this._domRoot=t}else{this._width=ul(t,0,a),this._height=ul(t,1,a);var u=this._domRoot=qU(this._width,this._height);t.appendChild(u)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),a=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,a,t,this._redrawId);for(var i=0;i<r.length;i++){var o=r[i],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=i===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var n=t.length,a=this._hoverlayer;if(a&&a.clear(),!!n){for(var r={inHover:!0,viewWidth:this._width,viewHeight:this._height},i,o=0;o<n;o++){var s=t[o];s.__inHover&&(a||(a=this._hoverlayer=this.getLayer(Lm)),i||(i=a.ctx,i.save()),kr(i,s,r,o===n-1))}i&&i.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(Lm)},e.prototype.paintOne=function(t,n){M1(t,n)},e.prototype._paintList=function(t,n,a,r){if(this._redrawId===r){a=a||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,n,a),o=i.finished,s=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;eh(function(){l._paintList(t,n,a,r)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(xr).ctx,n=this._domRoot.width,a=this._domRoot.height;t.clearRect(0,0,n,a),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,n,a)})},e.prototype._doPaintList=function(t,n,a){for(var r=this,i=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||a)&&i.push(u)}for(var c=!0,d=!1,h=function(g){var v=i[g],m=v.ctx,y=o&&v.createRepaintRects(t,n,p._width,p._height),_=a?v.__startIndex:v.__drawIndex,w=!a&&v.incremental&&Date.now,E=w&&Date.now(),x=v.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(v.__startIndex===v.__endIndex)v.clear(!1,x,y);else if(_===v.__startIndex){var S=t[_];(!S.incremental||!S.notClear||a)&&v.clear(!1,x,y)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=v.__startIndex);var b,D=function(P){var N={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(b=_;b<v.__endIndex;b++){var B=t[b];if(B.__inHover&&(d=!0),r._doPaintEl(B,v,o,P,N,b===v.__endIndex-1),w){var K=Date.now()-E;if(K>15)break}}N.prevElClipPaths&&m.restore()};if(y)if(y.length===0)b=v.__endIndex;else for(var T=p.dpr,A=0;A<y.length;++A){var L=y[A];m.save(),m.beginPath(),m.rect(L.x*T,L.y*T,L.width*T,L.height*T),m.clip(),D(L),m.restore()}else m.save(),D(),m.restore();v.__drawIndex=b,v.__drawIndex<v.__endIndex&&(c=!1)},p=this,f=0;f<i.length;f++)h(f);return Je.wxa&&R(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:c,needsRefreshHover:d}},e.prototype._doPaintEl=function(t,n,a,r,i,o){var s=n.ctx;if(a){var l=t.getPaintRect();(!r||l&&l.intersect(r))&&(kr(s,t,i,o),t.setPrevPaintRect(l))}else kr(s,t,i,o)},e.prototype.getLayer=function(t,n){this._singleCanvas&&!this._needsManuallyCompositing&&(t=xr);var a=this._layers[t];return a||(a=new yd("zr_"+t,this,this.dpr),a.zlevel=t,a.__builtin__=!0,this._layerConfig[t]?tt(a,this._layerConfig[t],!0):this._layerConfig[t-yl]&&tt(a,this._layerConfig[t-yl],!0),n&&(a.virtual=n),this.insertLayer(t,a),a.initContext()),a},e.prototype.insertLayer=function(t,n){var a=this._layers,r=this._zlevelList,i=r.length,o=this._domRoot,s=null,l=-1;if(!a[t]&&WU(n)){if(i>0&&t>r[0]){for(l=0;l<i-1&&!(r[l]<t&&r[l+1]>t);l++);s=a[r[l]]}if(r.splice(l+1,0,t),a[t]=n,!n.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(n.dom,u.nextSibling):o.appendChild(n.dom)}else o.firstChild?o.insertBefore(n.dom,o.firstChild):o.appendChild(n.dom);n.__painter=this}},e.prototype.eachLayer=function(t,n){for(var a=this._zlevelList,r=0;r<a.length;r++){var i=a[r];t.call(n,this._layers[i],i)}},e.prototype.eachBuiltinLayer=function(t,n){for(var a=this._zlevelList,r=0;r<a.length;r++){var i=a[r],o=this._layers[i];o.__builtin__&&t.call(n,o,i)}},e.prototype.eachOtherLayer=function(t,n){for(var a=this._zlevelList,r=0;r<a.length;r++){var i=a[r],o=this._layers[i];o.__builtin__||t.call(n,o,i)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(d,h){d.__dirty=d.__used=!1});function n(d){i&&(i.__endIndex!==d&&(i.__dirty=!0),i.__endIndex=d)}if(this._singleCanvas)for(var a=1;a<t.length;a++){var r=t[a];if(r.zlevel!==t[a-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var i=null,o=0,s,l;for(l=0;l<t.length;l++){var r=t[l],u=r.zlevel,c=void 0;s!==u&&(s=u,o=0),r.incremental?(c=this.getLayer(u+zU,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?yl:0),this._needsManuallyCompositing),c.__builtin__||dp("ZLevel "+u+" has been used by unkown layer "+c.id),c!==i&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,n(l),i=c),r.__dirty&Cn&&!r.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}n(l),this.eachBuiltinLayer(function(d,h){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,R(this._layers,function(n){n.setUnpainted()})},e.prototype.configLayer=function(t,n){if(n){var a=this._layerConfig;a[t]?tt(a[t],n,!0):a[t]=n;for(var r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];if(i===t||i===t+yl){var o=this._layers[i];tt(o,a[t],!0)}}}},e.prototype.delLayer=function(t){var n=this._layers,a=this._zlevelList,r=n[t];r&&(r.dom.parentNode.removeChild(r.dom),delete n[t],a.splice(it(a,t),1))},e.prototype.resize=function(t,n){if(this._domRoot.style){var a=this._domRoot;a.style.display="none";var r=this._opts,i=this.root;if(t!=null&&(r.width=t),n!=null&&(r.height=n),t=ul(i,0,r),n=ul(i,1,r),a.style.display="",this._width!==t||n!==this._height){a.style.width=t+"px",a.style.height=n+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,n);this.refresh(!0)}this._width=t,this._height=n}else{if(t==null||n==null)return;this._width=t,this._height=n,this.getLayer(xr).resize(t,n)}return this},e.prototype.clearLayer=function(t){var n=this._layers[t];n&&n.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[xr].dom;var n=new yd("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this._backgroundColor);var a=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=n.dom.width,i=n.dom.height;this.eachLayer(function(d){d.__builtin__?a.drawImage(d.dom,0,0,r,i):d.renderToCanvas&&(a.save(),d.renderToCanvas(a),a.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];kr(a,c,o,l===u-1)}return n.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();const KU=ZU;function ei(e){e.registerPainter("canvas",KU)}var XU=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n){return of(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(n){var a=new $t,r=Wr("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);a.add(r),r.setStyle(n.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,l=n.itemHeight*.8,u=Wr(s,(n.itemWidth-l)/2,(n.itemHeight-l)/2,l,l,n.itemStyle.fill);a.add(u),u.setStyle(n.itemStyle);var c=n.iconRotate==="inherit"?o:n.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([n.itemWidth/2,n.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),a},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(zr);const jU=XU;function hf(e,t){var n=e.mapDimensionsAll("defaultedLabel"),a=n.length;if(a===1){var r=Yi(e,t,n[0]);return r!=null?r+"":null}else if(a){for(var i=[],o=0;o<n.length;o++)i.push(Yi(e,t,n[o]));return i.join(" ")}}function bw(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!Te(t))return t+"";for(var a=[],r=0;r<n.length;r++){var i=e.getDimensionIndex(n[r]);i>=0&&a.push(t[i])}return a.join(" ")}var JU=function(e){Pe(t,e);function t(n,a,r,i){var o=e.call(this)||this;return o.updateData(n,a,r,i),o}return t.prototype._createSymbol=function(n,a,r,i,o){this.removeAll();var s=Wr(n,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=QU,this._symbolType=n,this.add(s)},t.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Hi(this.childAt(0))},t.prototype.downplay=function(){Vi(this.childAt(0))},t.prototype.setZ=function(n,a){var r=this.childAt(0);r.zlevel=n,r.z=a},t.prototype.setDraggable=function(n,a){var r=this.childAt(0);r.draggable=n,r.cursor=!a&&n?"move":r.cursor},t.prototype.updateData=function(n,a,r,i){this.silent=!1;var o=n.getItemVisual(a,"symbol")||"circle",s=n.hostModel,l=t.getSymbolSize(n,a),u=o!==this._symbolType,c=i&&i.disableAnimation;if(u){var d=n.getItemVisual(a,"symbolKeepAspect");this._createSymbol(o,n,a,l,d)}else{var h=this.childAt(0);h.silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};c?h.attr(p):On(h,p,s,a),SC(h)}if(this._updateCommon(n,a,l,r,i),u){var h=this.childAt(0);if(!c){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,sa(h,p,s,a)}}c&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(n,a,r,i,o){var s=this.childAt(0),l=n.hostModel,u,c,d,h,p,f,g,v,m;if(i&&(u=i.emphasisItemStyle,c=i.blurItemStyle,d=i.selectItemStyle,h=i.focus,p=i.blurScope,g=i.labelStatesModels,v=i.hoverScale,m=i.cursorStyle,f=i.emphasisDisabled),!i||n.hasItemOption){var y=i&&i.itemModel?i.itemModel:n.getItemModel(a),_=y.getModel("emphasis");u=_.getModel("itemStyle").getItemStyle(),d=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),h=_.get("focus"),p=_.get("blurScope"),f=_.get("disabled"),g=Vu(y),v=_.getShallow("scale"),m=y.getShallow("cursor")}var w=n.getItemVisual(a,"symbolRotate");s.attr("rotation",(w||0)*Math.PI/180||0);var E=T1(n.getItemVisual(a,"symbolOffset"),r);E&&(s.x=E[0],s.y=E[1]),m&&s.attr("cursor",m);var x=n.getItemVisual(a,"style"),S=x.fill;if(s instanceof jr){var b=s.style;s.useStyle(_e({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},x))}else s.__isEmptyBrush?s.useStyle(_e({},x)):s.useStyle(x),s.style.decal=null,s.setColor(S,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var D=n.getItemVisual(a,"liftZ"),T=this._z2;D!=null?T==null&&(this._z2=s.z2,s.z2+=D):T!=null&&(s.z2=T,this._z2=null);var A=o&&o.useNameLabel;Bp(s,g,{labelFetcher:l,labelDataIndex:a,defaultText:L,inheritColor:S,defaultOpacity:x.opacity});function L(B){return A?n.getName(B):hf(n,B)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var P=s.ensureState("emphasis");P.style=u,s.ensureState("select").style=d,s.ensureState("blur").style=c;var N=v==null||v===!0?Math.max(1.1,3/this._sizeY):isFinite(v)&&v>0?+v:1;P.scaleX=this._sizeX*N,P.scaleY=this._sizeY*N,this.setSymbolScale(1),tu(this,h,p,f)},t.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},t.prototype.fadeOut=function(n,a,r){var i=this.childAt(0),o=vt(this).dataIndex,s=r&&r.animation;if(this.silent=i.silent=!0,r&&r.fadeLabel){var l=i.getTextContent();l&&au(l,{style:{opacity:0}},a,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();au(i,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:o,cb:n,removeOpt:s})},t.getSymbolSize=function(n,a){return k8(n.getItemVisual(a,"symbolSize"))},t}($t);function QU(e,t){this.parent.drift(e,t)}const pf=JU;function _d(e,t,n,a){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(a.isIgnore&&a.isIgnore(n))&&!(a.clipShape&&!a.clipShape.contain(t[0],t[1]))&&e.getItemVisual(n,"symbol")!=="none"}function Rm(e){return e!=null&&!$e(e)&&(e={isIgnore:e}),e||{}}function Om(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:Vu(t),cursorStyle:t.get("cursor")}}var e3=function(){function e(t){this.group=new $t,this._SymbolCtor=t||pf}return e.prototype.updateData=function(t,n){this._progressiveEls=null,n=Rm(n);var a=this.group,r=t.hostModel,i=this._data,o=this._SymbolCtor,s=n.disableAnimation,l=Om(t),u={disableAnimation:s},c=n.getSymbolPoint||function(d){return t.getItemLayout(d)};i||a.removeAll(),t.diff(i).add(function(d){var h=c(d);if(_d(t,h,d,n)){var p=new o(t,d,l,u);p.setPosition(h),t.setItemGraphicEl(d,p),a.add(p)}}).update(function(d,h){var p=i.getItemGraphicEl(h),f=c(d);if(!_d(t,f,d,n)){a.remove(p);return}var g=t.getItemVisual(d,"symbol")||"circle",v=p&&p.getSymbolType&&p.getSymbolType();if(!p||v&&v!==g)a.remove(p),p=new o(t,d,l,u),p.setPosition(f);else{p.updateData(t,d,l,u);var m={x:f[0],y:f[1]};s?p.attr(m):On(p,m,r)}a.add(p),t.setItemGraphicEl(d,p)}).remove(function(d){var h=i.getItemGraphicEl(d);h&&h.fadeOut(function(){a.remove(h)},r)}).execute(),this._getSymbolPoint=c,this._data=t},e.prototype.updateLayout=function(){var t=this,n=this._data;n&&n.eachItemGraphicEl(function(a,r){var i=t._getSymbolPoint(r);a.setPosition(i),a.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Om(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,n,a){this._progressiveEls=[],a=Rm(a);function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=n.getItemLayout(i);if(_d(n,o,i,a)){var s=new this._SymbolCtor(n,i,this._seriesScope);s.traverse(r),s.setPosition(o),this.group.add(s),n.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(t){Fu(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var n=this.group,a=this._data;a&&t?a.eachItemGraphicEl(function(r){r.fadeOut(function(){n.remove(r)},a.hostModel)}):n.removeAll()},e}();const t3=e3;function Sw(e,t,n){var a=e.getBaseAxis(),r=e.getOtherAxis(a),i=n3(r,n),o=a.dim,s=r.dim,l=t.mapDimension(s),u=t.mapDimension(o),c=s==="x"||s==="radius"?1:0,d=Re(e.dimensions,function(f){return t.mapDimension(f)}),h=!1,p=t.getCalculationInfo("stackResultDimension");return zi(t,d[0])&&(h=!0,d[0]=p),zi(t,d[1])&&(h=!0,d[1]=p),{dataDimsForPoint:d,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function n3(e,t){var n=0,a=e.scale.getExtent();return t==="start"?n=a[0]:t==="end"?n=a[1]:bt(t)&&!isNaN(t)?n=t:a[0]>0?n=a[0]:a[1]<0&&(n=a[1]),n}function Dw(e,t,n,a){var r=NaN;e.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),a)),isNaN(r)&&(r=e.valueStart);var i=e.baseDataOffset,o=[];return o[i]=n.get(e.baseDim,a),o[1-i]=r,t.dataToPoint(o)}function a3(e,t){var n=[];return t.diff(e).add(function(a){n.push({cmd:"+",idx:a})}).update(function(a,r){n.push({cmd:"=",idx:r,idx1:a})}).remove(function(a){n.push({cmd:"-",idx:a})}).execute(),n}function r3(e,t,n,a,r,i,o,s){for(var l=a3(e,t),u=[],c=[],d=[],h=[],p=[],f=[],g=[],v=Sw(r,t,o),m=e.getLayout("points")||[],y=t.getLayout("points")||[],_=0;_<l.length;_++){var w=l[_],E=!0,x=void 0,S=void 0;switch(w.cmd){case"=":x=w.idx*2,S=w.idx1*2;var b=m[x],D=m[x+1],T=y[S],A=y[S+1];(isNaN(b)||isNaN(D))&&(b=T,D=A),u.push(b,D),c.push(T,A),d.push(n[x],n[x+1]),h.push(a[S],a[S+1]),g.push(t.getRawIndex(w.idx1));break;case"+":var L=w.idx,P=v.dataDimsForPoint,N=r.dataToPoint([t.get(P[0],L),t.get(P[1],L)]);S=L*2,u.push(N[0],N[1]),c.push(y[S],y[S+1]);var B=Dw(v,r,t,L);d.push(B[0],B[1]),h.push(a[S],a[S+1]),g.push(t.getRawIndex(L));break;case"-":E=!1}E&&(p.push(w),f.push(f.length))}f.sort(function(ie,te){return g[ie]-g[te]});for(var K=u.length,ce=_a(K),$=_a(K),W=_a(K),ae=_a(K),Z=[],_=0;_<f.length;_++){var ne=f[_],Y=_*2,q=ne*2;ce[Y]=u[q],ce[Y+1]=u[q+1],$[Y]=c[q],$[Y+1]=c[q+1],W[Y]=d[q],W[Y+1]=d[q+1],ae[Y]=h[q],ae[Y+1]=h[q+1],Z[_]=p[ne]}return{current:ce,next:$,stackedOnCurrent:W,stackedOnNext:ae,status:Z}}var Na=Math.min,Ba=Math.max;function Or(e,t){return isNaN(e)||isNaN(t)}function $h(e,t,n,a,r,i,o,s,l){for(var u,c,d,h,p,f,g=n,v=0;v<a;v++){var m=t[g*2],y=t[g*2+1];if(g>=r||g<0)break;if(Or(m,y)){if(l){g+=i;continue}break}if(g===n)e[i>0?"moveTo":"lineTo"](m,y),d=m,h=y;else{var _=m-u,w=y-c;if(_*_+w*w<.5){g+=i;continue}if(o>0){for(var E=g+i,x=t[E*2],S=t[E*2+1];x===m&&S===y&&v<a;)v++,E+=i,g+=i,x=t[E*2],S=t[E*2+1],m=t[g*2],y=t[g*2+1],_=m-u,w=y-c;var b=v+1;if(l)for(;Or(x,S)&&b<a;)b++,E+=i,x=t[E*2],S=t[E*2+1];var D=.5,T=0,A=0,L=void 0,P=void 0;if(b>=a||Or(x,S))p=m,f=y;else{T=x-u,A=S-c;var N=m-u,B=x-m,K=y-c,ce=S-y,$=void 0,W=void 0;if(s==="x"){$=Math.abs(N),W=Math.abs(B);var ae=T>0?1:-1;p=m-ae*$*o,f=y,L=m+ae*W*o,P=y}else if(s==="y"){$=Math.abs(K),W=Math.abs(ce);var Z=A>0?1:-1;p=m,f=y-Z*$*o,L=m,P=y+Z*W*o}else $=Math.sqrt(N*N+K*K),W=Math.sqrt(B*B+ce*ce),D=W/(W+$),p=m-T*o*(1-D),f=y-A*o*(1-D),L=m+T*o*D,P=y+A*o*D,L=Na(L,Ba(x,m)),P=Na(P,Ba(S,y)),L=Ba(L,Na(x,m)),P=Ba(P,Na(S,y)),T=L-m,A=P-y,p=m-T*$/W,f=y-A*$/W,p=Na(p,Ba(u,m)),f=Na(f,Ba(c,y)),p=Ba(p,Na(u,m)),f=Ba(f,Na(c,y)),T=m-p,A=y-f,L=m+T*W/$,P=y+A*W/$}e.bezierCurveTo(d,h,p,f,m,y),d=L,h=P}else e.lineTo(m,y)}u=m,c=y,g+=i}return v}var Tw=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),i3=function(e){Pe(t,e);function t(n){var a=e.call(this,n)||this;return a.type="ec-polyline",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Tw},t.prototype.buildPath=function(n,a){var r=a.points,i=0,o=r.length/2;if(a.connectNulls){for(;o>0&&Or(r[o*2-2],r[o*2-1]);o--);for(;i<o&&Or(r[i*2],r[i*2+1]);i++);}for(;i<o;)i+=$h(n,r,i,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},t.prototype.getPointOn=function(n,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path,i=r.data,o=Ja.CMD,s,l,u=a==="x",c=[],d=0;d<i.length;){var h=i[d++],p=void 0,f=void 0,g=void 0,v=void 0,m=void 0,y=void 0,_=void 0;switch(h){case o.M:s=i[d++],l=i[d++];break;case o.L:if(p=i[d++],f=i[d++],_=u?(n-s)/(p-s):(n-l)/(f-l),_<=1&&_>=0){var w=u?(f-l)*_+l:(p-s)*_+s;return u?[n,w]:[w,n]}s=p,l=f;break;case o.C:p=i[d++],f=i[d++],g=i[d++],v=i[d++],m=i[d++],y=i[d++];var E=u?Zl(s,p,g,m,n,c):Zl(l,f,v,y,n,c);if(E>0)for(var x=0;x<E;x++){var S=c[x];if(S<=1&&S>=0){var w=u?Pt(l,f,v,y,S):Pt(s,p,g,m,S);return u?[n,w]:[w,n]}}s=m,l=y;break}}},t}(rt),o3=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Tw),s3=function(e){Pe(t,e);function t(n){var a=e.call(this,n)||this;return a.type="ec-polygon",a}return t.prototype.getDefaultShape=function(){return new o3},t.prototype.buildPath=function(n,a){var r=a.points,i=a.stackedOnPoints,o=0,s=r.length/2,l=a.smoothMonotone;if(a.connectNulls){for(;s>0&&Or(r[s*2-2],r[s*2-1]);s--);for(;o<s&&Or(r[o*2],r[o*2+1]);o++);}for(;o<s;){var u=$h(n,r,o,s,s,1,a.smooth,l,a.connectNulls);$h(n,i,o+u-1,u,s,-1,a.stackedOnSmooth,l,a.connectNulls),o+=u+1,n.closePath()}},t}(rt);function Iw(e,t,n,a,r){var i=e.getArea(),o=i.x,s=i.y,l=i.width,u=i.height,c=n.get(["lineStyle","width"])||2;o-=c/2,s-=c/2,l+=c,u+=c,o=Math.floor(o),l=Math.round(l);var d=new St({shape:{x:o,y:s,width:l,height:u}});if(t){var h=e.getBaseAxis(),p=h.isHorizontal(),f=h.inverse;p?(f&&(d.shape.x+=l),d.shape.width=0):(f||(d.shape.y+=u),d.shape.height=0);var g=We(r)?function(v){r(v,d)}:null;sa(d,{shape:{width:l,height:u,x:o,y:s}},n,null,a,g)}return d}function Aw(e,t,n){var a=e.getArea(),r=Mt(a.r0,1),i=Mt(a.r,1),o=new Hr({shape:{cx:Mt(e.cx,1),cy:Mt(e.cy,1),r0:r,r:i,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(t){var s=e.getBaseAxis().dim==="angle";s?o.shape.endAngle=a.startAngle:o.shape.r=r,sa(o,{shape:{endAngle:a.endAngle,r:i}},n)}return o}function l3(e,t,n,a,r){if(e){if(e.type==="polar")return Aw(e,t,n);if(e.type==="cartesian2d")return Iw(e,t,n,a,r)}else return null;return null}function ff(e,t){return e.type===t}function Pm(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function Nm(e){for(var t=1/0,n=1/0,a=-1/0,r=-1/0,i=0;i<e.length;){var o=e[i++],s=e[i++];isNaN(o)||(t=Math.min(o,t),a=Math.max(o,a)),isNaN(s)||(n=Math.min(s,n),r=Math.max(s,r))}return[[t,n],[a,r]]}function Bm(e,t){var n=Nm(e),a=n[0],r=n[1],i=Nm(t),o=i[0],s=i[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function $m(e){return bt(e)?e:e?.5:0}function u3(e,t,n){if(!n.valueDim)return[];for(var a=t.count(),r=_a(a*2),i=0;i<a;i++){var o=Dw(n,e,t,i);r[i*2]=o[0],r[i*2+1]=o[1]}return r}function $a(e,t,n,a){var r=t.getBaseAxis(),i=r.dim==="x"||r.dim==="radius"?0:1,o=[],s=0,l=[],u=[],c=[],d=[];if(a){for(s=0;s<e.length;s+=2)!isNaN(e[s])&&!isNaN(e[s+1])&&d.push(e[s],e[s+1]);e=d}for(s=0;s<e.length-2;s+=2)switch(c[0]=e[s+2],c[1]=e[s+3],u[0]=e[s],u[1]=e[s+1],o.push(u[0],u[1]),n){case"end":l[i]=c[i],l[1-i]=u[1-i],o.push(l[0],l[1]);break;case"middle":var h=(u[i]+c[i])/2,p=[];l[i]=p[i]=h,l[1-i]=u[1-i],p[1-i]=c[1-i],o.push(l[0],l[1]),o.push(p[0],p[1]);break;default:l[i]=u[i],l[1-i]=c[1-i],o.push(l[0],l[1])}return o.push(e[s++],e[s++]),o}function c3(e,t){var n=[],a=e.length,r,i;function o(c,d,h){var p=c.coord,f=(h-p)/(d.coord-p),g=B5(f,[c.color,d.color]);return{coord:h,color:g}}for(var s=0;s<a;s++){var l=e[s],u=l.coord;if(u<0)r=l;else if(u>t){i?n.push(o(i,l,t)):r&&n.push(o(r,l,0),o(r,l,t));break}else r&&(n.push(o(r,l,0)),r=null),n.push(l),i=l}return n}function d3(e,t,n){var a=e.getVisual("visualMeta");if(!(!a||!a.length||!e.count())&&t.type==="cartesian2d"){for(var r,i,o=a.length-1;o>=0;o--){var s=e.getDimensionInfo(a[o].dimension);if(r=s&&s.coordDim,r==="x"||r==="y"){i=a[o];break}}if(i){var l=t.getAxis(r),u=Re(i.stops,function(_){return{coord:l.toGlobalCoord(l.dataToCoord(_.value)),color:_.color}}),c=u.length,d=i.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),d.reverse());var h=c3(u,r==="x"?n.getWidth():n.getHeight()),p=h.length;if(!p&&c)return u[0].coord<0?d[1]?d[1]:u[c-1].color:d[0]?d[0]:u[0].color;var f=10,g=h[0].coord-f,v=h[p-1].coord+f,m=v-g;if(m<.001)return"transparent";R(h,function(_){_.offset=(_.coord-g)/m}),h.push({offset:p?h[p-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:d[0]||"transparent"});var y=new Mp(0,0,0,0,h,!0);return y[r]=g,y[r+"2"]=v,y}}}function h3(e,t,n){var a=e.get("showAllSymbol"),r=a==="auto";if(!(a&&!r)){var i=n.getAxesByScale("ordinal")[0];if(i&&!(r&&p3(i,t))){var o=t.mapDimension(i.dim),s={};return R(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(o,l))}}}}function p3(e,t){var n=e.getExtent(),a=Math.abs(n[1]-n[0])/e.scale.count();isNaN(a)&&(a=0);for(var r=t.count(),i=Math.max(1,Math.round(r/5)),o=0;o<r;o+=i)if(pf.getSymbolSize(t,o)[e.isHorizontal()?1:0]*1.5>a)return!1;return!0}function f3(e,t){return isNaN(e)||isNaN(t)}function v3(e){for(var t=e.length/2;t>0&&f3(e[t*2-2],e[t*2-1]);t--);return t-1}function Um(e,t){return[e[t*2],e[t*2+1]]}function g3(e,t,n){for(var a=e.length/2,r=n==="x"?0:1,i,o,s=0,l=-1,u=0;u<a;u++)if(o=e[u*2+r],!(isNaN(o)||isNaN(e[u*2+1-r]))){if(u===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){l=u;break}s=u,i=o}return{range:[s,l],t:(t-i)/(o-i)}}function kw(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<oa.length;t++)if(e.get([oa[t],"endLabel","show"]))return!0;return!1}function Cd(e,t,n,a){if(ff(t,"cartesian2d")){var r=a.getModel("endLabel"),i=r.get("valueAnimation"),o=a.getData(),s={lastFrameIndex:0},l=kw(a)?function(p,f){e._endLabelOnDuring(p,f,o,s,i,r,t)}:null,u=t.getBaseAxis().isHorizontal(),c=Iw(t,n,a,function(){var p=e._endLabel;p&&n&&s.originalX!=null&&p.attr({x:s.originalX,y:s.originalY})},l);if(!a.get("clip",!0)){var d=c.shape,h=Math.max(d.width,d.height);u?(d.y-=h,d.height+=h*2):(d.x-=h,d.width+=h*2)}return l&&l(1,c),c}else return Aw(t,n,a)}function m3(e,t){var n=t.getBaseAxis(),a=n.isHorizontal(),r=n.inverse,i=a?r?"right":"left":"center",o=a?"middle":r?"top":"bottom";return{normal:{align:e.get("align")||i,verticalAlign:e.get("verticalAlign")||o}}}var y3=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var n=new $t,a=new t3;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=n},t.prototype.render=function(n,a,r){var i=this,o=n.coordinateSystem,s=this.group,l=n.getData(),u=n.getModel("lineStyle"),c=n.getModel("areaStyle"),d=l.getLayout("points")||[],h=o.type==="polar",p=this._coordSys,f=this._symbolDraw,g=this._polyline,v=this._polygon,m=this._lineGroup,y=n.get("animation"),_=!c.isEmpty(),w=c.get("origin"),E=Sw(o,l,w),x=_&&u3(o,l,E),S=n.get("showSymbol"),b=n.get("connectNulls"),D=S&&!h&&h3(n,l,o),T=this._data;T&&T.eachItemGraphicEl(function(te,X){te.__temp&&(s.remove(te),T.setItemGraphicEl(X,null))}),S||f.remove(),s.add(m);var A=h?!1:n.get("step"),L;o&&o.getArea&&n.get("clip",!0)&&(L=o.getArea(),L.width!=null?(L.x-=.1,L.y-=.1,L.width+=.2,L.height+=.2):L.r0&&(L.r0-=.5,L.r+=.5)),this._clipShapeForSymbol=L;var P=d3(l,o,r)||l.getVisual("style")[l.getVisual("drawType")];if(!(g&&p.type===o.type&&A===this._step))S&&f.updateData(l,{isIgnore:D,clipShape:L,disableAnimation:!0,getSymbolPoint:function(te){return[d[te*2],d[te*2+1]]}}),y&&this._initSymbolLabelAnimation(l,o,L),A&&(d=$a(d,o,A,b),x&&(x=$a(x,o,A,b))),g=this._newPolyline(d),_?v=this._newPolygon(d,x):v&&(m.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(n,o,Yr(P)),m.setClipPath(Cd(this,o,!0,n));else{_&&!v?v=this._newPolygon(d,x):v&&!_&&(m.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(n,o,Yr(P));var N=m.getClipPath();if(N){var B=Cd(this,o,!1,n);sa(N,{shape:B.shape},n)}else m.setClipPath(Cd(this,o,!0,n));S&&f.updateData(l,{isIgnore:D,clipShape:L,disableAnimation:!0,getSymbolPoint:function(te){return[d[te*2],d[te*2+1]]}}),(!Pm(this._stackedOnPoints,x)||!Pm(this._points,d))&&(y?this._doUpdateAnimation(l,x,o,r,A,w,b):(A&&(d=$a(d,o,A,b),x&&(x=$a(x,o,A,b))),g.setShape({points:d}),v&&v.setShape({points:d,stackedOnPoints:x})))}var K=n.getModel("emphasis"),ce=K.get("focus"),$=K.get("blurScope"),W=K.get("disabled");if(g.useStyle(Ke(u.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"})),mh(g,n,"lineStyle"),g.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var ae=g.getState("emphasis").style;ae.lineWidth=+g.style.lineWidth+1}vt(g).seriesIndex=n.seriesIndex,tu(g,ce,$,W);var Z=$m(n.get("smooth")),ne=n.get("smoothMonotone");if(g.setShape({smooth:Z,smoothMonotone:ne,connectNulls:b}),v){var Y=l.getCalculationInfo("stackedOnSeries"),q=0;v.useStyle(Ke(c.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),Y&&(q=$m(Y.get("smooth"))),v.setShape({smooth:Z,stackedOnSmooth:q,smoothMonotone:ne,connectNulls:b}),mh(v,n,"areaStyle"),vt(v).seriesIndex=n.seriesIndex,tu(v,ce,$,W)}var ie=function(te){i._changePolyState(te)};l.eachItemGraphicEl(function(te){te&&(te.onHoverStateChange=ie)}),this._polyline.onHoverStateChange=ie,this._data=l,this._coordSys=o,this._stackedOnPoints=x,this._points=d,this._step=A,this._valueOrigin=w,n.get("triggerLineEvent")&&(this.packEventData(n,g),v&&this.packEventData(n,v))},t.prototype.packEventData=function(n,a){vt(a).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},t.prototype.highlight=function(n,a,r,i){var o=n.getData(),s=Fr(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],d=l[s*2+1];if(isNaN(c)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,d))return;var h=n.get("zlevel")||0,p=n.get("z")||0;u=new pf(o,s),u.x=c,u.y=d,u.setZ(h,p);var f=u.getSymbolPath().getTextContent();f&&(f.zlevel=h,f.z=p,f.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Ea.prototype.highlight.call(this,n,a,r,i)},t.prototype.downplay=function(n,a,r,i){var o=n.getData(),s=Fr(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Ea.prototype.downplay.call(this,n,a,r,i)},t.prototype._changePolyState=function(n){var a=this._polygon;Wv(this._polyline,n),a&&Wv(a,n)},t.prototype._newPolyline=function(n){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new i3({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},t.prototype._newPolygon=function(n,a){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new s3({shape:{points:n,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},t.prototype._initSymbolLabelAnimation=function(n,a,r){var i,o,s=a.getBaseAxis(),l=s.inverse;a.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):a.type==="polar"&&(i=s.dim==="angle",o=!0);var u=n.hostModel,c=u.get("animationDuration");We(c)&&(c=c(null));var d=u.get("animationDelay")||0,h=We(d)?d(null):d;n.eachItemGraphicEl(function(p,f){var g=p;if(g){var v=[p.x,p.y],m=void 0,y=void 0,_=void 0;if(r)if(o){var w=r,E=a.pointToCoord(v);i?(m=w.startAngle,y=w.endAngle,_=-E[1]/180*Math.PI):(m=w.r0,y=w.r,_=E[0])}else{var x=r;i?(m=x.x,y=x.x+x.width,_=p.x):(m=x.y+x.height,y=x.y,_=p.y)}var S=y===m?0:(_-m)/(y-m);l&&(S=1-S);var b=We(d)?d(f):c*S+h,D=g.getSymbolPath(),T=D.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:b}),T&&T.animateFrom({style:{opacity:0}},{duration:300,delay:b}),D.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(n,a,r){var i=n.getModel("endLabel");if(kw(n)){var o=n.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new nn({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=v3(l);c>=0&&(Bp(s,Vu(n,"endLabel"),{inheritColor:r,labelFetcher:n,labelDataIndex:c,defaultText:function(d,h,p){return p!=null?bw(o,p):hf(o,d)},enableTextSetter:!0},m3(i,a)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(n,a,r,i,o,s,l){var u=this._endLabel,c=this._polyline;if(u){n<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var d=r.getLayout("points"),h=r.hostModel,p=h.get("connectNulls"),f=s.get("precision"),g=s.get("distance")||0,v=l.getBaseAxis(),m=v.isHorizontal(),y=v.inverse,_=a.shape,w=y?m?_.x:_.y+_.height:m?_.x+_.width:_.y,E=(m?g:0)*(y?-1:1),x=(m?0:-g)*(y?-1:1),S=m?"x":"y",b=g3(d,w,S),D=b.range,T=D[1]-D[0],A=void 0;if(T>=1){if(T>1&&!p){var L=Um(d,D[0]);u.attr({x:L[0]+E,y:L[1]+x}),o&&(A=h.getRawValue(D[0]))}else{var L=c.getPointOn(w,S);L&&u.attr({x:L[0]+E,y:L[1]+x});var P=h.getRawValue(D[0]),N=h.getRawValue(D[1]);o&&(A=NO(r,f,P,N,b.t))}i.lastFrameIndex=D[0]}else{var B=n===1||i.lastFrameIndex>0?D[0]:0,L=Um(d,B);o&&(A=h.getRawValue(B)),u.attr({x:L[0]+E,y:L[1]+x})}o&&Yu(u).setLabelText(A)}},t.prototype._doUpdateAnimation=function(n,a,r,i,o,s,l){var u=this._polyline,c=this._polygon,d=n.hostModel,h=r3(this._data,n,this._stackedOnPoints,a,this._coordSys,r,this._valueOrigin),p=h.current,f=h.stackedOnCurrent,g=h.next,v=h.stackedOnNext;if(o&&(p=$a(h.current,r,o,l),f=$a(h.stackedOnCurrent,r,o,l),g=$a(h.next,r,o,l),v=$a(h.stackedOnNext,r,o,l)),Bm(p,g)>3e3||c&&Bm(f,v)>3e3){u.stopAnimation(),u.setShape({points:g}),c&&(c.stopAnimation(),c.setShape({points:g,stackedOnPoints:v}));return}u.shape.__points=h.current,u.shape.points=p;var m={shape:{points:g}};h.current!==p&&(m.shape.__points=h.next),u.stopAnimation(),On(u,m,d),c&&(c.setShape({points:p,stackedOnPoints:f}),c.stopAnimation(),On(c,{shape:{stackedOnPoints:v}},d),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var y=[],_=h.status,w=0;w<_.length;w++){var E=_[w].cmd;if(E==="="){var x=n.getItemGraphicEl(_[w].idx1);x&&y.push({el:x,ptIdx:w})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var S=u.shape.__points,b=0;b<y.length;b++){var D=y[b].el,T=y[b].ptIdx*2;D.x=S[T],D.y=S[T+1],D.markRedraw()}})},t.prototype.remove=function(n){var a=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(i,o){i.__temp&&(a.remove(i),r.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Ea);const _3=y3;function C3(e,t){return{seriesType:e,plan:Jp(),reset:function(n){var a=n.getData(),r=n.coordinateSystem,i=n.pipelineContext,o=t||i.large;if(r){var s=Re(r.dimensions,function(p){return a.mapDimension(p)}).slice(0,2),l=s.length,u=a.getCalculationInfo("stackResultDimension");zi(a,s[0])&&(s[0]=u),zi(a,s[1])&&(s[1]=u);var c=a.getStore(),d=a.getDimensionIndex(s[0]),h=a.getDimensionIndex(s[1]);return l&&{progress:function(p,f){for(var g=p.end-p.start,v=o&&_a(g*l),m=[],y=[],_=p.start,w=0;_<p.end;_++){var E=void 0;if(l===1){var x=c.get(d,_);E=r.dataToPoint(x,null,y)}else m[0]=c.get(d,_),m[1]=c.get(h,_),E=r.dataToPoint(m,null,y);o?(v[w++]=E[0],v[w++]=E[1]):f.setItemLayout(_,E.slice())}o&&f.setLayout("points",v)}}}}}}var w3={average:function(e){for(var t=0,n=0,a=0;a<e.length;a++)isNaN(e[a])||(t+=e[a],n++);return n===0?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},x3=function(e){return Math.round(e.length/2)};function Mw(e){return{seriesType:e,reset:function(t,n,a){var r=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,s=r.count();if(s>10&&o.type==="cartesian2d"&&i){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),d=a.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(d||1),p=Math.round(s/h);if(isFinite(p)&&p>1){i==="lttb"&&t.setData(r.lttbDownSample(r.mapDimension(u.dim),1/p));var f=void 0;Oe(i)?f=w3[i]:We(i)&&(f=i),f&&t.setData(r.downSample(r.mapDimension(u.dim),1/p,f,x3))}}}}}function vf(e){e.registerChartView(_3),e.registerSeriesModel(jU),e.registerLayout(C3("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var n=t.getData(),a=t.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",a)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Mw("line"))}var Lw=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,a){return of(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(n,a,r){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.dataToPoint(i.clampData(n));if(r)R(i.getAxes(),function(d,h){if(d.type==="category"){var p=d.getTicksCoords(),f=i.clampData(n)[h];a&&(a[h]==="x1"||a[h]==="y1")&&(f+=1),f>p.length-1&&(f=p.length-1),f<0&&(f=0),p[f]&&(o[h]=d.toGlobalCoord(p[f].coord))}});else{var s=this.getData(),l=s.getLayout("offset"),u=s.getLayout("size"),c=i.getBaseAxis().isHorizontal()?0:1;o[c]+=l+u/2}return o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(zr);zr.registerClass(Lw);const Gm=Lw;var E3=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(){return of(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>n&&(n=a),n},t.prototype.brushSelector=function(n,a,r){return r.rect(a.getItemLayout(n))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=$p(Gm.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Gm);const b3=E3;var S3=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),D3=function(e){Pe(t,e);function t(n){var a=e.call(this,n)||this;return a.type="sausage",a}return t.prototype.getDefaultShape=function(){return new S3},t.prototype.buildPath=function(n,a){var r=a.cx,i=a.cy,o=Math.max(a.r0||0,0),s=Math.max(a.r,0),l=(s-o)*.5,u=o+l,c=a.startAngle,d=a.endAngle,h=a.clockwise,p=Math.PI*2,f=h?d-c<p:c-d<p;f||(c=d-(h?p:-p));var g=Math.cos(c),v=Math.sin(c),m=Math.cos(d),y=Math.sin(d);f?(n.moveTo(g*o+r,v*o+i),n.arc(g*u+r,v*u+i,l,-Math.PI+c,c,!h)):n.moveTo(g*s+r,v*s+i),n.arc(r,i,s,c,d,!h),n.arc(m*u+r,y*u+i,l,d-Math.PI*2,d-Math.PI,!h),o!==0&&n.arc(r,i,o,d,c,h)},t}(rt);const Fm=D3;function T3(e,t){t=t||{};var n=t.isRoundCap;return function(a,r,i){var o=r.position;if(!o||o instanceof Array)return Jl(a,r,i);var s=e(o),l=r.distance!=null?r.distance:5,u=this.shape,c=u.cx,d=u.cy,h=u.r,p=u.r0,f=(h+p)/2,g=u.startAngle,v=u.endAngle,m=(g+v)/2,y=n?Math.abs(h-p)/2:0,_=Math.cos,w=Math.sin,E=c+h*_(g),x=d+h*w(g),S="left",b="top";switch(s){case"startArc":E=c+(p-l)*_(m),x=d+(p-l)*w(m),S="center",b="top";break;case"insideStartArc":E=c+(p+l)*_(m),x=d+(p+l)*w(m),S="center",b="bottom";break;case"startAngle":E=c+f*_(g)+_l(g,l+y,!1),x=d+f*w(g)+Cl(g,l+y,!1),S="right",b="middle";break;case"insideStartAngle":E=c+f*_(g)+_l(g,-l+y,!1),x=d+f*w(g)+Cl(g,-l+y,!1),S="left",b="middle";break;case"middle":E=c+f*_(m),x=d+f*w(m),S="center",b="middle";break;case"endArc":E=c+(h+l)*_(m),x=d+(h+l)*w(m),S="center",b="bottom";break;case"insideEndArc":E=c+(h-l)*_(m),x=d+(h-l)*w(m),S="center",b="top";break;case"endAngle":E=c+f*_(v)+_l(v,l+y,!0),x=d+f*w(v)+Cl(v,l+y,!0),S="left",b="middle";break;case"insideEndAngle":E=c+f*_(v)+_l(v,-l+y,!0),x=d+f*w(v)+Cl(v,-l+y,!0),S="right",b="middle";break;default:return Jl(a,r,i)}return a=a||{},a.x=E,a.y=x,a.align=S,a.verticalAlign=b,a}}function I3(e,t,n,a){if(bt(a)){e.setTextConfig({rotation:a});return}else if(Te(t)){e.setTextConfig({rotation:0});return}var r=e.shape,i=r.clockwise?r.startAngle:r.endAngle,o=r.clockwise?r.endAngle:r.startAngle,s=(i+o)/2,l,u=n(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=o;break;default:e.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),e.setTextConfig({rotation:c})}function _l(e,t,n){return t*Math.sin(e)*(n?-1:1)}function Cl(e,t,n){return t*Math.cos(e)*(n?1:-1)}var wd=Math.max,xd=Math.min;function A3(e,t){var n=e.getArea&&e.getArea();if(ff(e,"cartesian2d")){var a=e.getBaseAxis();if(a.type!=="category"||!a.onBand){var r=t.getLayout("bandWidth");a.isHorizontal()?(n.x-=r,n.width+=r*2):(n.y-=r,n.height+=r*2)}}return n}var k3=function(e){Pe(t,e);function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return t.prototype.render=function(n,a,r,i){this._model=n,this._removeOnRenderedListener(r),this._updateDrawMode(n);var o=n.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,a,r):this._renderNormal(n,a,r,i))},t.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},t.prototype.incrementalRender=function(n,a){this._progressiveEls=[],this._incrementalRenderLarge(n,a)},t.prototype.eachRendered=function(n){Fu(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var a=n.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(n,a,r,i){var o=this.group,s=n.getData(),l=this._data,u=n.coordinateSystem,c=u.getBaseAxis(),d;u.type==="cartesian2d"?d=c.isHorizontal():u.type==="polar"&&(d=c.dim==="angle");var h=n.isAnimationEnabled()?n:null,p=M3(n,u);p&&this._enableRealtimeSort(p,s,r);var f=n.get("clip",!0)||p,g=A3(u,s);o.removeClipPath();var v=n.get("roundCap",!0),m=n.get("showBackground",!0),y=n.getModel("backgroundStyle"),_=y.get("borderRadius")||0,w=[],E=this._backgroundEls,x=i&&i.isInitSort,S=i&&i.type==="changeAxisOrder";function b(A){var L=wl[u.type](s,A),P=$3(u,d,L);return P.useStyle(y.getItemStyle()),u.type==="cartesian2d"&&P.setShape("r",_),w[A]=P,P}s.diff(l).add(function(A){var L=s.getItemModel(A),P=wl[u.type](s,A,L);if(m&&b(A),!(!s.hasValue(A)||!Wm[u.type](P))){var N=!1;f&&(N=Hm[u.type](g,P));var B=Vm[u.type](n,s,A,P,d,h,c.model,!1,v);p&&(B.forceLabelAnimation=!0),qm(B,s,A,L,P,n,d,u.type==="polar"),x?B.attr({shape:P}):p?Ym(p,h,B,P,A,d,!1,!1):sa(B,{shape:P},n,A),s.setItemGraphicEl(A,B),o.add(B),B.ignore=N}}).update(function(A,L){var P=s.getItemModel(A),N=wl[u.type](s,A,P);if(m){var B=void 0;E.length===0?B=b(L):(B=E[L],B.useStyle(y.getItemStyle()),u.type==="cartesian2d"&&B.setShape("r",_),w[A]=B);var K=wl[u.type](s,A),ce=Ow(d,K,u);On(B,{shape:ce},h,A)}var $=l.getItemGraphicEl(L);if(!s.hasValue(A)||!Wm[u.type](N)){o.remove($);return}var W=!1;if(f&&(W=Hm[u.type](g,N),W&&o.remove($)),$?SC($):$=Vm[u.type](n,s,A,N,d,h,c.model,!!$,v),p&&($.forceLabelAnimation=!0),S){var ae=$.getTextContent();if(ae){var Z=Yu(ae);Z.prevValue!=null&&(Z.prevValue=Z.value)}}else qm($,s,A,P,N,n,d,u.type==="polar");x?$.attr({shape:N}):p?Ym(p,h,$,N,A,d,!0,S):On($,{shape:N},n,A,null),s.setItemGraphicEl(A,$),$.ignore=W,o.add($)}).remove(function(A){var L=l.getItemGraphicEl(A);L&&wh(L,n,A)}).execute();var D=this._backgroundGroup||(this._backgroundGroup=new $t);D.removeAll();for(var T=0;T<w.length;++T)D.add(w[T]);o.add(D),this._backgroundEls=w,this._data=s},t.prototype._renderLarge=function(n,a,r){this._clear(),Km(n,this.group),this._updateLargeClip(n)},t.prototype._incrementalRenderLarge=function(n,a){this._removeBackground(),Km(a,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(n){var a=n.get("clip",!0)&&l3(n.coordinateSystem,!1,n),r=this.group;a?r.setClipPath(a):r.removeClipPath()},t.prototype._enableRealtimeSort=function(n,a,r){var i=this;if(a.count()){var o=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,n,r),this._isFirstFrame=!1;else{var s=function(l){var u=a.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(a,s,o,r)},r.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(n,a,r){var i=[];return n.each(n.mapDimension(a.dim),function(o,s){var l=r(s);l=l??NaN,i.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:Re(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(n,a,r){for(var i=r.scale,o=n.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,u=i.getOrdinalMeta().categories.length;l<u;++l){var c=n.rawIndexOf(o,i.getRawOrdinalNumber(l)),d=c<0?Number.MIN_VALUE:a(n.indexOfRawIndex(c));if(d>s)return!0;s=d}return!1},t.prototype._isOrderDifferentInView=function(n,a){for(var r=a.scale,i=r.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],r.getOrdinalMeta().categories.length-1);o<=s;++o)if(n.ordinalNumbers[o]!==r.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(n,a,r,i){if(this._isOrderChangedWithinSameData(n,a,r)){var o=this._dataSort(n,r,a);this._isOrderDifferentInView(o,r)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(n,a,r){var i=a.baseAxis,o=this._dataSort(n,i,function(s){return n.get(n.mapDimension(a.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(n,a){this._clear(this._model),this._removeOnRenderedListener(a)},t.prototype.dispose=function(n,a){this._removeOnRenderedListener(a)},t.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(n){var a=this.group,r=this._data;n&&n.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(i){wh(i,n,vt(i).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Ea),Hm={cartesian2d:function(e,t){var n=t.width<0?-1:1,a=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var r=e.x+e.width,i=e.y+e.height,o=wd(t.x,e.x),s=xd(t.x+t.width,r),l=wd(t.y,e.y),u=xd(t.y+t.height,i),c=s<o,d=u<l;return t.x=c&&o>r?s:o,t.y=d&&l>i?u:l,t.width=c?0:s-o,t.height=d?0:u-l,n<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),c||d},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var a=t.r;t.r=t.r0,t.r0=a}var r=xd(t.r,e.r),i=wd(t.r0,e.r0);t.r=r,t.r0=i;var o=r-i<0;if(n<0){var a=t.r;t.r=t.r0,t.r0=a}return o}},Vm={cartesian2d:function(e,t,n,a,r,i,o,s,l){var u=new St({shape:_e({},a),z2:1});if(u.__dataIndex=n,u.name="item",i){var c=u.shape,d=r?"height":"width";c[d]=0}return u},polar:function(e,t,n,a,r,i,o,s,l){var u=!r&&l?Fm:Hr,c=new u({shape:a,z2:1});c.name="item";var d=Rw(r);if(c.calculateTextPosition=T3(d,{isRoundCap:u===Fm}),i){var h=c.shape,p=r?"r":"endAngle",f={};h[p]=r?0:a.startAngle,f[p]=a[p],(s?On:sa)(c,{shape:f},i)}return c}};function M3(e,t){var n=e.get("realtimeSort",!0),a=t.getBaseAxis();if(n&&a.type==="category"&&t.type==="cartesian2d")return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}function Ym(e,t,n,a,r,i,o,s){var l,u;i?(u={x:a.x,width:a.width},l={y:a.y,height:a.height}):(u={y:a.y,height:a.height},l={x:a.x,width:a.width}),s||(o?On:sa)(n,{shape:l},t,r,null);var c=t?e.baseAxis.model:null;(o?On:sa)(n,{shape:u},c,r)}function zm(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var L3=["x","y","width","height"],R3=["cx","cy","r","startAngle","endAngle"],Wm={cartesian2d:function(e){return!zm(e,L3)},polar:function(e){return!zm(e,R3)}},wl={cartesian2d:function(e,t,n){var a=e.getItemLayout(t),r=n?P3(n,a):0,i=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+i*r/2,y:a.y+o*r/2,width:a.width-i*r,height:a.height-o*r}},polar:function(e,t,n){var a=e.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function O3(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function Rw(e){return function(t){var n=t?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+n;default:return a}}}(e)}function qm(e,t,n,a,r,i,o,s){var l=t.getItemVisual(n,"style");s||e.setShape("r",a.get(["itemStyle","borderRadius"])||0),e.useStyle(l);var u=a.getShallow("cursor");u&&e.attr("cursor",u);var c=s?o?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":o?r.height>=0?"bottom":"top":r.width>=0?"right":"left",d=Vu(a);Bp(e,d,{labelFetcher:i,labelDataIndex:n,defaultText:hf(i.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:c});var h=e.getTextContent();if(s&&h){var p=a.get(["label","position"]);e.textConfig.inside=p==="middle"?!0:null,I3(e,p==="outside"?c:p,Rw(o),a.get(["label","rotate"]))}tB(h,d,i.getRawValue(n),function(g){return bw(t,g)});var f=a.getModel(["emphasis"]);tu(e,f.get("focus"),f.get("blurScope"),f.get("disabled")),mh(e,a),O3(r)&&(e.style.fill="none",e.style.stroke="none",R(e.states,function(g){g.style&&(g.style.fill=g.style.stroke="none")}))}function P3(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var a=e.get(["itemStyle","borderWidth"])||0,r=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,r,i)}var N3=function(){function e(){}return e}(),Zm=function(e){Pe(t,e);function t(n){var a=e.call(this,n)||this;return a.type="largeBar",a}return t.prototype.getDefaultShape=function(){return new N3},t.prototype.buildPath=function(n,a){for(var r=a.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<r.length;c+=3)l[i]=u,l[o]=r[c+2],s[i]=r[c+i],s[o]=r[c+o],n.rect(s[0],s[1],l[0],l[1])},t}(rt);function Km(e,t,n,a){var r=e.getData(),i=r.getLayout("valueAxisHorizontal")?1:0,o=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=e.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var c=new Zm({shape:{points:u},incremental:!!a,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),n&&n.push(c)}var d=new Zm({shape:{points:r.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=i,d.largeDataIndices=o,d.barWidth=s,t.add(d),d.useStyle(r.getVisual("style")),vt(d).seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",Xm),d.on("mousemove",Xm)),n&&n.push(d)}var Xm=tc(function(e){var t=this,n=B3(t,e.offsetX,e.offsetY);vt(t).dataIndex=n>=0?n:null},30,!1);function B3(e,t,n){for(var a=e.baseDimIdx,r=1-a,i=e.shape.points,o=e.largeDataIndices,s=[],l=[],u=e.barWidth,c=0,d=i.length/3;c<d;c++){var h=c*3;if(l[a]=u,l[r]=i[h+2],s[a]=i[h+a],s[r]=i[h+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),t>=s[0]&&t<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return o[c]}return-1}function Ow(e,t,n){if(ff(n,"cartesian2d")){var a=t,r=n.getArea();return{x:e?a.x:r.x,y:e?r.y:a.y,width:e?a.width:r.width,height:e?r.height:a.height}}else{var r=n.getArea(),i=t;return{cx:r.cx,cy:r.cy,r0:e?r.r0:i.r0,r:e?r.r:i.r,startAngle:e?i.startAngle:0,endAngle:e?i.endAngle:Math.PI*2}}}function $3(e,t,n){var a=e.type==="polar"?Hr:St;return new a({shape:Ow(t,n,e),silent:!0,z2:0})}const U3=k3;function sc(e){e.registerChartView(U3),e.registerSeriesModel(b3),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,_t(rU,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,iU("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Mw("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,n){var a=t.componentType||"series";n.eachComponent({mainType:a,query:t},function(r){t.sortInfo&&r.axis.setCategorySortInfo(t.sortInfo)})})}var G3=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(wt);const F3=G3;var Uh=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",en).models[0]},t.type="cartesian2dAxis",t}(wt);ua(Uh,AU);var Pw={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},H3=tt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Pw),gf=tt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Pw),V3=tt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},gf),Y3=Ke({logBase:10},gf);const z3={category:H3,value:gf,time:V3,log:Y3};var W3={value:1,category:1,time:1,log:1};function jm(e,t,n,a){R(W3,function(r,i){var o=tt(tt({},z3[i],!0),a,!0),s=function(l){Pe(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+i,c}return u.prototype.mergeDefaultAndTheme=function(c,d){var h=cs(this),p=h?ju(c):{},f=d.getTheme();tt(c,f.get(i+"Axis")),tt(c,this.getDefaultOption()),c.type=Jm(c),h&&ds(c,p,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=Nh.createByAxisModel(this))},u.prototype.getCategories=function(c){var d=this.option;if(d.type==="category")return c?d.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+i,u.defaultOption=o,u}(n);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+"Axis",Jm)}function Jm(e){return e.type||(e.data?"category":"value")}var q3=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return Re(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Ft(this.getAxes(),function(n){return n.scale.type===t})},e.prototype.addAxis=function(t){var n=t.dim;this._axes[n]=t,this._dimList.push(n)},e}();const Z3=q3;var Gh=["x","y"];function Qm(e){return e.type==="interval"||e.type==="time"}var K3=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=Gh,n}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!Qm(n)||!Qm(a))){var r=n.getExtent(),i=a.getExtent(),o=this.dataToPoint([r[0],i[0]]),s=this.dataToPoint([r[1],i[1]]),l=r[1]-r[0],u=i[1]-i[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,d=(s[1]-o[1])/u,h=o[0]-r[0]*c,p=o[1]-i[0]*d,f=this._transform=[c,0,0,d,h,p];this._invTransform=gp([],f)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(n){var a=this.getAxis("x"),r=this.getAxis("y");return a.contain(a.toLocalCoord(n[0]))&&r.contain(r.toLocalCoord(n[1]))},t.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},t.prototype.containZone=function(n,a){var r=this.dataToPoint(n),i=this.dataToPoint(a),o=this.getArea(),s=new st(r[0],r[1],i[0]-r[0],i[1]-r[1]);return o.intersect(s)},t.prototype.dataToPoint=function(n,a,r){r=r||[];var i=n[0],o=n[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return Rn(r,n,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(i,a)),r[1]=l.toGlobalCoord(l.dataToCoord(o,a)),r},t.prototype.clampData=function(n,a){var r=this.getAxis("x").scale,i=this.getAxis("y").scale,o=r.getExtent(),s=i.getExtent(),l=r.parse(n[0]),u=i.parse(n[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),a},t.prototype.pointToData=function(n,a){var r=[];if(this._invTransform)return Rn(r,n,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return r[0]=i.coordToData(i.toLocalCoord(n[0]),a),r[1]=o.coordToData(o.toLocalCoord(n[1]),a),r},t.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},t.prototype.getArea=function(){var n=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),r=Math.min(n[0],n[1]),i=Math.min(a[0],a[1]),o=Math.max(n[0],n[1])-r,s=Math.max(a[0],a[1])-i;return new st(r,i,o,s)},t}(Z3),X3=function(e){Pe(t,e);function t(n,a,r,i,o){var s=e.call(this,n,a,r)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.getGlobalExtent=function(n){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),n&&a[0]>a[1]&&a.reverse(),a},t.prototype.pointToData=function(n,a){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),a)},t.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},t}(FU);const j3=X3;function Fh(e,t,n){n=n||{};var a=e.coordinateSystem,r=t.axis,i={},o=r.getAxesOnZeroOf()[0],s=r.position,l=o?"onZero":s,u=r.dim,c=a.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],h={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,f=u==="x"?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));f[h.onZero]=Math.max(Math.min(g,f[1]),f[0])}i.position=[u==="y"?f[h[l]]:d[0],u==="x"?f[h[l]]:d[3]],i.rotation=Math.PI/2*(u==="x"?0:1);var v={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=v[s],i.labelOffset=o?f[h[s]]-f[h.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),ts(n.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var m=t.get(["axisLabel","rotate"]);return i.labelRotate=l==="top"?-m:m,i.z2=1,i}function e0(e){return e.get("coordinateSystem")==="cartesian2d"}function t0(e){var t={xAxisModel:null,yAxisModel:null};return R(t,function(n,a){var r=a.replace(/Model$/,""),i=e.getReferringComponents(r,en).models[0];t[a]=i}),t}var Ed=Math.log;function J3(e,t,n){var a=As.prototype,r=a.getTicks.call(n),i=a.getTicks.call(n,!0),o=r.length-1,s=a.getInterval.call(n),l=vw(e,t),u=l.extent,c=l.fixMin,d=l.fixMax;if(e.type==="log"){var h=Ed(e.base);u=[Ed(u[0])/h,Ed(u[1])/h]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:d});var p=a.getExtent.call(e);c&&(u[0]=p[0]),d&&(u[1]=p[1]);var f=a.getInterval.call(e),g=u[0],v=u[1];if(c&&d)f=(v-g)/o;else if(c)for(v=u[0]+f*o;v<u[1]&&isFinite(v)&&isFinite(u[1]);)f=md(f),v=u[0]+f*o;else if(d)for(g=u[1]-f*o;g>u[0]&&isFinite(g)&&isFinite(u[0]);)f=md(f),g=u[1]-f*o;else{var m=e.getTicks().length-1;m>o&&(f=md(f));var y=f*o;v=Math.ceil(u[1]/f)*f,g=Mt(v-y),g<0&&u[0]>=0?(g=0,v=Mt(y)):v>0&&u[1]<=0&&(v=0,g=-Mt(y))}var _=(r[0].value-i[0].value)/s,w=(r[o].value-i[o].value)/s;a.setExtent.call(e,g+f*_,v+f*w),a.setInterval.call(e,f),(_||w)&&a.setNiceExtent.call(e,g+f,v-f)}var Q3=function(){function e(t,n,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Gh,this._initCartesian(t,n,a),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,n){var a=this._axesMap;this._updateScale(t,this.model);function r(o){var s,l=Dt(o),u=l.length;if(u){for(var c=[],d=u-1;d>=0;d--){var h=+l[d],p=o[h],f=p.model,g=p.scale;Bh(g)&&f.get("alignTicks")&&f.get("interval")==null?c.push(p):(Tm(g,f),Bh(g)&&(s=p))}c.length&&(s||(s=c.pop(),Tm(s.scale,s.model)),R(c,function(v){J3(v.scale,v.model,s.scale)}))}}r(a.x),r(a.y);var i={};R(a.x,function(o){n0(a,"y",o,i)}),R(a.y,function(o){n0(a,"x",o,i)}),this.resize(this.model,n)},e.prototype.resize=function(t,n,a){var r=t.getBoxLayoutParams(),i=!a&&t.get("containLabel"),o=Ji(r,{width:n.getWidth(),height:n.getHeight()});this._rect=o;var s=this._axesList;l(),i&&(R(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=DU(u);if(c){var d=u.isHorizontal()?"height":"width",h=u.model.get(["axisLabel","margin"]);o[d]-=c[d]+h,u.position==="top"?o.y+=c.height+h:u.position==="left"&&(o.x+=c.width+h)}}}),l()),R(this._coordsList,function(u){u.calcAffineTransform()});function l(){R(s,function(u){var c=u.isHorizontal(),d=c?[0,o.width]:[0,o.height],h=u.inverse?1:0;u.setExtent(d[h],d[1-h]),eG(u,c?o.x:o.y)})}},e.prototype.getAxis=function(t,n){var a=this._axesMap[t];if(a!=null)return a[n||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,n){if(t!=null&&n!=null){var a="x"+t+"y"+n;return this._coordsMap[a]}$e(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===t||i[r].getAxis("y").index===n)return i[r]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,n,a){var r=this._findConvertTarget(n);return r.cartesian?r.cartesian.dataToPoint(a):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(a)):null},e.prototype.convertFromPixel=function(t,n,a){var r=this._findConvertTarget(n);return r.cartesian?r.cartesian.pointToData(a):r.axis?r.axis.coordToData(r.axis.toLocalCoord(a)):null},e.prototype._findConvertTarget=function(t){var n=t.seriesModel,a=t.xAxisModel||n&&n.getReferringComponents("xAxis",en).models[0],r=t.yAxisModel||n&&n.getReferringComponents("yAxis",en).models[0],i=t.gridModel,o=this._coordsList,s,l;if(n)s=n.coordinateSystem,it(o,s)<0&&(s=null);else if(a&&r)s=this.getCartesian(a.componentIndex,r.componentIndex);else if(a)l=this.getAxis("x",a.componentIndex);else if(r)l=this.getAxis("y",r.componentIndex);else if(i){var u=i.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},e.prototype.containPoint=function(t){var n=this._coordsList[0];if(n)return n.containPoint(t)},e.prototype._initCartesian=function(t,n,a){var r=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(n.eachComponent("xAxis",u("x"),this),n.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,R(s.x,function(c,d){R(s.y,function(h,p){var f="x"+d+"y"+p,g=new K3(f);g.master=r,g.model=t,r._coordsMap[f]=g,r._coordsList.push(g),g.addAxis(c),g.addAxis(h)})});function u(c){return function(d,h){if(bd(d,t)){var p=d.get("position");c==="x"?p!=="top"&&p!=="bottom"&&(p=o.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=o.left?"right":"left"),o[p]=!0;var f=new j3(c,bU(d),[0,0],d.get("type"),p),g=f.type==="category";f.onBand=g&&d.get("boundaryGap"),f.inverse=d.get("inverse"),d.axis=f,f.model=d,f.grid=i,f.index=h,i._axesList.push(f),s[c][h]=f,l[c]++}}}},e.prototype._updateScale=function(t,n){R(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var i=r.model.get("categorySortInfo");r.scale.setSortInfo(i)}}),t.eachSeries(function(r){if(e0(r)){var i=t0(r),o=i.xAxisModel,s=i.yAxisModel;if(!bd(o,n)||!bd(s,n))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=r.getData(),c=l.getAxis("x"),d=l.getAxis("y");a(u,c),a(u,d)}},this);function a(r,i){R(mw(r,i.dim),function(o){i.scale.unionExtentFromData(r,o)})}},e.prototype.getTooltipAxes=function(t){var n=[],a=[];return R(this.getCartesians(),function(r){var i=t!=null&&t!=="auto"?r.getAxis(t):r.getBaseAxis(),o=r.getOtherAxis(i);it(n,i)<0&&n.push(i),it(a,o)<0&&a.push(o)}),{baseAxes:n,otherAxes:a}},e.create=function(t,n){var a=[];return t.eachComponent("grid",function(r,i){var o=new e(r,t,n);o.name="grid_"+i,o.resize(r,n,!0),r.coordinateSystem=o,a.push(o)}),t.eachSeries(function(r){if(e0(r)){var i=t0(r),o=i.xAxisModel,s=i.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;r.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),a},e.dimensions=Gh,e}();function bd(e,t){return e.getCoordSysModel()===t}function n0(e,t,n,a){n.getAxesOnZeroOf=function(){return i?[i]:[]};var r=e[t],i,o=n.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)a0(r[l])&&(i=r[l]);else for(var u in r)if(r.hasOwnProperty(u)&&a0(r[u])&&!a[c(r[u])]){i=r[u];break}i&&(a[c(i)]=!0);function c(d){return d.dim+"_"+d.index}}function a0(e){return e&&e.type!=="category"&&e.type!=="time"&&SU(e)}function eG(e,t){var n=e.getExtent(),a=n[0]+n[1];e.toGlobalCoord=e.dim==="x"?function(r){return r+t}:function(r){return a-r+t},e.toLocalCoord=e.dim==="x"?function(r){return r-t}:function(r){return a-r+t}}const tG=Q3;var Va=Math.PI,Pr=function(){function e(t,n){this.group=new $t,this.opt=n,this.axisModel=t,Ke(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var a=new $t({x:n.position[0],y:n.position[1],rotation:n.rotation});a.updateTransform(),this._transformGroup=a}return e.prototype.hasBuilder=function(t){return!!r0[t]},e.prototype.add=function(t){r0[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,n,a){var r=b_(n-t),i,o;return Ql(r)?(o=a>0?"top":"bottom",i="center"):Ql(r-Va)?(o=a>0?"bottom":"top",i="center"):(o="middle",r>0&&r<Va?i=a>0?"right":"left":i=a>0?"left":"right"),{rotation:r,textAlign:i,textVerticalAlign:o}},e.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+"Index"]=t.componentIndex,n},e.isLabelSilent=function(t){var n=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||n&&n.show)},e}(),r0={axisLine:function(e,t,n,a){var r=t.get(["axisLine","show"]);if(r==="auto"&&e.handleAutoShown&&(r=e.handleAutoShown("axisLine")),!!r){var i=t.axis.getExtent(),o=a.transform,s=[i[0],0],l=[i[1],0],u=s[0]>l[0];o&&(Rn(s,s,o),Rn(l,l,o));var c=_e({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new Vr({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});os(d.shape,d.style.lineWidth),d.anid="line",n.add(d);var h=t.get(["axisLine","symbol"]);if(h!=null){var p=t.get(["axisLine","symbolSize"]);Oe(h)&&(h=[h,h]),(Oe(p)||bt(p))&&(p=[p,p]);var f=T1(t.get(["axisLine","symbolOffset"])||0,p),g=p[0],v=p[1];R([{rotate:e.rotation+Math.PI/2,offset:f[0],r:0},{rotate:e.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(m,y){if(h[y]!=="none"&&h[y]!=null){var _=Wr(h[y],-g/2,-v/2,g,v,c.stroke,!0),w=m.r+m.offset,E=u?l:s;_.attr({rotation:m.rotate,x:E[0]+w*Math.cos(e.rotation),y:E[1]-w*Math.sin(e.rotation),silent:!0,z2:11}),n.add(_)}})}}},axisTickLabel:function(e,t,n,a){var r=rG(n,a,t,e),i=oG(n,a,t,e);if(aG(t,i,r),iG(n,a,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var o=HU(Re(i,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));VU(o)}},axisName:function(e,t,n,a){var r=ts(e.axisName,t.get("name"));if(r){var i=t.get("nameLocation"),o=e.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),c=u[0]>u[1]?-1:1,d=[i==="start"?u[0]-c*l:i==="end"?u[1]+c*l:(u[0]+u[1])/2,o0(i)?e.labelOffset+o*l:0],h,p=t.get("nameRotate");p!=null&&(p=p*Va/180);var f;o0(i)?h=Pr.innerTextLayout(e.rotation,p??e.rotation,o):(h=nG(e.rotation,i,p||0,u),f=e.axisNameAvailableWidth,f!=null&&(f=Math.abs(f/Math.sin(h.rotation)),!isFinite(f)&&(f=null)));var g=s.getFont(),v=t.get("nameTruncate",!0)||{},m=v.ellipsis,y=ts(e.nameTruncateMaxWidth,v.maxWidth,f),_=new nn({x:d[0],y:d[1],rotation:h.rotation,silent:Pr.isLabelSilent(t),style:Qa(s,{text:r,font:g,overflow:"truncate",width:y,ellipsis:m,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||h.textAlign,verticalAlign:s.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(Np({el:_,componentModel:t,itemName:r}),_.__fullText=r,_.anid="name",t.get("triggerEvent")){var w=Pr.makeAxisEventDataBase(t);w.targetType="axisName",w.name=r,vt(_).eventData=w}a.add(_),_.updateTransform(),n.add(_),_.decomposeTransform()}}};function nG(e,t,n,a){var r=b_(n-e),i,o,s=a[0]>a[1],l=t==="start"&&!s||t!=="start"&&s;return Ql(r-Va/2)?(o=l?"bottom":"top",i="center"):Ql(r-Va*1.5)?(o=l?"top":"bottom",i="center"):(o="middle",r<Va*1.5&&r>Va/2?i=l?"left":"right":i=l?"right":"left"),{rotation:r,textAlign:i,textVerticalAlign:o}}function aG(e,t,n){if(!gw(e.axis)){var a=e.get(["axisLabel","showMinLabel"]),r=e.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[];var i=t[0],o=t[1],s=t[t.length-1],l=t[t.length-2],u=n[0],c=n[1],d=n[n.length-1],h=n[n.length-2];a===!1?(bn(i),bn(u)):i0(i,o)&&(a?(bn(o),bn(c)):(bn(i),bn(u))),r===!1?(bn(s),bn(d)):i0(l,s)&&(r?(bn(l),bn(h)):(bn(s),bn(d)))}}function bn(e){e&&(e.ignore=!0)}function i0(e,t){var n=e&&e.getBoundingRect().clone(),a=t&&t.getBoundingRect().clone();if(!(!n||!a)){var r=fp([]);return vp(r,r,-e.rotation),n.applyTransform(Li([],r,e.getLocalTransform())),a.applyTransform(Li([],r,t.getLocalTransform())),n.intersect(a)}}function o0(e){return e==="middle"||e==="center"}function Nw(e,t,n,a,r){for(var i=[],o=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=n,t&&(Rn(o,o,t),Rn(s,s,t));var c=new Vr({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:a,z2:2,autoBatch:!0,silent:!0});os(c.shape,c.style.lineWidth),c.anid=r+"_"+e[l].tickValue,i.push(c)}return i}function rG(e,t,n,a){var r=n.axis,i=n.getModel("axisTick"),o=i.get("show");if(o==="auto"&&a.handleAutoShown&&(o=a.handleAutoShown("axisTick")),!(!o||r.scale.isBlank())){for(var s=i.getModel("lineStyle"),l=a.tickDirection*i.get("length"),u=r.getTicksCoords(),c=Nw(u,t.transform,l,Ke(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<c.length;d++)e.add(c[d]);return c}}function iG(e,t,n,a){var r=n.axis,i=n.getModel("minorTick");if(!(!i.get("show")||r.scale.isBlank())){var o=r.getMinorTicksCoords();if(o.length)for(var s=i.getModel("lineStyle"),l=a*i.get("length"),u=Ke(s.getLineStyle(),Ke(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var d=Nw(o[c],t.transform,l,u,"minorticks_"+c),h=0;h<d.length;h++)e.add(d[h])}}function oG(e,t,n,a){var r=n.axis,i=ts(a.axisLabelShow,n.get(["axisLabel","show"]));if(!(!i||r.scale.isBlank())){var o=n.getModel("axisLabel"),s=o.get("margin"),l=r.getViewLabels(),u=(ts(a.labelRotate,o.get("rotate"))||0)*Va/180,c=Pr.innerTextLayout(a.rotation,u,a.labelDirection),d=n.getCategories&&n.getCategories(!0),h=[],p=Pr.isLabelSilent(n),f=n.get("triggerEvent");return R(l,function(g,v){var m=r.scale.type==="ordinal"?r.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,y=g.formattedLabel,_=g.rawLabel,w=o;if(d&&d[m]){var E=d[m];$e(E)&&E.textStyle&&(w=new Xt(E.textStyle,o,n.ecModel))}var x=w.getTextColor()||n.get(["axisLine","lineStyle","color"]),S=r.dataToCoord(m),b=new nn({x:S,y:a.labelOffset+a.labelDirection*s,rotation:c.rotation,silent:p,z2:10+(g.level||0),style:Qa(w,{text:y,align:w.getShallow("align",!0)||c.textAlign,verticalAlign:w.getShallow("verticalAlign",!0)||w.getShallow("baseline",!0)||c.textVerticalAlign,fill:We(x)?x(r.type==="category"?_:r.type==="value"?m+"":m,v):x})});if(b.anid="label_"+m,f){var D=Pr.makeAxisEventDataBase(n);D.targetType="axisLabel",D.value=_,D.tickIndex=v,r.type==="category"&&(D.dataIndex=m),vt(b).eventData=D}t.add(b),b.updateTransform(),h.push(b),e.add(b),b.decomposeTransform()}),h}}const Bw=Pr;function sG(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return lG(n,e,t),n.seriesInvolved&&cG(n,e),n}function lG(e,t,n){var a=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),i=r.get("link",!0)||[],o=[];R(n.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=ys(s.model),u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=s;var c=s.model,d=c.getModel("tooltip",a);if(R(s.getAxes(),_t(g,!1,null)),s.getTooltipAxes&&a&&d.get("show")){var h=d.get("trigger")==="axis",p=d.get(["axisPointer","type"])==="cross",f=s.getTooltipAxes(d.get(["axisPointer","axis"]));(h||p)&&R(f.baseAxes,_t(g,p?"cross":!0,h)),p&&R(f.otherAxes,_t(g,"cross",!1))}function g(v,m,y){var _=y.model.getModel("axisPointer",r),w=_.get("show");if(!(!w||w==="auto"&&!v&&!Hh(_))){m==null&&(m=_.get("triggerTooltip")),_=v?uG(y,d,r,t,v,m):_;var E=_.get("snap"),x=ys(y.model),S=m||E||y.type==="category",b=e.axesInfo[x]={key:x,axis:y,coordSys:s,axisPointerModel:_,triggerTooltip:m,involveSeries:S,snap:E,useHandle:Hh(_),seriesModels:[],linkGroup:null};u[x]=b,e.seriesInvolved=e.seriesInvolved||S;var D=dG(i,y);if(D!=null){var T=o[D]||(o[D]={axesInfo:{}});T.axesInfo[x]=b,T.mapper=i[D].mapper,b.linkGroup=T}}}})}function uG(e,t,n,a,r,i){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};R(s,function(h){l[h]=qe(o.get(h))}),l.snap=e.type!=="category"&&!!i,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),r==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!i){var d=l.lineStyle=o.get("crossStyle");d&&Ke(u,d.textStyle)}}return e.model.getModel("axisPointer",new Xt(l,n,a))}function cG(e,t){t.eachSeries(function(n){var a=n.coordinateSystem,r=n.get(["tooltip","trigger"],!0),i=n.get(["tooltip","show"],!0);!a||r==="none"||r===!1||r==="item"||i===!1||n.get(["axisPointer","show"],!0)===!1||R(e.coordSysAxesInfo[ys(a.model)],function(o){var s=o.axis;a.getAxis(s.dim)===s&&(o.seriesModels.push(n),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=n.getData().count())})})}function dG(e,t){for(var n=t.model,a=t.dim,r=0;r<e.length;r++){var i=e[r]||{};if(Sd(i[a+"AxisId"],n.id)||Sd(i[a+"AxisIndex"],n.componentIndex)||Sd(i[a+"AxisName"],n.name))return r}}function Sd(e,t){return e==="all"||Te(e)&&it(e,t)>=0||e===t}function hG(e){var t=mf(e);if(t){var n=t.axisPointerModel,a=t.axis.scale,r=n.option,i=n.get("status"),o=n.get("value");o!=null&&(o=a.parse(o));var s=Hh(n);i==null&&(r.status=s?"show":"hide");var l=a.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),r.value=o,s&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}function mf(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[ys(e)]}function pG(e){var t=mf(e);return t&&t.axisPointerModel}function Hh(e){return!!e.get(["handle","show"])}function ys(e){return e.type+"||"+e.id}var s0={},fG=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,r,i){this.axisPointerClass&&hG(n),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,r,!0)},t.prototype.updateAxisPointer=function(n,a,r,i){this._doUpdateAxisPointerClass(n,r,!1)},t.prototype.remove=function(n,a){var r=this._axisPointer;r&&r.remove(a)},t.prototype.dispose=function(n,a){this._disposeAxisPointer(a),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(n,a,r){var i=t.getAxisPointerClass(this.axisPointerClass);if(i){var o=pG(n);o?(this._axisPointer||(this._axisPointer=new i)).render(n,o,a,r):this._disposeAxisPointer(a)}},t.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},t.registerAxisPointerClass=function(n,a){s0[n]=a},t.getAxisPointerClass=function(n){return n&&s0[n]},t.type="axis",t}(la);const $w=fG;var Vh=At();function vG(e,t,n,a){var r=n.axis;if(!r.scale.isBlank()){var i=n.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),l=a.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:i,clamp:!0});if(u.length){var c=s.length,d=Vh(e).splitAreaColors,h=Ve(),p=0;if(d)for(var f=0;f<u.length;f++){var g=d.get(u[f].tickValue);if(g!=null){p=(g+(c-1)*f)%c;break}}var v=r.toGlobalCoord(u[0].coord),m=o.getAreaStyle();s=Te(s)?s:[s];for(var f=1;f<u.length;f++){var y=r.toGlobalCoord(u[f].coord),_=void 0,w=void 0,E=void 0,x=void 0;r.isHorizontal()?(_=v,w=l.y,E=y-_,x=l.height,v=_+E):(_=l.x,w=v,E=l.width,x=y-w,v=w+x);var S=u[f-1].tickValue;S!=null&&h.set(S,p),t.add(new St({anid:S!=null?"area_"+S:null,shape:{x:_,y:w,width:E,height:x},style:Ke({fill:s[p]},m),autoBatch:!0,silent:!0})),p=(p+1)%c}Vh(e).splitAreaColors=h}}}function gG(e){Vh(e).splitAreaColors=null}var mG=["axisLine","axisTickLabel","axisName"],yG=["splitArea","splitLine","minorSplitLine"],Uw=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return t.prototype.render=function(n,a,r,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new $t,this.group.add(this._axisGroup),!!n.get("show")){var s=n.getCoordSysModel(),l=Fh(s,n),u=new Bw(n,_e({handleAutoShown:function(d){for(var h=s.coordinateSystem.getCartesians(),p=0;p<h.length;p++)if(Bh(h[p].getOtherAxis(n.axis).scale))return!0;return!1}},l));R(mG,u.add,u),this._axisGroup.add(u.getGroup()),R(yG,function(d){n.get([d,"show"])&&_G[d](this,this._axisGroup,n,s)},this);var c=i&&i.type==="changeAxisOrder"&&i.isInitSort;c||AC(o,this._axisGroup,n),e.prototype.render.call(this,n,a,r,i)}},t.prototype.remove=function(){gG(this)},t.type="cartesianAxis",t}($w),_G={splitLine:function(e,t,n,a){var r=n.axis;if(!r.scale.isBlank()){var i=n.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color");s=Te(s)?s:[s];for(var l=a.coordinateSystem.getRect(),u=r.isHorizontal(),c=0,d=r.getTicksCoords({tickModel:i}),h=[],p=[],f=o.getLineStyle(),g=0;g<d.length;g++){var v=r.toGlobalCoord(d[g].coord);u?(h[0]=v,h[1]=l.y,p[0]=v,p[1]=l.y+l.height):(h[0]=l.x,h[1]=v,p[0]=l.x+l.width,p[1]=v);var m=c++%s.length,y=d[g].tickValue,_=new Vr({anid:y!=null?"line_"+d[g].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:Ke({stroke:s[m]},f),silent:!0});os(_.shape,f.lineWidth),t.add(_)}}},minorSplitLine:function(e,t,n,a){var r=n.axis,i=n.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=a.coordinateSystem.getRect(),l=r.isHorizontal(),u=r.getMinorTicksCoords();if(u.length)for(var c=[],d=[],h=o.getLineStyle(),p=0;p<u.length;p++)for(var f=0;f<u[p].length;f++){var g=r.toGlobalCoord(u[p][f].coord);l?(c[0]=g,c[1]=s.y,d[0]=g,d[1]=s.y+s.height):(c[0]=s.x,c[1]=g,d[0]=s.x+s.width,d[1]=g);var v=new Vr({anid:"minor_line_"+u[p][f].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:h,silent:!0});os(v.shape,h.lineWidth),t.add(v)}},splitArea:function(e,t,n,a){vG(e,t,n,a)}},Gw=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="xAxis",t}(Uw),CG=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Gw.type,n}return t.type="yAxis",t}(Uw),wG=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="grid",n}return t.prototype.render=function(n,a){this.group.removeAll(),n.get("show")&&this.group.add(new St({shape:n.coordinateSystem.getRect(),style:Ke({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(la),l0={offset:0};function xG(e){e.registerComponentView(wG),e.registerComponentModel(F3),e.registerCoordinateSystem("cartesian2d",tG),jm(e,"x",Uh,l0),jm(e,"y",Uh,l0),e.registerComponentView(Gw),e.registerComponentView(CG),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var u0="\0_ec_interaction_mutex";function EG(e,t,n){var a=yf(e);a[t]=n}function bG(e,t,n){var a=yf(e),r=a[t];r===n&&(a[t]=null)}function c0(e,t){return!!yf(e)[t]}function yf(e){return e[u0]||(e[u0]={})}da({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},tn);var SG=function(e){Pe(t,e);function t(n){var a=e.call(this)||this;a._zr=n;var r=Ye(a._mousedownHandler,a),i=Ye(a._mousemoveHandler,a),o=Ye(a._mouseupHandler,a),s=Ye(a._mousewheelHandler,a),l=Ye(a._pinchHandler,a);return a.enable=function(u,c){this.disable(),this._opt=Ke(qe(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(n.on("mousedown",r),n.on("mousemove",i),n.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(n.on("mousewheel",s),n.on("pinch",l))},a.disable=function(){n.off("mousedown",r),n.off("mousemove",i),n.off("mouseup",o),n.off("mousewheel",s),n.off("pinch",l)},a}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(n){this.pointerChecker=n},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(n){if(!Kf(n)){for(var a=n.target;a;){if(a.draggable)return;a=a.__hostTarget||a.parent}var r=n.offsetX,i=n.offsetY;this.pointerChecker&&this.pointerChecker(n,r,i)&&(this._x=r,this._y=i,this._dragging=!0)}},t.prototype._mousemoveHandler=function(n){if(!(!this._dragging||!Gl("moveOnMouseMove",n,this._opt)||n.gestureEvent==="pinch"||c0(this._zr,"globalPan"))){var a=n.offsetX,r=n.offsetY,i=this._x,o=this._y,s=a-i,l=r-o;this._x=a,this._y=r,this._opt.preventDefaultMouseMove&&Fi(n.event),Fw(this,"pan","moveOnMouseMove",n,{dx:s,dy:l,oldX:i,oldY:o,newX:a,newY:r,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(n){Kf(n)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(n){var a=Gl("zoomOnMouseWheel",n,this._opt),r=Gl("moveOnMouseWheel",n,this._opt),i=n.wheelDelta,o=Math.abs(i),s=n.offsetX,l=n.offsetY;if(!(i===0||!a&&!r)){if(a){var u=o>3?1.4:o>1?1.2:1.1,c=i>0?u:1/u;Dd(this,"zoom","zoomOnMouseWheel",n,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(r){var d=Math.abs(i),h=(i>0?1:-1)*(d>3?.4:d>1?.15:.05);Dd(this,"scrollMove","moveOnMouseWheel",n,{scrollDelta:h,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(n){if(!c0(this._zr,"globalPan")){var a=n.pinchScale>1?1.1:1/1.1;Dd(this,"zoom",null,n,{scale:a,originX:n.pinchX,originY:n.pinchY,isAvailableBehavior:null})}},t}(Pn);function Dd(e,t,n,a,r){e.pointerChecker&&e.pointerChecker(a,r.originX,r.originY)&&(Fi(a.event),Fw(e,t,n,a,r))}function Fw(e,t,n,a,r){r.isAvailableBehavior=Ye(Gl,null,n,a),e.trigger(t,r)}function Gl(e,t,n){var a=n[e];return!e||a&&(!Oe(a)||t.event[a+"Key"])}const DG=SG;var TG={axisPointer:1,tooltip:1,brush:1};function IG(e,t,n){var a=t.getComponentByElement(e.topTarget),r=a&&a.coordinateSystem;return a&&a!==n&&!TG.hasOwnProperty(a.mainType)&&r&&r.model!==n}function Ms(e,t,n,a,r,i){e=e||0;var o=n[1]-n[0];if(r!=null&&(r=Ci(r,[0,o])),i!=null&&(i=Math.max(i,r??0)),a==="all"){var s=Math.abs(t[1]-t[0]);s=Ci(s,[0,o]),r=i=Ci(s,[r,i]),a=0}t[0]=Ci(t[0],n),t[1]=Ci(t[1],n);var l=Td(t,a);t[a]+=e;var u=r||0,c=n.slice();l.sign<0?c[0]+=u:c[1]-=u,t[a]=Ci(t[a],c);var d;return d=Td(t,a),r!=null&&(d.sign!==l.sign||d.span<r)&&(t[1-a]=t[a]+l.sign*r),d=Td(t,a),i!=null&&d.span>i&&(t[1-a]=t[a]+d.sign*i),t}function Td(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function Ci(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,e))}var qr=!0,_s=Math.min,Wi=Math.max,AG=Math.pow,kG=1e4,MG=6,LG=6,d0="globalPan",RG={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},OG={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},h0={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},PG=0,NG=function(e){Pe(t,e);function t(n){var a=e.call(this)||this;return a._track=[],a._covers=[],a._handlers={},a._zr=n,a.group=new $t,a._uid="brushController_"+PG++,R(VG,function(r,i){this._handlers[i]=Ye(r,this)},a),a}return t.prototype.enableBrush=function(n){return this._brushType&&this._doDisableBrush(),n.brushType&&this._doEnableBrush(n),this},t.prototype._doEnableBrush=function(n){var a=this._zr;this._enableGlobalPan||EG(a,d0,this._uid),R(this._handlers,function(r,i){a.on(i,r)}),this._brushType=n.brushType,this._brushOption=tt(qe(h0),n,!0)},t.prototype._doDisableBrush=function(){var n=this._zr;bG(n,d0,this._uid),R(this._handlers,function(a,r){n.off(r,a)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(n){if(n&&n.length){var a=this._panels={};R(n,function(r){a[r.panelId]=qe(r)})}else this._panels=null;return this},t.prototype.mount=function(n){n=n||{},this._enableGlobalPan=n.enableGlobalPan;var a=this.group;return this._zr.add(a),a.attr({x:n.x||0,y:n.y||0,rotation:n.rotation||0,scaleX:n.scaleX||1,scaleY:n.scaleY||1}),this._transform=a.getLocalTransform(),this},t.prototype.updateCovers=function(n){n=Re(n,function(h){return tt(qe(h0),h,!0)});var a="\0-brush-index-",r=this._covers,i=this._covers=[],o=this,s=this._creatingCover;return new gs(r,n,u,l).add(c).update(c).remove(d).execute(),this;function l(h,p){return(h.id!=null?h.id:a+p)+"-"+h.brushType}function u(h,p){return l(h.__brushOption,p)}function c(h,p){var f=n[h];if(p!=null&&r[p]===s)i[h]=r[p];else{var g=i[h]=p!=null?(r[p].__brushOption=f,r[p]):Vw(o,Hw(o,f));_f(o,g)}}function d(h){r[h]!==s&&o.group.remove(r[h])}},t.prototype.unmount=function(){return this.enableBrush(!1),Yh(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Pn);function Hw(e,t){var n=lc[t.brushType].createCover(e,t);return n.__brushOption=t,zw(n,t),e.group.add(n),n}function Vw(e,t){var n=Cf(t);return n.endCreating&&(n.endCreating(e,t),zw(t,t.__brushOption)),t}function Yw(e,t){var n=t.__brushOption;Cf(t).updateCoverShape(e,t,n.range,n)}function zw(e,t){var n=t.z;n==null&&(n=kG),e.traverse(function(a){a.z=n,a.z2=n})}function _f(e,t){Cf(t).updateCommon(e,t),Yw(e,t)}function Cf(e){return lc[e.__brushOption.brushType]}function wf(e,t,n){var a=e._panels;if(!a)return qr;var r,i=e._transform;return R(a,function(o){o.isTargetByCursor(t,n,i)&&(r=o)}),r}function Ww(e,t){var n=e._panels;if(!n)return qr;var a=t.__brushOption.panelId;return a!=null?n[a]:qr}function Yh(e){var t=e._covers,n=t.length;return R(t,function(a){e.group.remove(a)},e),t.length=0,!!n}function Zr(e,t){var n=Re(e._covers,function(a){var r=a.__brushOption,i=qe(r.range);return{brushType:r.brushType,panelId:r.panelId,range:i}});e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function BG(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],a=t[0],r=n[0]-a[0],i=n[1]-a[1],o=AG(r*r+i*i,.5);return o>MG}function qw(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function Zw(e,t,n,a){var r=new $t;return r.add(new St({name:"main",style:xf(n),silent:!0,draggable:!0,cursor:"move",drift:_t(p0,e,t,r,["n","s","w","e"]),ondragend:_t(Zr,t,{isEnd:!0})})),R(a,function(i){r.add(new St({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:_t(p0,e,t,r,i),ondragend:_t(Zr,t,{isEnd:!0})}))}),r}function Kw(e,t,n,a){var r=a.brushStyle.lineWidth||0,i=Wi(r,LG),o=n[0][0],s=n[1][0],l=o-r/2,u=s-r/2,c=n[0][1],d=n[1][1],h=c-i+r/2,p=d-i+r/2,f=c-o,g=d-s,v=f+r,m=g+r;fa(e,t,"main",o,s,f,g),a.transformable&&(fa(e,t,"w",l,u,i,m),fa(e,t,"e",h,u,i,m),fa(e,t,"n",l,u,v,i),fa(e,t,"s",l,p,v,i),fa(e,t,"nw",l,u,i,i),fa(e,t,"ne",h,u,i,i),fa(e,t,"sw",l,p,i,i),fa(e,t,"se",h,p,i,i))}function zh(e,t){var n=t.__brushOption,a=n.transformable,r=t.childAt(0);r.useStyle(xf(n)),r.attr({silent:!a,cursor:a?"move":"default"}),R([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var o=t.childOfName(i.join("")),s=i.length===1?Wh(e,i[0]):UG(e,i);o&&o.attr({silent:!a,invisible:!a,cursor:a?OG[s]+"-resize":null})})}function fa(e,t,n,a,r,i,o){var s=t.childOfName(n);s&&s.setShape(FG(Ef(e,t,[[a,r],[a+i,r+o]])))}function xf(e){return Ke({strokeNoScale:!0},e.brushStyle)}function Xw(e,t,n,a){var r=[_s(e,n),_s(t,a)],i=[Wi(e,n),Wi(t,a)];return[[r[0],i[0]],[r[1],i[1]]]}function $G(e){return Gu(e.group)}function Wh(e,t){var n={w:"left",e:"right",n:"top",s:"bottom"},a={left:"w",right:"e",top:"n",bottom:"s"},r=Op(n[t],$G(e));return a[r]}function UG(e,t){var n=[Wh(e,t[0]),Wh(e,t[1])];return(n[0]==="e"||n[0]==="w")&&n.reverse(),n.join("")}function p0(e,t,n,a,r,i){var o=n.__brushOption,s=e.toRectRange(o.range),l=jw(t,r,i);R(a,function(u){var c=RG[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=e.fromRectRange(Xw(s[0][0],s[1][0],s[0][1],s[1][1])),_f(t,n),Zr(t,{isEnd:!1})}function GG(e,t,n,a){var r=t.__brushOption.range,i=jw(e,n,a);R(r,function(o){o[0]+=i[0],o[1]+=i[1]}),_f(e,t),Zr(e,{isEnd:!1})}function jw(e,t,n){var a=e.group,r=a.transformCoordToLocal(t,n),i=a.transformCoordToLocal(0,0);return[r[0]-i[0],r[1]-i[1]]}function Ef(e,t,n){var a=Ww(e,t);return a&&a!==qr?a.clipPath(n,e._transform):qe(n)}function FG(e){var t=_s(e[0][0],e[1][0]),n=_s(e[0][1],e[1][1]),a=Wi(e[0][0],e[1][0]),r=Wi(e[0][1],e[1][1]);return{x:t,y:n,width:a-t,height:r-n}}function HG(e,t,n){if(!(!e._brushType||YG(e,t.offsetX,t.offsetY))){var a=e._zr,r=e._covers,i=wf(e,t,n);if(!e._dragging)for(var o=0;o<r.length;o++){var s=r[o].__brushOption;if(i&&(i===qr||s.panelId===i.panelId)&&lc[s.brushType].contain(r[o],n[0],n[1]))return}i&&a.setCursorStyle("crosshair")}}function qh(e){var t=e.event;t.preventDefault&&t.preventDefault()}function Zh(e,t,n){return e.childOfName("main").contain(t,n)}function Jw(e,t,n,a){var r=e._creatingCover,i=e._creatingPanel,o=e._brushOption,s;if(e._track.push(n.slice()),BG(e)||r){if(i&&!r){o.brushMode==="single"&&Yh(e);var l=qe(o);l.brushType=f0(l.brushType,i),l.panelId=i===qr?null:i.panelId,r=e._creatingCover=Hw(e,l),e._covers.push(r)}if(r){var u=lc[f0(e._brushType,i)],c=r.__brushOption;c.range=u.getCreatingRange(Ef(e,r,e._track)),a&&(Vw(e,r),u.updateCommon(e,r)),Yw(e,r),s={isEnd:a}}}else a&&o.brushMode==="single"&&o.removeOnClick&&wf(e,t,n)&&Yh(e)&&(s={isEnd:a,removeOnClick:!0});return s}function f0(e,t){return e==="auto"?t.defaultBrushType:e}var VG={mousedown:function(e){if(this._dragging)v0(this,e);else if(!e.target||!e.target.draggable){qh(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var n=this._creatingPanel=wf(this,e,t);n&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,a=this.group.transformCoordToLocal(t,n);if(HG(this,e,a),this._dragging){qh(e);var r=Jw(this,e,a,!1);r&&Zr(this,r)}},mouseup:function(e){v0(this,e)}};function v0(e,t){if(e._dragging){qh(t);var n=t.offsetX,a=t.offsetY,r=e.group.transformCoordToLocal(n,a),i=Jw(e,t,r,!0);e._dragging=!1,e._track=[],e._creatingCover=null,i&&Zr(e,i)}}function YG(e,t,n){var a=e._zr;return t<0||t>a.getWidth()||n<0||n>a.getHeight()}var lc={lineX:g0(0),lineY:g0(1),rect:{createCover:function(e,t){function n(a){return a}return Zw({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=qw(e);return Xw(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,a){Kw(e,t,n,a)},updateCommon:zh,contain:Zh},polygon:{createCover:function(e,t){var n=new $t;return n.add(new $u({name:"main",style:xf(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new Ts({name:"main",draggable:!0,drift:_t(GG,e,t),ondragend:_t(Zr,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,a){t.childAt(0).setShape({points:Ef(e,t,n)})},updateCommon:zh,contain:Zh}};function g0(e){return{createCover:function(t,n){return Zw({toRectRange:function(a){var r=[a,[0,100]];return e&&r.reverse(),r},fromRectRange:function(a){return a[e]}},t,n,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var n=qw(t),a=_s(n[0][e],n[1][e]),r=Wi(n[0][e],n[1][e]);return[a,r]},updateCoverShape:function(t,n,a,r){var i,o=Ww(t,n);if(o!==qr&&o.getLinearBrushOtherExtent)i=o.getLinearBrushOtherExtent(e);else{var s=t._zr;i=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[a,i];e&&l.reverse(),Kw(t,n,l,r)},updateCommon:zh,contain:Zh}}const zG=NG;function WG(e){return e=bf(e),function(t){return kC(t,e)}}function qG(e,t){return e=bf(e),function(n){var a=t??n,r=a?e.width:e.height,i=a?e.x:e.y;return[i,i+(r||0)]}}function ZG(e,t,n){var a=bf(e);return function(r,i){return a.contain(i[0],i[1])&&!IG(r,t,n)}}function bf(e){return st.create(e)}var Sr=At(),m0=qe,Id=Ye,KG=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,n,a,r){var i=n.get("value"),o=n.get("status");if(this._axisModel=t,this._axisPointerModel=n,this._api=a,!(!r&&this._lastValue===i&&this._lastStatus===o)){this._lastValue=i,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,i,t,n,a);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(a),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(t,n);if(!s)s=this._group=new $t,this.createPointerEl(s,u,t,n),this.createLabelEl(s,u,t,n),a.getZr().add(s);else{var h=_t(y0,n,d);this.updatePointerEl(s,u,h),this.updateLabelEl(s,u,h,n)}C0(s,n,!0),this._renderHandle(i)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,n){var a=n.get("animation"),r=t.axis,i=r.type==="category",o=n.get("snap");if(!o&&!i)return!1;if(a==="auto"||a==null){var s=this.animationThreshold;if(i&&r.getBandWidth()>s)return!0;if(o){var l=mf(t).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return a===!0},e.prototype.makeElOption=function(t,n,a,r,i){},e.prototype.createPointerEl=function(t,n,a,r){var i=n.pointer;if(i){var o=Sr(t).pointerEl=new XN[i.type](m0(n.pointer));t.add(o)}},e.prototype.createLabelEl=function(t,n,a,r){if(n.label){var i=Sr(t).labelEl=new nn(m0(n.label));t.add(i),_0(i,r)}},e.prototype.updatePointerEl=function(t,n,a){var r=Sr(t).pointerEl;r&&n.pointer&&(r.setStyle(n.pointer.style),a(r,{shape:n.pointer.shape}))},e.prototype.updateLabelEl=function(t,n,a,r){var i=Sr(t).labelEl;i&&(i.setStyle(n.label.style),a(i,{x:n.label.x,y:n.label.y}),_0(i,r))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,a=this._api.getZr(),r=this._handle,i=n.getModel("handle"),o=n.get("status");if(!i.get("show")||!o||o==="hide"){r&&a.remove(r),this._handle=null;return}var s;this._handle||(s=!0,r=this._handle=Pp(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Fi(u.event)},onmousedown:Id(this._onHandleDragMove,this,0,0),drift:Id(this._onHandleDragMove,this),ondragend:Id(this._onHandleDragEnd,this)}),a.add(r)),C0(r,n,!1),r.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");Te(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,nc(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},e.prototype._moveHandleToValue=function(t,n){y0(this._axisPointerModel,!n&&this._moveAnimation,this._handle,Ad(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,n){var a=this._handle;if(a){this._dragging=!0;var r=this.updateHandleTransform(Ad(a),[t,n],this._axisModel,this._axisPointerModel);this._payloadInfo=r,a.stopAnimation(),a.attr(Ad(r)),Sr(a).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var n=this._payloadInfo,a=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:a.axis.dim,axisIndex:a.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var n=t.getZr(),a=this._group,r=this._handle;n&&a&&(this._lastGraphicKey=null,a&&n.remove(a),r&&n.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),lu(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,n,a){return a=a||0,{x:t[a],y:t[1-a],width:n[a],height:n[1-a]}},e}();function y0(e,t,n,a){Qw(Sr(n).lastProp,a)||(Sr(n).lastProp=a,t?On(n,a,e):(n.stopAnimation(),n.attr(a)))}function Qw(e,t){if($e(e)&&$e(t)){var n=!0;return R(t,function(a,r){n=n&&Qw(e[r],a)}),!!n}else return e===t}function _0(e,t){e[t.get(["label","show"])?"show":"hide"]()}function Ad(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function C0(e,t,n){var a=t.get("z"),r=t.get("zlevel");e&&e.traverse(function(i){i.type!=="group"&&(a!=null&&(i.z=a),r!=null&&(i.zlevel=r),i.silent=n)})}const XG=KG;function jG(e){var t=e.get("type"),n=e.getModel(t+"Style"),a;return t==="line"?(a=n.getLineStyle(),a.fill=null):t==="shadow"&&(a=n.getAreaStyle(),a.stroke=null),a}function JG(e,t,n,a,r){var i=n.get("value"),o=ex(i,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),l=Xu(s.get("padding")||0),u=s.getFont(),c=Mu(o,u),d=r.position,h=c.width+l[1]+l[3],p=c.height+l[0]+l[2],f=r.align;f==="right"&&(d[0]-=h),f==="center"&&(d[0]-=h/2);var g=r.verticalAlign;g==="bottom"&&(d[1]-=p),g==="middle"&&(d[1]-=p/2),QG(d,h,p,a);var v=s.get("backgroundColor");(!v||v==="auto")&&(v=t.get(["axisLine","lineStyle","color"])),e.label={x:d[0],y:d[1],style:Qa(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:v}),z2:10}}function QG(e,t,n,a){var r=a.getWidth(),i=a.getHeight();e[0]=Math.min(e[0]+t,r)-t,e[1]=Math.min(e[1]+n,i)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function ex(e,t,n,a,r){e=t.scale.parse(e);var i=t.scale.getLabel({value:e},{precision:r.precision}),o=r.formatter;if(o){var s={value:cf(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};R(a,function(l){var u=n.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,d=u&&u.getDataParams(c);d&&s.seriesData.push(d)}),Oe(o)?i=o.replace("{value}",i):We(o)&&(i=o(s))}return i}function tx(e,t,n){var a=ns();return vp(a,a,n.rotation),Qd(a,a,n.position),ss([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],a)}function eF(e,t,n,a,r,i){var o=Bw.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get(["label","margin"]),JG(t,a,r,i,{position:tx(a.axis,e,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function tF(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function nF(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}var aF=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,a,r,i,o){var s=r.axis,l=s.grid,u=i.get("type"),c=w0(l,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(a,!0));if(u&&u!=="none"){var h=jG(i),p=rF[u](s,d,c);p.style=h,n.graphicKey=p.type,n.pointer=p}var f=Fh(l.model,r);eF(a,n,f,r,i,o)},t.prototype.getHandleTransform=function(n,a,r){var i=Fh(a.axis.grid.model,a,{labelInside:!1});i.labelMargin=r.get(["handle","margin"]);var o=tx(a.axis,n,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,a,r,i){var o=r.axis,s=o.grid,l=o.getGlobalExtent(!0),u=w0(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,d=[n.x,n.y];d[c]+=a[c],d[c]=Math.min(l[1],d[c]),d[c]=Math.max(l[0],d[c]);var h=(u[1]+u[0])/2,p=[h,h];p[c]=d[c];var f=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:n.rotation,cursorPoint:p,tooltipOption:f[c]}},t}(XG);function w0(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var rF={line:function(e,t,n){var a=tF([t,n[0]],[t,n[1]],x0(e));return{type:"Line",subPixelOptimize:!0,shape:a}},shadow:function(e,t,n){var a=Math.max(1,e.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:nF([t-a/2,n[0]],[a,r],x0(e))}}};function x0(e){return e.dim==="x"?0:1}const iF=aF;var oF=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(wt);const sF=oF;var Ca=At(),lF=R;function nx(e,t,n){if(!Je.node){var a=t.getZr();Ca(a).records||(Ca(a).records={}),uF(a,t);var r=Ca(a).records[e]||(Ca(a).records[e]={});r.handler=n}}function uF(e,t){if(Ca(e).initialized)return;Ca(e).initialized=!0,n("click",_t(E0,"click")),n("mousemove",_t(E0,"mousemove")),n("globalout",dF);function n(a,r){e.on(a,function(i){var o=hF(t);lF(Ca(e).records,function(s){s&&r(s,i,o.dispatchAction)}),cF(o.pendings,t)})}}function cF(e,t){var n=e.showTip.length,a=e.hideTip.length,r;n?r=e.showTip[n-1]:a&&(r=e.hideTip[a-1]),r&&(r.dispatchAction=null,t.dispatchAction(r))}function dF(e,t,n){e.handler("leave",null,n)}function E0(e,t,n,a){t.handler(e,n,a)}function hF(e){var t={showTip:[],hideTip:[]},n=function(a){var r=t[a.type];r?r.push(a):(a.dispatchAction=n,e.dispatchAction(a))};return{dispatchAction:n,pendings:t}}function Kh(e,t){if(!Je.node){var n=t.getZr(),a=(Ca(n).records||{})[e];a&&(Ca(n).records[e]=null)}}var pF=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,r){var i=a.getComponent("tooltip"),o=n.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";nx("axisPointer",r,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(n,a){Kh("axisPointer",a)},t.prototype.dispose=function(n,a){Kh("axisPointer",a)},t.type="axisPointer",t}(la);const fF=pF;function ax(e,t){var n=[],a=e.seriesIndex,r;if(a==null||!(r=t.getSeriesByIndex(a)))return{point:[]};var i=r.getData(),o=Fr(i,e);if(o==null||o<0||Te(o))return{point:[]};var s=i.getItemGraphicEl(o),l=r.coordinateSystem;if(r.getTooltipPosition)n=r.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),d=c.dim,h=u.dim,p=d==="x"||d==="radius"?1:0,f=i.mapDimension(h),g=[];g[p]=i.get(f,o),g[1-p]=i.get(i.getCalculationInfo("stackResultDimension"),o),n=l.dataToPoint(g)||[]}else n=l.dataToPoint(i.getValues(Re(l.dimensions,function(m){return i.mapDimension(m)}),o))||[];else if(s){var v=s.getBoundingRect().clone();v.applyTransform(s.transform),n=[v.x+v.width/2,v.y+v.height/2]}return{point:n,el:s}}var b0=At();function vF(e,t,n){var a=e.currTrigger,r=[e.x,e.y],i=e,o=e.dispatchAction||Ye(n.dispatchAction,n),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Fl(r)&&(r=ax({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},t).point);var l=Fl(r),u=i.axesInfo,c=s.axesInfo,d=a==="leave"||Fl(r),h={},p={},f={list:[],map:{}},g={showPointer:_t(mF,p),showTooltip:_t(yF,f)};R(s.coordSysMap,function(m,y){var _=l||m.containPoint(r);R(s.coordSysAxesInfo[y],function(w,E){var x=w.axis,S=xF(u,w);if(!d&&_&&(!u||S)){var b=S&&S.value;b==null&&!l&&(b=x.pointToData(r)),b!=null&&S0(w,b,g,!1,h)}})});var v={};return R(c,function(m,y){var _=m.linkGroup;_&&!p[y]&&R(_.axesInfo,function(w,E){var x=p[E];if(w!==m&&x){var S=x.value;_.mapper&&(S=m.axis.scale.parse(_.mapper(S,D0(w),D0(m)))),v[m.key]=S}})}),R(v,function(m,y){S0(c[y],m,g,!0,h)}),_F(p,c,h),CF(f,r,e,o),wF(c,o,n),h}}function S0(e,t,n,a,r){var i=e.axis;if(!(i.scale.isBlank()||!i.containData(t))){if(!e.involveSeries){n.showPointer(e,t);return}var o=gF(t,e),s=o.payloadBatch,l=o.snapToValue;s[0]&&r.seriesIndex==null&&_e(r,s[0]),!a&&e.snap&&i.containData(l)&&l!=null&&(t=l),n.showPointer(e,t,s),n.showTooltip(e,o,l)}}function gF(e,t){var n=t.axis,a=n.dim,r=e,i=[],o=Number.MAX_VALUE,s=-1;return R(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(a),d,h;if(l.getAxisTooltipData){var p=l.getAxisTooltipData(c,e,n);h=p.dataIndices,d=p.nestestValue}else{if(h=l.getData().indicesOfNearest(c[0],e,n.type==="category"?.5:null),!h.length)return;d=l.getData().get(c[0],h[0])}if(!(d==null||!isFinite(d))){var f=e-d,g=Math.abs(f);g<=o&&((g<o||f>=0&&s<0)&&(o=g,s=f,r=d,i.length=0),R(h,function(v){i.push({seriesIndex:l.seriesIndex,dataIndexInside:v,dataIndex:l.getData().getRawIndex(v)})}))}}),{payloadBatch:i,snapToValue:r}}function mF(e,t,n,a){e[t.key]={value:n,payloadBatch:a}}function yF(e,t,n,a){var r=n.payloadBatch,i=t.axis,o=i.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!r.length)){var l=t.coordSys.model,u=ys(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:i.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:a,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function _F(e,t,n){var a=n.axesInfo=[];R(t,function(r,i){var o=r.axisPointerModel.option,s=e[i];s?(!r.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(o.status="hide"),o.status==="show"&&a.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:o.value})})}function CF(e,t,n,a){if(Fl(t)||!e.list.length){a({type:"hideTip"});return}var r=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:e.list})}function wF(e,t,n){var a=n.getZr(),r="axisPointerLastHighlights",i=b0(a)[r]||{},o=b0(a)[r]={};R(e,function(u,c){var d=u.axisPointerModel.option;d.status==="show"&&R(d.seriesDataIndices,function(h){var p=h.seriesIndex+" | "+h.dataIndex;o[p]=h})});var s=[],l=[];R(i,function(u,c){!o[c]&&l.push(u)}),R(o,function(u,c){!i[c]&&s.push(u)}),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function xF(e,t){for(var n=0;n<(e||[]).length;n++){var a=e[n];if(t.axis.dim===a.axisDim&&t.axis.model.componentIndex===a.axisIndex)return a}}function D0(e){var t=e.axis.model,n={},a=n.axisDim=e.axis.dim;return n.axisIndex=n[a+"AxisIndex"]=t.componentIndex,n.axisName=n[a+"AxisName"]=t.name,n.axisId=n[a+"AxisId"]=t.id,n}function Fl(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function rx(e){$w.registerAxisPointerClass("CartesianAxisPointer",iF),e.registerComponentModel(sF),e.registerComponentView(fF),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!Te(n)&&(t.axisPointer.link=[n])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,n){t.getComponent("axisPointer").coordSysAxesInfo=sG(t,n)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},vF)}function ti(e){vn(xG),vn(rx)}var T0=["x","y","radius","angle","single"],EF=["cartesian2d","polar","singleAxis"];function bF(e){var t=e.get("coordinateSystem");return it(EF,t)>=0}function Ya(e){return e+"Axis"}function SF(e,t){var n=Ve(),a=[],r=Ve();e.eachComponent({mainType:"dataZoom",query:t},function(c){r.get(c.uid)||s(c)});var i;do i=!1,e.eachComponent("dataZoom",o);while(i);function o(c){!r.get(c.uid)&&l(c)&&(s(c),i=!0)}function s(c){r.set(c.uid,!0),a.push(c),u(c)}function l(c){var d=!1;return c.eachTargetAxis(function(h,p){var f=n.get(h);f&&f[p]&&(d=!0)}),d}function u(c){c.eachTargetAxis(function(d,h){(n.get(d)||n.set(d,[]))[h]=!0})}return a}function ix(e){var t=e.ecModel,n={infoList:[],infoMap:Ve()};return e.eachTargetAxis(function(a,r){var i=t.getComponent(Ya(a),r);if(i){var o=i.getCoordSysModel();if(o){var s=o.uid,l=n.infoMap.get(s);l||(l={model:o,axisModels:[]},n.infoList.push(l),n.infoMap.set(s,l)),l.axisModels.push(i)}}}),n}var kd=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},e}(),DF=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return t.prototype.init=function(n,a,r){var i=I0(n);this.settledOption=i,this.mergeDefaultAndTheme(n,r),this._doInit(i)},t.prototype.mergeOption=function(n){var a=I0(n);tt(this.option,n,!0),tt(this.settledOption,a,!0),this._doInit(a)},t.prototype._doInit=function(n){var a=this.option;this._setDefaultThrottle(n),this._updateRangeUse(n);var r=this.settledOption;R([["start","startValue"],["end","endValue"]],function(i,o){this._rangePropMode[o]==="value"&&(a[i[0]]=r[i[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var n=this.get("orient",!0),a=this._targetAxisInfoMap=Ve(),r=this._fillSpecifiedTargetAxis(a);r?this._orient=n||this._makeAutoOrientByTargetAxis():(this._orient=n||"horizontal",this._fillAutoTargetAxisByOrient(a,this._orient)),this._noTarget=!0,a.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(n){var a=!1;return R(T0,function(r){var i=this.getReferringComponents(Ya(r),RO);if(i.specified){a=!0;var o=new kd;R(i.models,function(s){o.add(s.componentIndex)}),n.set(r,o)}},this),a},t.prototype._fillAutoTargetAxisByOrient=function(n,a){var r=this.ecModel,i=!0;if(i){var o=a==="vertical"?"y":"x",s=r.findComponents({mainType:o+"Axis"});l(s,o)}if(i){var s=r.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===a}});l(s,"single")}function l(u,c){var d=u[0];if(d){var h=new kd;if(h.add(d.componentIndex),n.set(c,h),i=!1,c==="x"||c==="y"){var p=d.getReferringComponents("grid",en).models[0];p&&R(u,function(f){d.componentIndex!==f.componentIndex&&p===f.getReferringComponents("grid",en).models[0]&&h.add(f.componentIndex)})}}}i&&R(T0,function(u){if(i){var c=r.findComponents({mainType:Ya(u),filter:function(h){return h.get("type",!0)==="category"}});if(c[0]){var d=new kd;d.add(c[0].componentIndex),n.set(u,d),i=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var n;return this.eachTargetAxis(function(a){!n&&(n=a)},this),n==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var a=this.ecModel.option;this.option.throttle=a.animation&&a.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(n){var a=this._rangePropMode,r=this.get("rangeMode");R([["start","startValue"],["end","endValue"]],function(i,o){var s=n[i[0]]!=null,l=n[i[1]]!=null;s&&!l?a[o]="percent":!s&&l?a[o]="value":r?a[o]=r[o]:s&&(a[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(a,r){n==null&&(n=this.ecModel.getComponent(Ya(a),r))},this),n},t.prototype.eachTargetAxis=function(n,a){this._targetAxisInfoMap.each(function(r,i){R(r.indexList,function(o){n.call(a,i,o)})})},t.prototype.getAxisProxy=function(n,a){var r=this.getAxisModel(n,a);if(r)return r.__dzAxisProxy},t.prototype.getAxisModel=function(n,a){var r=this._targetAxisInfoMap.get(n);if(r&&r.indexMap[a])return this.ecModel.getComponent(Ya(n),a)},t.prototype.setRawRange=function(n){var a=this.option,r=this.settledOption;R([["start","startValue"],["end","endValue"]],function(i){(n[i[0]]!=null||n[i[1]]!=null)&&(a[i[0]]=r[i[0]]=n[i[0]],a[i[1]]=r[i[1]]=n[i[1]])},this),this._updateRangeUse(n)},t.prototype.setCalculatedRange=function(n){var a=this.option;R(["start","startValue","end","endValue"],function(r){a[r]=n[r]})},t.prototype.getPercentRange=function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},t.prototype.getValueRange=function(n,a){if(n==null&&a==null){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataValueWindow()}else return this.getAxisProxy(n,a).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(n){if(n)return n.__dzAxisProxy;for(var a,r=this._targetAxisInfoMap.keys(),i=0;i<r.length;i++)for(var o=r[i],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;a||(a=u)}return a},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(wt);function I0(e){var t={};return R(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}const Cs=DF;var TF=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.select",t}(Cs);const IF=TF;var AF=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,r,i){this.dataZoomModel=n,this.ecModel=a,this.api=r},t.type="dataZoom",t}(la);const Sf=AF;var kF=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.select",t}(Sf);const MF=kF;var Si=R,A0=Lo,LF=function(){function e(t,n,a,r){this._dimName=t,this._axisIndex=n,this.ecModel=r,this._dataZoomModel=a}return e.prototype.hostedBy=function(t){return this._dataZoomModel===t},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(n){if(bF(n)){var a=Ya(this._dimName),r=n.getReferringComponents(a,en).models[0];r&&this._axisIndex===r.componentIndex&&t.push(n)}},this),t},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return qe(this._minMaxSpan)},e.prototype.calculateDataWindow=function(t){var n=this._dataExtent,a=this.getAxisModel(),r=a.axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;Si(["start","end"],function(h,p){var f=t[h],g=t[h+"Value"];i[p]==="percent"?(f==null&&(f=o[p]),g=r.parse(Wt(f,o,n))):(u=!0,g=g==null?n[p]:r.parse(g),f=Wt(g,n,o)),l[p]=g==null||isNaN(g)?n[p]:g,s[p]=f==null||isNaN(f)?o[p]:f}),A0(l),A0(s);var c=this._minMaxSpan;u?d(l,s,n,o,!1):d(s,l,o,n,!0);function d(h,p,f,g,v){var m=v?"Span":"ValueSpan";Ms(0,h,f,"all",c["min"+m],c["max"+m]);for(var y=0;y<2;y++)p[y]=Wt(h[y],f,g,!0),v&&(p[y]=r.parse(p[y]))}return{valueWindow:l,percentWindow:s}},e.prototype.reset=function(t){if(t===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=RF(this,this._dimName,n),this._updateMinMaxSpan();var a=this.calculateDataWindow(t.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(t,n){if(t!==this._dataZoomModel)return;var a=this._dimName,r=this.getTargetSeriesModels(),i=t.get("filterMode"),o=this._valueWindow;if(i==="none")return;Si(r,function(l){var u=l.getData(),c=u.mapDimensionsAll(a);if(c.length){if(i==="weakFilter"){var d=u.getStore(),h=Re(c,function(p){return u.getDimensionIndex(p)},u);u.filterSelf(function(p){for(var f,g,v,m=0;m<c.length;m++){var y=d.get(h[m],p),_=!isNaN(y),w=y<o[0],E=y>o[1];if(_&&!w&&!E)return!0;_&&(v=!0),w&&(f=!0),E&&(g=!0)}return v&&f&&g})}else Si(c,function(p){if(i==="empty")l.setData(u=u.map(p,function(g){return s(g)?g:NaN}));else{var f={};f[p]=o,u.selectRange(f)}});Si(c,function(p){u.setApproximateExtent(o,p)})}});function s(l){return l>=o[0]&&l<=o[1]}},e.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},n=this._dataZoomModel,a=this._dataExtent;Si(["min","max"],function(r){var i=n.get(r+"Span"),o=n.get(r+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?i=Wt(a[0]+o,a,[0,100],!0):i!=null&&(o=Wt(i,[0,100],a,!0)-a[0]),t[r+"Span"]=i,t[r+"ValueSpan"]=o},this)},e.prototype._setAxisModel=function(){var t=this.getAxisModel(),n=this._percentWindow,a=this._valueWindow;if(n){var r=E_(a,[0,500]);r=Math.min(r,20);var i=t.axis.scale.rawExtentInfo;n[0]!==0&&i.setDeterminedMinMax("min",+a[0].toFixed(r)),n[1]!==100&&i.setDeterminedMinMax("max",+a[1].toFixed(r)),i.freeze()}},e}();function RF(e,t,n){var a=[1/0,-1/0];Si(n,function(o){IU(a,o.getData(),t)});var r=e.getAxisModel(),i=fw(r.axis.scale,r,a).calculate();return[i.min,i.max]}const OF=LF;var PF={getTargetSeries:function(e){function t(r){e.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,s){var l=e.getComponent(Ya(o),s);r(o,s,l,i)})})}t(function(r,i,o,s){o.__dzAxisProxy=null});var n=[];t(function(r,i,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new OF(r,i,s,e),n.push(o.__dzAxisProxy))});var a=Ve();return R(n,function(r){R(r.getTargetSeriesModels(),function(i){a.set(i.uid,i)})}),a},overallReset:function(e,t){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(a,r){n.getAxisProxy(a,r).reset(n)}),n.eachTargetAxis(function(a,r){n.getAxisProxy(a,r).filterData(n,t)})}),e.eachComponent("dataZoom",function(n){var a=n.findRepresentativeAxisProxy();if(a){var r=a.getDataPercentWindow(),i=a.getDataValueWindow();n.setCalculatedRange({start:r[0],end:r[1],startValue:i[0],endValue:i[1]})}})}};const NF=PF;function BF(e){e.registerAction("dataZoom",function(t,n){var a=SF(n,t);R(a,function(r){r.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var k0=!1;function Df(e){k0||(k0=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,NF),BF(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function $F(e){e.registerComponentModel(IF),e.registerComponentView(MF),Df(e)}var Yn=function(){function e(){}return e}(),ox={};function xo(e,t){ox[e]=t}function sx(e){return ox[e]}var UF=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;R(this.option.feature,function(a,r){var i=sx(r);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(n)),tt(a,i.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(wt);const GF=UF;function FF(e,t,n){var a=t.getBoxLayoutParams(),r=t.get("padding"),i={width:n.getWidth(),height:n.getHeight()},o=Ji(a,i,r);EB(t.get("orient"),e,t.get("itemGap"),o.width,o.height),bB(e,a,i,r)}function HF(e,t){var n=Xu(t.get("padding")),a=t.getItemStyle(["color","opacity"]);return a.fill=t.get("backgroundColor"),e=new St({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:a,silent:!0,z2:-1}),e}var VF=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,a,r,i){var o=this.group;if(o.removeAll(),!n.get("show"))return;var s=+n.get("itemSize"),l=n.get("orient")==="vertical",u=n.get("feature")||{},c=this._features||(this._features={}),d=[];R(u,function(f,g){d.push(g)}),new gs(this._featureNames||[],d).add(h).update(h).remove(_t(h,null)).execute(),this._featureNames=d;function h(f,g){var v=d[f],m=d[g],y=u[v],_=new Xt(y,n,n.ecModel),w;if(i&&i.newTitle!=null&&i.featureName===v&&(y.title=i.newTitle),v&&!m){if(YF(v))w={onclick:_.option.onclick,featureName:v};else{var E=sx(v);if(!E)return;w=new E}c[v]=w}else if(w=c[m],!w)return;w.uid=Is("toolbox-feature"),w.model=_,w.ecModel=a,w.api=r;var x=w instanceof Yn;if(!v&&m){x&&w.dispose&&w.dispose(a,r);return}if(!_.get("show")||x&&w.unusable){x&&w.remove&&w.remove(a,r);return}p(_,w,v),_.setIconStatus=function(S,b){var D=this.option,T=this.iconPaths;D.iconStatus=D.iconStatus||{},D.iconStatus[S]=b,T[S]&&(b==="emphasis"?Hi:Vi)(T[S])},w instanceof Yn&&w.render&&w.render(_,a,r,i)}function p(f,g,v){var m=f.getModel("iconStyle"),y=f.getModel(["emphasis","iconStyle"]),_=g instanceof Yn&&g.getIcons?g.getIcons():f.get("icon"),w=f.get("title")||{},E,x;Oe(_)?(E={},E[v]=_):E=_,Oe(w)?(x={},x[v]=w):x=w;var S=f.iconPaths={};R(E,function(b,D){var T=Pp(b,{},{x:-s/2,y:-s/2,width:s,height:s});T.setStyle(m.getItemStyle());var A=T.ensureState("emphasis");A.style=y.getItemStyle();var L=new nn({style:{text:x[D],align:y.get("textAlign"),borderRadius:y.get("textBorderRadius"),padding:y.get("textPadding"),fill:null},ignore:!0});T.setTextContent(L),Np({el:T,componentModel:n,itemName:D,formatterParamsExtra:{title:x[D]}}),T.__title=x[D],T.on("mouseover",function(){var P=y.getItemStyle(),N=l?n.get("right")==null&&n.get("left")!=="right"?"right":"left":n.get("bottom")==null&&n.get("top")!=="bottom"?"bottom":"top";L.setStyle({fill:y.get("textFill")||P.fill||P.stroke||"#000",backgroundColor:y.get("textBackgroundColor")}),T.setTextConfig({position:y.get("textPosition")||N}),L.ignore=!n.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){f.get(["iconStatus",D])!=="emphasis"&&r.leaveEmphasis(this),L.hide()}),(f.get(["iconStatus",D])==="emphasis"?Hi:Vi)(T),o.add(T),T.on("click",Ye(g.onclick,g,a,r,D)),S[D]=T})}FF(o,n,r),o.add(HF(o.getBoundingRect(),n)),l||o.eachChild(function(f){var g=f.__title,v=f.ensureState("emphasis"),m=v.textConfig||(v.textConfig={}),y=f.getTextContent(),_=y&&y.ensureState("emphasis");if(_&&!We(_)&&g){var w=_.style||(_.style={}),E=Mu(g,nn.makeFont(w)),x=f.x+o.x,S=f.y+o.y+s,b=!1;S+E.height>r.getHeight()&&(m.position="top",b=!0);var D=b?-5-E.height:s+10;x+E.width/2>r.getWidth()?(m.position=["100%",D],w.align="right"):x-E.width/2<0&&(m.position=[0,D],w.align="left")}})},t.prototype.updateView=function(n,a,r,i){R(this._features,function(o){o instanceof Yn&&o.updateView&&o.updateView(o.model,a,r,i)})},t.prototype.remove=function(n,a){R(this._features,function(r){r instanceof Yn&&r.remove&&r.remove(n,a)}),this.group.removeAll()},t.prototype.dispose=function(n,a){R(this._features,function(r){r instanceof Yn&&r.dispose&&r.dispose(n,a)})},t.type="toolbox",t}(la);function YF(e){return e.indexOf("my")===0}const zF=VF;var WF=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(n,a){var r=this.model,i=r.get("name")||n.get("title.0.text")||"echarts",o=a.getZr().painter.getType()==="svg",s=o?"svg":r.get("type",!0)||"png",l=a.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),u=Je.browser;if(We(MouseEvent)&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=i+"."+s,c.target="_blank",c.href=l;var d=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(d)}else if(window.navigator.msSaveOrOpenBlob||o){var h=l.split(","),p=h[0].indexOf("base64")>-1,f=o?decodeURIComponent(h[1]):h[1];p&&(f=window.atob(f));var g=i+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var v=f.length,m=new Uint8Array(v);v--;)m[v]=f.charCodeAt(v);var y=new Blob([m]);window.navigator.msSaveOrOpenBlob(y,g)}else{var _=document.createElement("iframe");document.body.appendChild(_);var w=_.contentWindow,E=w.document;E.open("image/svg+xml","replace"),E.write(f),E.close(),w.focus(),E.execCommand("SaveAs",!0,g),document.body.removeChild(_)}}else{var x=r.get("lang"),S='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(x&&x[0]||"")+'" /></body>',b=window.open();b.document.write(S),b.document.title=i}},t.getDefaultOption=function(n){var a={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:n.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:n.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return a},t}(Yn);const qF=WF;var M0="__ec_magicType_stack__",ZF=[["line","bar"],["stack"]],KF=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getIcons=function(){var n=this.model,a=n.get("icon"),r={};return R(n.get("type"),function(i){a[i]&&(r[i]=a[i])}),r},t.getDefaultOption=function(n){var a={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:n.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return a},t.prototype.onclick=function(n,a,r){var i=this.model,o=i.get(["seriesIndex",r]);if(L0[r]){var s={series:[]},l=function(d){var h=d.subType,p=d.id,f=L0[r](h,p,d,i);f&&(Ke(f,d.option),s.series.push(f));var g=d.coordinateSystem;if(g&&g.type==="cartesian2d"&&(r==="line"||r==="bar")){var v=g.getAxesByScale("ordinal")[0];if(v){var m=v.dim,y=m+"Axis",_=d.getReferringComponents(y,en).models[0],w=_.componentIndex;s[y]=s[y]||[];for(var E=0;E<=w;E++)s[y][w]=s[y][w]||{};s[y][w].boundaryGap=r==="bar"}}};R(ZF,function(d){it(d,r)>=0&&R(d,function(h){i.setIconStatus(h,"normal")})}),i.setIconStatus(r,"emphasis"),n.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=r;r==="stack"&&(u=tt({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),i.get(["iconStatus",r])!=="emphasis"&&(c="tiled")),a.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},t}(Yn),L0={line:function(e,t,n,a){if(e==="bar")return tt({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},a.get(["option","line"])||{},!0)},bar:function(e,t,n,a){if(e==="line")return tt({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},a.get(["option","bar"])||{},!0)},stack:function(e,t,n,a){var r=n.get("stack")===M0;if(e==="line"||e==="bar")return a.setIconStatus("stack",r?"normal":"emphasis"),tt({id:t,stack:r?"":M0},a.get(["option","stack"])||{},!0)}};da({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});const XF=KF;var uc=new Array(60).join("-"),qi="	";function jF(e){var t={},n=[],a=[];return e.eachRawSeries(function(r){var i=r.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var o=i.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},a.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(r)}else n.push(r)}else n.push(r)}),{seriesGroupByCategoryAxis:t,other:n,meta:a}}function JF(e){var t=[];return R(e,function(n,a){var r=n.categoryAxis,i=n.valueAxis,o=i.dim,s=[" "].concat(Re(n.series,function(p){return p.name})),l=[r.model.getCategories()];R(n.series,function(p){var f=p.getRawData();l.push(p.getRawData().mapArray(f.mapDimension(o),function(g){return g}))});for(var u=[s.join(qi)],c=0;c<l[0].length;c++){for(var d=[],h=0;h<l.length;h++)d.push(l[h][c]);u.push(d.join(qi))}t.push(u.join(`
`))}),t.join(`

`+uc+`

`)}function QF(e){return Re(e,function(t){var n=t.getRawData(),a=[t.name],r=[];return n.each(n.dimensions,function(){for(var i=arguments.length,o=arguments[i-1],s=n.getName(o),l=0;l<i-1;l++)r[l]=arguments[l];a.push((s?s+qi:"")+r.join(qi))}),a.join(`
`)}).join(`

`+uc+`

`)}function eH(e){var t=jF(e);return{value:Ft([JF(t.seriesGroupByCategoryAxis),QF(t.other)],function(n){return!!n.replace(/[\n\t\s]/g,"")}).join(`

`+uc+`

`),meta:t.meta}}function vu(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function tH(e){var t=e.slice(0,e.indexOf(`
`));if(t.indexOf(qi)>=0)return!0}var Xh=new RegExp("["+qi+"]+","g");function nH(e){for(var t=e.split(/\n+/g),n=vu(t.shift()).split(Xh),a=[],r=Re(n,function(l){return{name:l,data:[]}}),i=0;i<t.length;i++){var o=vu(t[i]).split(Xh);a.push(o.shift());for(var s=0;s<o.length;s++)r[s]&&(r[s].data[i]=o[s])}return{series:r,categories:a}}function aH(e){for(var t=e.split(/\n+/g),n=vu(t.shift()),a=[],r=0;r<t.length;r++){var i=vu(t[r]);if(i){var o=i.split(Xh),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),a[r]={name:s,value:[]},l=a[r].value):l=a[r]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?a[r].value=l[0]:a[r]=l[0])}}return{name:n,data:a}}function rH(e,t){var n=e.split(new RegExp(`
*`+uc+`
*`,"g")),a={series:[]};return R(n,function(r,i){if(tH(r)){var o=nH(r),s=t[i],l=s.axisDim+"Axis";s&&(a[l]=a[l]||[],a[l][s.axisIndex]={data:o.categories},a.series=a.series.concat(o.series))}else{var o=aH(r);a.series.push(o)}}),a}var iH=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(n,a){setTimeout(function(){a.dispatchAction({type:"hideTip"})});var r=a.getDom(),i=this.model;this._dom&&r.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=i.get("lang")||[];s.innerHTML=l[0]||i.get("title"),s.style.cssText="margin:10px 20px",s.style.color=i.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var d=i.get("optionToContent"),h=i.get("contentToOption"),p=eH(n);if(We(d)){var f=d(a.getOption());Oe(f)?u.innerHTML=f:es(f)&&u.appendChild(f)}else{c.readOnly=i.get("readOnly");var g=c.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=i.get("textColor"),g.borderColor=i.get("textareaBorderColor"),g.backgroundColor=i.get("textareaColor"),c.value=p.value,u.appendChild(c)}var v=p.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_=document.createElement("div"),w=document.createElement("div");y+=";background-color:"+i.get("buttonColor"),y+=";color:"+i.get("buttonTextColor");var E=this;function x(){r.removeChild(o),E._dom=null}Jd(_,"click",x),Jd(w,"click",function(){if(h==null&&d!=null||h!=null&&d==null){x();return}var S;try{We(h)?S=h(u,a.getOption()):S=rH(c.value,v)}catch(b){throw x(),new Error("Data view format error "+b)}S&&a.dispatchAction({type:"changeDataView",newOption:S}),x()}),_.innerHTML=l[1],w.innerHTML=l[2],w.style.cssText=_.style.cssText=y,!i.get("readOnly")&&m.appendChild(w),m.appendChild(_),o.appendChild(s),o.appendChild(u),o.appendChild(m),u.style.height=r.clientHeight-80+"px",r.appendChild(o),this._dom=o},t.prototype.remove=function(n,a){this._dom&&a.getDom().removeChild(this._dom)},t.prototype.dispose=function(n,a){this.remove(n,a)},t.getDefaultOption=function(n){var a={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:n.getLocaleModel().get(["toolbox","dataView","title"]),lang:n.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return a},t}(Yn);function oH(e,t){return Re(e,function(n,a){var r=t&&t[a];if($e(r)&&!Te(r)){var i=$e(n)&&!Te(n);i||(n={value:n});var o=r.name!=null&&n.name==null;return n=Ke(n,r),o&&delete n.name,n}else return n})}da({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];R(e.newOption.series,function(a){var r=t.getSeriesByName(a.name)[0];if(!r)n.push(_e({type:"scatter"},a));else{var i=r.get("data");n.push({name:a.name,data:oH(a.data,i)})}}),t.mergeOption(Ke({series:n},e.newOption))});const sH=iH;var lx=R,ux=At();function lH(e,t){var n=Tf(e);lx(t,function(a,r){for(var i=n.length-1;i>=0;i--){var o=n[i];if(o[r])break}if(i<0){var s=e.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(s){var l=s.getPercentRange();n[0][r]={dataZoomId:r,start:l[0],end:l[1]}}}}),n.push(t)}function uH(e){var t=Tf(e),n=t[t.length-1];t.length>1&&t.pop();var a={};return lx(n,function(r,i){for(var o=t.length-1;o>=0;o--)if(r=t[o][i],r){a[i]=r;break}}),a}function cH(e){ux(e).snapshots=null}function dH(e){return Tf(e).length}function Tf(e){var t=ux(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var hH=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(n,a){cH(n),a.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(n){var a={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:n.getLocaleModel().get(["toolbox","restore","title"])};return a},t}(Yn);da({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});const pH=hH;var fH=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],vH=function(){function e(t,n,a){var r=this;this._targetInfoList=[];var i=R0(n,t);R(gH,function(o,s){(!a||!a.include||it(a.include,s)>=0)&&o(i,r._targetInfoList)})}return e.prototype.setOutputRanges=function(t,n){return this.matchOutputRanges(t,n,function(a,r,i){if((a.coordRanges||(a.coordRanges=[])).push(r),!a.coordRange){a.coordRange=r;var o=Md[a.brushType](0,i,r);a.__rangeOffset={offset:B0[a.brushType](o.values,a.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},e.prototype.matchOutputRanges=function(t,n,a){R(t,function(r){var i=this.findTargetInfo(r,n);i&&i!==!0&&R(i.coordSyses,function(o){var s=Md[r.brushType](1,o,r.range,!0);a(r,s.values,o,n)})},this)},e.prototype.setInputRanges=function(t,n){R(t,function(a){var r=this.findTargetInfo(a,n);if(a.range=a.range||[],r&&r!==!0){a.panelId=r.panelId;var i=Md[a.brushType](0,r.coordSys,a.coordRange),o=a.__rangeOffset;a.range=o?B0[a.brushType](i.values,o.offset,mH(i.xyMinMax,o.xyMinMax)):i.values}},this)},e.prototype.makePanelOpts=function(t,n){return Re(this._targetInfoList,function(a){var r=a.getPanelRect();return{panelId:a.panelId,defaultBrushType:n?n(a):null,clipPath:WG(r),isTargetByCursor:ZG(r,t,a.coordSysModel),getLinearBrushOtherExtent:qG(r)}})},e.prototype.controlSeries=function(t,n,a){var r=this.findTargetInfo(t,a);return r===!0||r&&it(r.coordSyses,n.coordinateSystem)>=0},e.prototype.findTargetInfo=function(t,n){for(var a=this._targetInfoList,r=R0(n,t),i=0;i<a.length;i++){var o=a[i],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<O0.length;l++)if(O0[l](r,o))return o}return!0},e}();function jh(e){return e[0]>e[1]&&e.reverse(),e}function R0(e,t){return Go(e,t,{includeMainTypes:fH})}var gH={grid:function(e,t){var n=e.xAxisModels,a=e.yAxisModels,r=e.gridModels,i=Ve(),o={},s={};!n&&!a&&!r||(R(n,function(l){var u=l.axis.grid.model;i.set(u.id,u),o[u.id]=!0}),R(a,function(l){var u=l.axis.grid.model;i.set(u.id,u),s[u.id]=!0}),R(r,function(l){i.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),i.each(function(l){var u=l.coordinateSystem,c=[];R(u.getCartesians(),function(d,h){(it(n,d.getAxis("x").model)>=0||it(a,d.getAxis("y").model)>=0)&&c.push(d)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:P0.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(e,t){R(e.geoModels,function(n){var a=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:a,coordSyses:[a],getPanelRect:P0.geo})})}},O0=[function(e,t){var n=e.xAxisModel,a=e.yAxisModel,r=e.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&a&&(r=a.axis.grid.model),r&&r===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],P0={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(Gu(e)),t}},Md={lineX:_t(N0,0),lineY:_t(N0,1),rect:function(e,t,n,a){var r=e?t.pointToData([n[0][0],n[1][0]],a):t.dataToPoint([n[0][0],n[1][0]],a),i=e?t.pointToData([n[0][1],n[1][1]],a):t.dataToPoint([n[0][1],n[1][1]],a),o=[jh([r[0],i[0]]),jh([r[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(e,t,n,a){var r=[[1/0,-1/0],[1/0,-1/0]],i=Re(n,function(o){var s=e?t.pointToData(o,a):t.dataToPoint(o,a);return r[0][0]=Math.min(r[0][0],s[0]),r[1][0]=Math.min(r[1][0],s[1]),r[0][1]=Math.max(r[0][1],s[0]),r[1][1]=Math.max(r[1][1],s[1]),s});return{values:i,xyMinMax:r}}};function N0(e,t,n,a){var r=n.getAxis(["x","y"][e]),i=jh(Re([0,1],function(s){return t?r.coordToData(r.toLocalCoord(a[s]),!0):r.toGlobalCoord(r.dataToCoord(a[s]))})),o=[];return o[e]=i,o[1-e]=[NaN,NaN],{values:i,xyMinMax:o}}var B0={lineX:_t($0,0),lineY:_t($0,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return Re(e,function(a,r){return[a[0]-n[0]*t[r][0],a[1]-n[1]*t[r][1]]})}};function $0(e,t,n,a){return[t[0]-a[e]*n[0],t[1]-a[e]*n[1]]}function mH(e,t){var n=U0(e),a=U0(t),r=[n[0]/a[0],n[1]/a[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}function U0(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}const cx=vH;var Jh=R,yH=AO("toolbox-dataZoom_"),_H=function(e){Pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,a,r,i){this._brushController||(this._brushController=new zG(r.getZr()),this._brushController.on("brush",Ye(this._onBrush,this)).mount()),xH(n,a,this,i,r),wH(n,a)},t.prototype.onclick=function(n,a,r){CH[r].call(this)},t.prototype.remove=function(n,a){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(n,a){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(n){var a=n.areas;if(!n.isEnd||!a.length)return;var r={},i=this.ecModel;this._brushController.updateCovers([]);var o=new cx(If(this.model),i,{include:["grid"]});o.matchOutputRanges(a,i,function(u,c,d){if(d.type==="cartesian2d"){var h=u.brushType;h==="rect"?(s("x",d,c[0]),s("y",d,c[1])):s({lineX:"x",lineY:"y"}[h],d,c)}}),lH(i,r),this._dispatchZoomAction(r);function s(u,c,d){var h=c.getAxis(u),p=h.model,f=l(u,p,i),g=f.findRepresentativeAxisProxy(p).getMinMaxSpan();(g.minValueSpan!=null||g.maxValueSpan!=null)&&(d=Ms(0,d.slice(),h.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),f&&(r[f.id]={dataZoomId:f.id,startValue:d[0],endValue:d[1]})}function l(u,c,d){var h;return d.eachComponent({mainType:"dataZoom",subType:"select"},function(p){var f=p.getAxisModel(u,c.componentIndex);f&&(h=p)}),h}},t.prototype._dispatchZoomAction=function(n){var a=[];Jh(n,function(r,i){a.push(qe(r))}),a.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:a})},t.getDefaultOption=function(n){var a={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return a},t}(Yn),CH={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(uH(this.ecModel))}};function If(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function wH(e,t){e.setIconStatus("back",dH(t)>1?"emphasis":"normal")}function xH(e,t,n,a,r){var i=n._isZoomActive;a&&a.type==="takeGlobalCursor"&&(i=a.key==="dataZoomSelect"?a.dataZoomSelectActive:!1),n._isZoomActive=i,e.setIconStatus("zoom",i?"emphasis":"normal");var o=new cx(If(e),t,{include:["grid"]}),s=o.makePanelOpts(r,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(s).enableBrush(i&&s.length?{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}:!1)}RB("dataZoom",function(e){var t=e.getComponent("toolbox",0),n=["feature","dataZoom"];if(!t||t.get(n)==null)return;var a=t.getModel(n),r=[],i=If(a),o=Go(e,i);Jh(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),Jh(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var d=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:a.get("filterMode",!0)||"filter",id:yH+u+d};h[c]=d,r.push(h)}return r});const EH=_H;function Af(e){e.registerComponentModel(GF),e.registerComponentView(zF),xo("saveAsImage",qF),xo("magicType",XF),xo("dataView",sH),xo("dataZoom",EH),xo("restore",pH),vn($F)}var bH=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(wt);const SH=bH;function dx(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function hx(e){if(Je.domSupported){for(var t=document.documentElement.style,n=0,a=e.length;n<a;n++)if(e[n]in t)return e[n]}}var px=hx(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),DH=hx(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function fx(e,t){if(!e)return t;t=zC(t,!0);var n=e.indexOf(t);return e=n===-1?t:"-"+e.slice(0,n)+"-"+t,e.toLowerCase()}function TH(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?t?n[t]:n:null}var IH=fx(DH,"transition"),kf=fx(px,"transform"),AH="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Je.transform3dSupported?"will-change:transform;":"");function kH(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function MH(e,t,n){if(!Oe(n)||n==="inside")return"";var a=e.get("backgroundColor"),r=e.get("borderWidth");t=Yr(t);var i=kH(n),o=Math.max(Math.round(r)*1.5,6),s="",l=kf+":",u;it(["left","right"],i)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=i==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=i==="top"?225:45)+"deg)");var c=u*Math.PI/180,d=o+r,h=d*Math.abs(Math.cos(c))+d*Math.abs(Math.sin(c)),p=Math.round(((h-Math.SQRT2*r)/2+Math.SQRT2*r-(h-d)/2)*100)/100;s+=";"+i+":-"+p+"px";var f=t+" solid "+r+"px;",g=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+f,"border-right:"+f,"background-color:"+a+";"];return'<div style="'+g.join("")+'"></div>'}function LH(e,t){var n="cubic-bezier(0.23,1,0.32,1)",a=" "+e/2+"s "+n,r="opacity"+a+",visibility"+a;return t||(a=" "+e+"s "+n,r+=Je.transformSupported?","+kf+a:",left"+a+",top"+a),IH+":"+r}function G0(e,t,n){var a=e.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!Je.transformSupported)return n?"top:"+r+";left:"+a+";":[["top",r],["left",a]];var i=Je.transform3dSupported,o="translate"+(i?"3d":"")+"("+a+","+r+(i?",0":"")+")";return n?"top:0;left:0;"+kf+":"+o+";":[["top",0],["left",0],[px,o]]}function RH(e){var t=[],n=e.get("fontSize"),a=e.getTextColor();a&&t.push("color:"+a),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(n*3/2)+"px");var r=e.get("textShadowColor"),i=e.get("textShadowBlur")||0,o=e.get("textShadowOffsetX")||0,s=e.get("textShadowOffsetY")||0;return r&&i&&t.push("text-shadow:"+o+"px "+s+"px "+i+"px "+r),R(["decoration","align"],function(l){var u=e.get(l);u&&t.push("text-"+l+":"+u)}),t.join(";")}function OH(e,t,n){var a=[],r=e.get("transitionDuration"),i=e.get("backgroundColor"),o=e.get("shadowBlur"),s=e.get("shadowColor"),l=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),c=e.getModel("textStyle"),d=y1(e,"html"),h=l+"px "+u+"px "+o+"px "+s;return a.push("box-shadow:"+h),t&&r&&a.push(LH(r,n)),i&&a.push("background-color:"+i),R(["width","color","radius"],function(p){var f="border-"+p,g=zC(f),v=e.get(g);v!=null&&a.push(f+":"+v+(p==="color"?"":"px"))}),a.push(RH(c)),d!=null&&a.push("padding:"+Xu(d).join("px ")+"px"),a.join(";")+";"}function F0(e,t,n,a,r){var i=t&&t.painter;if(n){var o=i&&i.getViewportRoot();o&&t5(e,o,document.body,a,r)}else{e[0]=a,e[1]=r;var s=i&&i.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var PH=function(){function e(t,n,a){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,Je.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=n.getZr(),o=this._appendToBody=a&&a.appendToBody;F0(this._styleCoord,i,o,n.getWidth()/2,n.getHeight()/2),o?document.body.appendChild(r):t.appendChild(r),this._container=t;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,c=i.painter.getViewportRoot();Tn(c,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(t){var n=this._container,a=TH(n,"position"),r=n.style;r.position!=="absolute"&&a!=="absolute"&&(r.position="relative");var i=t.get("alwaysShowContent");i&&this._moveIfResized(),this.el.className=t.get("className")||""},e.prototype.show=function(t,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var a=this.el,r=a.style,i=this._styleCoord;a.innerHTML?r.cssText=AH+OH(t,!this._firstShow,this._longHide)+G0(i[0],i[1],!0)+("border-color:"+Yr(n)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,n,a,r,i){var o=this.el;if(t==null){o.innerHTML="";return}var s="";if(Oe(i)&&a.get("trigger")==="item"&&!dx(a)&&(s=MH(a,r,i)),Oe(t))o.innerHTML=t+s;else if(t){o.innerHTML="",Te(t)||(t=[t]);for(var l=0;l<t.length;l++)es(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},e.prototype.moveTo=function(t,n){var a=this._styleCoord;if(F0(a,this._zr,this._appendToBody,t,n),a[0]!=null&&a[1]!=null){var r=this.el.style,i=G0(a[0],a[1]);R(i,function(o){r[o[0]]=o[1]})}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){var t=this,n=this.el.style;n.visibility="hidden",n.opacity="0",Je.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Ye(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},e}();const NH=PH;var BH=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),V0(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var n=t.get("alwaysShowContent");n&&this._moveIfResized()},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,n,a,r,i){var o=this;$e(t)&&sn(""),this.el&&this._zr.remove(this.el);var s=a.getModel("textStyle");this.el=new nn({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:a.get(["textStyle","color"]),padding:y1(a,"richText"),verticalAlign:"top",align:"left"},z:a.get("z")}),R(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=a.get(u)}),R(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),a=H0(t.style);return[n.width+a.left+a.right,n.height+a.top+a.bottom]},e.prototype.moveTo=function(t,n){var a=this.el;if(a){var r=this._styleCoord;V0(r,this._zr,t,n),t=r[0],n=r[1];var i=a.style,o=Ga(i.borderWidth||0),s=H0(i);a.x=t+o+s.left,a.y=n+o+s.top,a.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Ye(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function Ga(e){return Math.max(0,e)}function H0(e){var t=Ga(e.shadowBlur||0),n=Ga(e.shadowOffsetX||0),a=Ga(e.shadowOffsetY||0);return{left:Ga(t-n),right:Ga(t+n),top:Ga(t-a),bottom:Ga(t+a)}}function V0(e,t,n,a){e[0]=n,e[1]=a,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}const $H=BH;var UH=new St({shape:{x:-1,y:-1,width:2,height:2}}),GH=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,a){if(!(Je.node||!a.getDom())){var r=n.getComponent("tooltip"),i=this._renderMode=PO(r.get("renderMode"));this._tooltipContent=i==="richText"?new $H(a):new NH(a.getDom(),a,{appendToBody:r.get("appendToBody",!0)})}},t.prototype.render=function(n,a,r){if(!(Je.node||!r.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=a,this._api=r,this._alwaysShowContent=n.get("alwaysShowContent");var i=this._tooltipContent;i.update(n),i.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?nc(this,"_updatePosition",50,"fixRate"):lu(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var n=this._tooltipModel,a=n.get("triggerOn");nx("itemTooltip",this._api,Ye(function(r,i,o){a!=="none"&&(a.indexOf(r)>=0?this._tryShow(i,o):r==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var n=this._tooltipModel,a=this._ecModel,r=this._api,i=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&o.manuallyShowTip(n,a,r,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(n,a,r,i){if(!(i.from===this.uid||Je.node||!r.getDom())){var o=Y0(i,r);this._ticket="";var s=i.dataByCoordSys,l=YH(i,a,r);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:i.position,positionDefault:"bottom"},o)}else if(i.tooltip&&i.x!=null&&i.y!=null){var c=UH;c.x=i.x,c.y=i.y,c.update(),vt(c).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:c},o)}else if(s)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:s,tooltipOption:i.tooltipOption},o);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(n,a,r,i))return;var d=ax(i,a),h=d.point[0],p=d.point[1];h!=null&&p!=null&&this._tryShow({offsetX:h,offsetY:p,target:d.el,position:i.position,positionDefault:"bottom"},o)}else i.x!=null&&i.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:r.getZr().findHover(i.x,i.y).target},o))}},t.prototype.manuallyHideTip=function(n,a,r,i){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(Y0(i,r))},t.prototype._manuallyAxisShowTip=function(n,a,r,i){var o=i.seriesIndex,s=i.dataIndex,l=a.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=a.getSeriesByIndex(o);if(u){var c=u.getData(),d=Eo([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:i.position}),!0}}},t.prototype._tryShow=function(n,a){var r=n.target,i=this._tooltipModel;if(i){this._lastX=n.offsetX,this._lastY=n.offsetY;var o=n.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,n);else if(r){this._lastDataByCoordSys=null;var s,l;No(r,function(u){if(vt(u).dataIndex!=null)return s=u,!0;if(vt(u).tooltipConfig!=null)return l=u,!0},!0),s?this._showSeriesItemTooltip(n,s,a):l?this._showComponentItemTooltip(n,l,a):this._hide(a)}else this._lastDataByCoordSys=null,this._hide(a)}},t.prototype._showOrMove=function(n,a){var r=n.get("showDelay");a=Ye(a,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(a,r):a()},t.prototype._showAxisTooltip=function(n,a){var r=this._ecModel,i=this._tooltipModel,o=[a.offsetX,a.offsetY],s=Eo([a.tooltipOption],i),l=this._renderMode,u=[],c=ps("section",{blocks:[],noHeader:!0}),d=[],h=new id;R(n,function(y){R(y.dataByAxis,function(_){var w=r.getComponent(_.axisDim+"Axis",_.axisIndex),E=_.value;if(!(!w||E==null)){var x=ex(E,w.axis,r,_.seriesDataIndices,_.valueLabelOpt),S=ps("section",{header:x,noHeader:!ea(x),sortBlocks:!0,blocks:[]});c.blocks.push(S),R(_.seriesDataIndices,function(b){var D=r.getSeriesByIndex(b.seriesIndex),T=b.dataIndexInside,A=D.getDataParams(T);if(!(A.dataIndex<0)){A.axisDim=_.axisDim,A.axisIndex=_.axisIndex,A.axisType=_.axisType,A.axisId=_.axisId,A.axisValue=cf(w.axis,{value:E}),A.axisValueLabel=x,A.marker=h.makeTooltipMarker("item",Yr(A.color),l);var L=Pg(D.formatTooltip(T,!0,null)),P=L.frag;if(P){var N=Eo([D],i).get("valueFormatter");S.blocks.push(N?_e({valueFormatter:N},P):P)}L.text&&d.push(L.text),u.push(A)}})}})}),c.blocks.reverse(),d.reverse();var p=a.position,f=s.get("order"),g=Gg(c,h,l,f,r.get("useUTC"),s.get("textStyle"));g&&d.unshift(g);var v=l==="richText"?`

`:"<br/>",m=d.join(v);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(n,u)?this._updatePosition(s,p,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,m,u,Math.random()+"",o[0],o[1],p,null,h)})},t.prototype._showSeriesItemTooltip=function(n,a,r){var i=this._ecModel,o=vt(a),s=o.seriesIndex,l=i.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,d=o.dataType,h=u.getData(d),p=this._renderMode,f=n.positionDefault,g=Eo([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,f?{position:f}:null),v=g.get("trigger");if(!(v!=null&&v!=="item")){var m=u.getDataParams(c,d),y=new id;m.marker=y.makeTooltipMarker("item",Yr(m.color),p);var _=Pg(u.formatTooltip(c,!1,d)),w=g.get("order"),E=g.get("valueFormatter"),x=_.frag,S=x?Gg(E?_e({valueFormatter:E},x):x,y,p,w,i.get("useUTC"),g.get("textStyle")):_.text,b="item_"+u.name+"_"+c;this._showOrMove(g,function(){this._showTooltipContent(g,S,m,b,n.offsetX,n.offsetY,n.position,n.target,y)}),r({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(n,a,r){var i=vt(a),o=i.tooltipConfig,s=o.option||{};if(Oe(s)){var l=s;s={content:l,formatter:l}}var u=[s],c=this._ecModel.getComponent(i.componentMainType,i.componentIndex);c&&u.push(c),u.push({formatter:s.content});var d=n.positionDefault,h=Eo(u,this._tooltipModel,d?{position:d}:null),p=h.get("content"),f=Math.random()+"",g=new id;this._showOrMove(h,function(){var v=qe(h.get("formatterParams")||{});this._showTooltipContent(h,p,v,f,n.offsetX,n.offsetY,n.position,a,g)}),r({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(n,a,r,i,o,s,l,u,c){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var d=this._tooltipContent;d.setEnterable(n.get("enterable"));var h=n.get("formatter");l=l||n.get("position");var p=a,f=this._getNearestPoint([o,s],r,n.get("trigger"),n.get("borderColor")),g=f.color;if(h)if(Oe(h)){var v=n.ecModel.get("useUTC"),m=Te(r)?r[0]:r,y=m&&m.axisType&&m.axisType.indexOf("time")>=0;p=h,y&&(p=zu(m.axisValue,p,v)),p=WC(p,r,!0)}else if(We(h)){var _=Ye(function(w,E){w===this._ticket&&(d.setContent(E,c,n,g,l),this._updatePosition(n,l,o,s,d,r,u))},this);this._ticket=i,p=h(r,i,_)}else p=h;d.setContent(p,c,n,g,l),d.show(n,g),this._updatePosition(n,l,o,s,d,r,u)}},t.prototype._getNearestPoint=function(n,a,r,i){if(r==="axis"||Te(a))return{color:i||(this._renderMode==="html"?"#fff":"none")};if(!Te(a))return{color:i||a.color||a.borderColor}},t.prototype._updatePosition=function(n,a,r,i,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();a=a||n.get("position");var d=o.getSize(),h=n.get("align"),p=n.get("verticalAlign"),f=l&&l.getBoundingRect().clone();if(l&&f.applyTransform(l.transform),We(a)&&(a=a([r,i],s,o.el,f,{viewSize:[u,c],contentSize:d.slice()})),Te(a))r=Ht(a[0],u),i=Ht(a[1],c);else if($e(a)){var g=a;g.width=d[0],g.height=d[1];var v=Ji(g,{width:u,height:c});r=v.x,i=v.y,h=null,p=null}else if(Oe(a)&&l){var m=VH(a,f,d,n.get("borderWidth"));r=m[0],i=m[1]}else{var m=FH(r,i,o,u,c,h?null:20,p?null:20);r=m[0],i=m[1]}if(h&&(r-=z0(h)?d[0]/2:h==="right"?d[0]:0),p&&(i-=z0(p)?d[1]/2:p==="bottom"?d[1]:0),dx(n)){var m=HH(r,i,o,u,c);r=m[0],i=m[1]}o.moveTo(r,i)},t.prototype._updateContentNotChangedOnAxis=function(n,a){var r=this._lastDataByCoordSys,i=this._cbParamsList,o=!!r&&r.length===n.length;return o&&R(r,function(s,l){var u=s.dataByAxis||[],c=n[l]||{},d=c.dataByAxis||[];o=o&&u.length===d.length,o&&R(u,function(h,p){var f=d[p]||{},g=h.seriesDataIndices||[],v=f.seriesDataIndices||[];o=o&&h.value===f.value&&h.axisType===f.axisType&&h.axisId===f.axisId&&g.length===v.length,o&&R(g,function(m,y){var _=v[y];o=o&&m.seriesIndex===_.seriesIndex&&m.dataIndex===_.dataIndex}),i&&R(h.seriesDataIndices,function(m){var y=m.seriesIndex,_=a[y],w=i[y];_&&w&&w.data!==_.data&&(o=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=a,!!o},t.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},t.prototype.dispose=function(n,a){Je.node||!a.getDom()||(lu(this,"_updatePosition"),this._tooltipContent.dispose(),Kh("itemTooltip",a))},t.type="tooltip",t}(la);function Eo(e,t,n){var a=t.ecModel,r;n?(r=new Xt(n,a,a),r=new Xt(t.option,r,a)):r=t;for(var i=e.length-1;i>=0;i--){var o=e[i];o&&(o instanceof Xt&&(o=o.get("tooltip",!0)),Oe(o)&&(o={formatter:o}),o&&(r=new Xt(o,r,a)))}return r}function Y0(e,t){return e.dispatchAction||Ye(t.dispatchAction,t)}function FH(e,t,n,a,r,i,o){var s=n.getSize(),l=s[0],u=s[1];return i!=null&&(e+l+i+2>a?e-=l+i:e+=i),o!=null&&(t+u+o>r?t-=u+o:t+=o),[e,t]}function HH(e,t,n,a,r){var i=n.getSize(),o=i[0],s=i[1];return e=Math.min(e+o,a)-o,t=Math.min(t+s,r)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function VH(e,t,n,a){var r=n[0],i=n[1],o=Math.ceil(Math.SQRT2*a)+8,s=0,l=0,u=t.width,c=t.height;switch(e){case"inside":s=t.x+u/2-r/2,l=t.y+c/2-i/2;break;case"top":s=t.x+u/2-r/2,l=t.y-i-o;break;case"bottom":s=t.x+u/2-r/2,l=t.y+c+o;break;case"left":s=t.x-r-o,l=t.y+c/2-i/2;break;case"right":s=t.x+u+o,l=t.y+c/2-i/2}return[s,l]}function z0(e){return e==="center"||e==="middle"}function YH(e,t,n){var a=xp(e).queryOptionMap,r=a.keys()[0];if(!(!r||r==="series")){var i=Ds(t,r,a.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),o=i.models[0];if(o){var s=n.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=vt(u).tooltipConfig;if(c&&c.name===e.name)return l=u,!0}),l)return{componentMainType:r,componentIndex:o.componentIndex,el:l}}}}const zH=GH;function WH(e){vn(rx),e.registerComponentModel(SH),e.registerComponentView(zH),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},tn),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},tn)}var qH=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(wt),ZH=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,a,r){if(this.group.removeAll(),!!n.get("show")){var i=this.group,o=n.getModel("textStyle"),s=n.getModel("subtextStyle"),l=n.get("textAlign"),u=ut(n.get("textBaseline"),n.get("textVerticalAlign")),c=new nn({style:Qa(o,{text:n.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),d=c.getBoundingRect(),h=n.get("subtext"),p=new nn({style:Qa(s,{text:h,fill:s.getTextColor(),y:d.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),f=n.get("link"),g=n.get("sublink"),v=n.get("triggerEvent",!0);c.silent=!f&&!v,p.silent=!g&&!v,f&&c.on("click",function(){mg(f,"_"+n.get("target"))}),g&&p.on("click",function(){mg(g,"_"+n.get("subtarget"))}),vt(c).eventData=vt(p).eventData=v?{componentType:"title",componentIndex:n.componentIndex}:null,i.add(c),h&&i.add(p);var m=i.getBoundingRect(),y=n.getBoxLayoutParams();y.width=m.width,y.height=m.height;var _=Ji(y,{width:r.getWidth(),height:r.getHeight()},n.get("padding"));l||(l=n.get("left")||n.get("right"),l==="middle"&&(l="center"),l==="right"?_.x+=_.width:l==="center"&&(_.x+=_.width/2)),u||(u=n.get("top")||n.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?_.y+=_.height:u==="middle"&&(_.y+=_.height/2),u=u||"top"),i.x=_.x,i.y=_.y,i.markRedraw();var w={align:l,verticalAlign:u};c.setStyle(w),p.setStyle(w),m=i.getBoundingRect();var E=_.margin,x=n.getItemStyle(["color","opacity"]);x.fill=n.get("backgroundColor");var S=new St({shape:{x:m.x-E[3],y:m.y-E[0],width:m.width+E[1]+E[3],height:m.height+E[0]+E[2],r:n.get("borderRadius")},style:x,subPixelOptimize:!0,silent:!0});i.add(S)}},t.type="title",t}(la);function KH(e){e.registerComponentModel(qH),e.registerComponentView(ZH)}var XH=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.inside",t.defaultOption=$p(Cs.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Cs);const jH=XH;var Mf=At();function JH(e,t,n){Mf(e).coordSysRecordMap.each(function(a){var r=a.dataZoomInfoMap.get(t.uid);r&&(r.getRange=n)})}function QH(e,t){for(var n=Mf(e).coordSysRecordMap,a=n.keys(),r=0;r<a.length;r++){var i=a[r],o=n.get(i),s=o.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||vx(n,o))}}}function vx(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function e6(e,t){var n={model:t,containsPoint:_t(n6,t),dispatchAction:_t(t6,e),dataZoomInfoMap:null,controller:null},a=n.controller=new DG(e.getZr());return R(["pan","zoom","scrollMove"],function(r){a.on(r,function(i){var o=[];n.dataZoomInfoMap.each(function(s){if(i.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[r],u=l&&l(s.dzReferCoordSysInfo,n.model.mainType,n.controller,i);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&n.dispatchAction(o)})}),n}function t6(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function n6(e,t,n,a){return e.coordinateSystem.containPoint([n,a])}function a6(e){var t,n="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return e.each(function(i){var o=i.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;a[n+s]>a[n+t]&&(t=s),r=r&&o.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}function r6(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(t,n){var a=Mf(n),r=a.coordSysRecordMap||(a.coordSysRecordMap=Ve());r.each(function(i){i.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(i){var o=ix(i);R(o.infoList,function(s){var l=s.model.uid,u=r.get(l)||r.set(l,e6(n,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Ve());c.set(i.uid,{dzReferCoordSysInfo:s,model:i,getRange:null})})}),r.each(function(i){var o=i.controller,s,l=i.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){vx(r,i);return}var c=a6(l);o.enable(c.controlType,c.opt),o.setPointerChecker(i.containsPoint),nc(i,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var i6=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return t.prototype.render=function(n,a,r){if(e.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),JH(r,n,{pan:Ye(Ld.pan,this),zoom:Ye(Ld.zoom,this),scrollMove:Ye(Ld.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){QH(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(Sf),Ld={zoom:function(e,t,n,a){var r=this.range,i=r.slice(),o=e.axisModels[0];if(o){var s=Rd[t](null,[a.originX,a.originY],o,n,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(i[1]-i[0])+i[0],u=Math.max(1/a.scale,0);i[0]=(i[0]-l)*u+l,i[1]=(i[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Ms(0,i,[0,100],0,c.minSpan,c.maxSpan),this.range=i,r[0]!==i[0]||r[1]!==i[1])return i}},pan:W0(function(e,t,n,a,r,i){var o=Rd[a]([i.oldX,i.oldY],[i.newX,i.newY],t,r,n);return o.signal*(e[1]-e[0])*o.pixel/o.pixelLength}),scrollMove:W0(function(e,t,n,a,r,i){var o=Rd[a]([0,0],[i.scrollDelta,i.scrollDelta],t,r,n);return o.signal*(e[1]-e[0])*i.scrollDelta})};function W0(e){return function(t,n,a,r){var i=this.range,o=i.slice(),s=t.axisModels[0];if(s){var l=e(o,s,t,n,a,r);if(Ms(l,o,[0,100],"all"),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}}}var Rd={grid:function(e,t,n,a,r){var i=n.axis,o={},s=r.model.coordinateSystem.getRect();return e=e||[0,0],i.dim==="x"?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=i.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=i.inverse?-1:1),o},polar:function(e,t,n,a,r){var i=n.axis,o={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),n.mainType==="radiusAxis"?(o.pixel=t[0]-e[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=i.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=i.inverse?-1:1),o},singleAxis:function(e,t,n,a,r){var i=n.axis,o=r.model.coordinateSystem.getRect(),s={};return e=e||[0,0],i.orient==="horizontal"?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=i.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=i.inverse?-1:1),s}};const o6=i6;function s6(e){Df(e),e.registerComponentModel(jH),e.registerComponentView(o6),r6(e)}var l6=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=$p(Cs.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Cs);const u6=l6;var bo=St,q0=7,c6=1,Od=30,d6=7,So="horizontal",Z0="vertical",h6=5,p6=["line","bar","candlestick","scatter"],f6={easing:"cubicOut",duration:100,delay:0},v6=function(e){Pe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return t.prototype.init=function(n,a){this.api=a,this._onBrush=Ye(this._onBrush,this),this._onBrushEnd=Ye(this._onBrushEnd,this)},t.prototype.render=function(n,a,r,i){if(e.prototype.render.apply(this,arguments),nc(this,"_dispatchZoomAction",n.get("throttle"),"fixRate"),this._orient=n.getOrient(),n.get("show")===!1){this.group.removeAll();return}if(n.noTarget()){this._clear(),this.group.removeAll();return}(!i||i.type!=="dataZoom"||i.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){lu(this,"_dispatchZoomAction");var n=this.api.getZr();n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var n=this.group;n.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var a=this._displayables.sliderGroup=new $t;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),n.add(a),this._positionGroup()},t.prototype._resetLocation=function(){var n=this.dataZoomModel,a=this.api,r=n.get("brushSelect"),i=r?d6:0,o=this._findCoordRect(),s={width:a.getWidth(),height:a.getHeight()},l=this._orient===So?{right:s.width-o.x-o.width,top:s.height-Od-q0-i,width:o.width,height:Od}:{right:q0,top:o.y,width:Od,height:o.height},u=ju(n.option);R(["right","top","width","height"],function(d){u[d]==="ph"&&(u[d]=l[d])});var c=Ji(u,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===Z0&&this._size.reverse()},t.prototype._positionGroup=function(){var n=this.group,a=this._location,r=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r===So&&!o?{scaleY:l?1:-1,scaleX:1}:r===So&&o?{scaleY:l?1:-1,scaleX:-1}:r===Z0&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=n.getBoundingRect([s]);n.x=a.x-u.x,n.y=a.y-u.y,n.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var n=this.dataZoomModel,a=this._size,r=this._displayables.sliderGroup,i=n.get("brushSelect");r.add(new bo({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:n.get("backgroundColor")},z2:-40}));var o=new bo({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:Ye(this._onClickPanel,this)}),s=this.api.getZr();i?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(o)},t.prototype._renderDataShadow=function(){var n=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!n)return;var a=this._size,r=this._shadowSize||[],i=n.series,o=i.getRawData(),s=i.getShadowDim&&i.getShadowDim(),l=s&&o.getDimensionInfo(s)?i.getShadowDim():n.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||a[0]!==r[0]||a[1]!==r[1]){var d=o.getDataExtent(l),h=(d[1]-d[0])*.3;d=[d[0]-h,d[1]+h];var p=[0,a[1]],f=[0,a[0]],g=[[a[0],0],[0,0]],v=[],m=f[1]/(o.count()-1),y=0,_=Math.round(o.count()/a[0]),w;o.each([l],function(D,T){if(_>0&&T%_){y+=m;return}var A=D==null||isNaN(D)||D==="",L=A?0:Wt(D,d,p,!0);A&&!w&&T?(g.push([g[g.length-1][0],0]),v.push([v[v.length-1][0],0])):!A&&w&&(g.push([y,0]),v.push([y,0])),g.push([y,L]),v.push([y,L]),y+=m,w=A}),u=this._shadowPolygonPts=g,c=this._shadowPolylinePts=v}this._shadowData=o,this._shadowDim=l,this._shadowSize=[a[0],a[1]];var E=this.dataZoomModel;function x(D){var T=E.getModel(D?"selectedDataBackground":"dataBackground"),A=new $t,L=new Ts({shape:{points:u},segmentIgnoreThreshold:1,style:T.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),P=new $u({shape:{points:c},segmentIgnoreThreshold:1,style:T.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return A.add(L),A.add(P),A}for(var S=0;S<3;S++){var b=x(S===1);this._displayables.sliderGroup.add(b),this._displayables.dataShadowSegs.push(b)}},t.prototype._prepareDataShadowInfo=function(){var n=this.dataZoomModel,a=n.get("showDataShadow");if(a!==!1){var r,i=this.ecModel;return n.eachTargetAxis(function(o,s){var l=n.getAxisProxy(o,s).getTargetSeriesModels();R(l,function(u){if(!r&&!(a!==!0&&it(p6,u.get("type"))<0)){var c=i.getComponent(Ya(o),s).axis,d=g6(o),h,p=u.coordinateSystem;d!=null&&p.getOtherAxis&&(h=p.getOtherAxis(c).inverse),d=u.getData().mapDimension(d),r={thisAxis:c,series:u,thisDim:o,otherDim:d,otherAxisInverse:h}}},this)},this),r}},t.prototype._renderHandle=function(){var n=this.group,a=this._displayables,r=a.handles=[null,null],i=a.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,d=l.get("brushSelect"),h=a.filler=new bo({silent:d,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(h),o.add(new bo({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:c6,fill:"rgba(0,0,0,0)"}})),R([0,1],function(_){var w=l.get("handleIcon");!cu[w]&&w.indexOf("path://")<0&&w.indexOf("image://")<0&&(w="path://"+w);var E=Wr(w,-1,0,2,2,null,!0);E.attr({cursor:K0(this._orient),draggable:!0,drift:Ye(this._onDragMove,this,_),ondragend:Ye(this._onDragEnd,this),onmouseover:Ye(this._showDataInfo,this,!0),onmouseout:Ye(this._showDataInfo,this,!1),z2:5});var x=E.getBoundingRect(),S=l.get("handleSize");this._handleHeight=Ht(S,this._size[1]),this._handleWidth=x.width/x.height*this._handleHeight,E.setStyle(l.getModel("handleStyle").getItemStyle()),E.style.strokeNoScale=!0,E.rectHover=!0,E.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),aC(E);var b=l.get("handleColor");b!=null&&(E.style.fill=b),o.add(r[_]=E);var D=l.getModel("textStyle");n.add(i[_]=new nn({silent:!0,invisible:!0,style:Qa(D,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:D.getTextColor(),font:D.getFont()}),z2:10}))},this);var p=h;if(d){var f=Ht(l.get("moveHandleSize"),s[1]),g=a.moveHandle=new St({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:f}}),v=f*.8,m=a.moveHandleIcon=Wr(l.get("moveHandleIcon"),-v/2,-v/2,v,v,"#fff",!0);m.silent=!0,m.y=s[1]+f/2-.5,g.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(s[1]/2,Math.max(f,10));p=a.moveZone=new St({invisible:!0,shape:{y:s[1]-y,height:f+y}}),p.on("mouseover",function(){u.enterEmphasis(g)}).on("mouseout",function(){u.leaveEmphasis(g)}),o.add(g),o.add(m),o.add(p)}p.attr({draggable:!0,cursor:K0(this._orient),drift:Ye(this._onDragMove,this,"all"),ondragstart:Ye(this._showDataInfo,this,!0),ondragend:Ye(this._onDragEnd,this),onmouseover:Ye(this._showDataInfo,this,!0),onmouseout:Ye(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var n=this._range=this.dataZoomModel.getPercentRange(),a=this._getViewExtent();this._handleEnds=[Wt(n[0],[0,100],a,!0),Wt(n[1],[0,100],a,!0)]},t.prototype._updateInterval=function(n,a){var r=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Ms(a,i,o,r.get("zoomLock")?"all":n,s.minSpan!=null?Wt(s.minSpan,l,o,!0):null,s.maxSpan!=null?Wt(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=Lo([Wt(i[0],o,l,!0),Wt(i[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(n){var a=this._displayables,r=this._handleEnds,i=Lo(r.slice()),o=this._size;R([0,1],function(p){var f=a.handles[p],g=this._handleHeight;f.attr({scaleX:g/2,scaleY:g/2,x:r[p]+(p?-1:1),y:o[1]/2-g/2})},this),a.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]});var s={x:i[0],width:i[1]-i[0]};a.moveHandle&&(a.moveHandle.setShape(s),a.moveZone.setShape(s),a.moveZone.getBoundingRect(),a.moveHandleIcon&&a.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=a.dataShadowSegs,u=[0,i[0],i[1],o[0]],c=0;c<l.length;c++){var d=l[c],h=d.getClipPath();h||(h=new St,d.setClipPath(h)),h.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(n)},t.prototype._updateDataInfo=function(n){var a=this.dataZoomModel,r=this._displayables,i=r.handleLabels,o=this._orient,s=["",""];if(a.get("showDetail")){var l=a.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,d=n?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(d[0],u),this._formatLabel(d[1],u)]}}var h=Lo(this._handleEnds.slice());p.call(this,0),p.call(this,1);function p(f){var g=Gu(r.handles[f].parent,this.group),v=Op(f===0?"right":"left",g),m=this._handleWidth/2+h6,y=ss([h[f]+(f===0?-m:m),this._size[1]/2],g);i[f].setStyle({x:y[0],y:y[1],verticalAlign:o===So?"middle":v,align:o===So?v:"center",text:s[f]})}},t.prototype._formatLabel=function(n,a){var r=this.dataZoomModel,i=r.get("labelFormatter"),o=r.get("labelPrecision");(o==null||o==="auto")&&(o=a.getPixelPrecision());var s=n==null||isNaN(n)?"":a.type==="category"||a.type==="time"?a.scale.getLabel({value:Math.round(n)}):n.toFixed(Math.min(o,20));return We(i)?i(n,s):Oe(i)?i.replace("{value}",s):s},t.prototype._showDataInfo=function(n){n=this._dragging||n;var a=this._displayables,r=a.handleLabels;r[0].attr("invisible",!n),r[1].attr("invisible",!n),a.moveHandle&&this.api[n?"enterEmphasis":"leaveEmphasis"](a.moveHandle,1)},t.prototype._onDragMove=function(n,a,r,i){this._dragging=!0,Fi(i.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=ss([a,r],o,!0),l=this._updateInterval(n,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var n=this.dataZoomModel.get("realtime");!n&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(n){var a=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(n.offsetX,n.offsetY);if(!(r[0]<0||r[0]>a[0]||r[1]<0||r[1]>a[1])){var i=this._handleEnds,o=(i[0]+i[1])/2,s=this._updateInterval("all",r[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(n){var a=n.offsetX,r=n.offsetY;this._brushStart=new at(a,r),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(n){if(this._brushing){var a=this._displayables.brushRect;if(this._brushing=!1,!!a){a.attr("ignore",!0);var r=a.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=Lo([Wt(r.x,o,s,!0),Wt(r.x+r.width,o,s,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(n){this._brushing&&(Fi(n.event),this._updateBrushRect(n.offsetX,n.offsetY))},t.prototype._updateBrushRect=function(n,a){var r=this._displayables,i=this.dataZoomModel,o=r.brushRect;o||(o=r.brushRect=new bo({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(n,a),c=l.transformCoordToLocal(s.x,s.y),d=this._size;u[0]=Math.max(Math.min(d[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:d[1]})},t.prototype._dispatchZoomAction=function(n){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:n?f6:null,start:a[0],end:a[1]})},t.prototype._findCoordRect=function(){var n,a=ix(this.dataZoomModel).infoList;if(!n&&a.length){var r=a[0].model.coordinateSystem;n=r.getRect&&r.getRect()}if(!n){var i=this.api.getWidth(),o=this.api.getHeight();n={x:i*.2,y:o*.2,width:i*.6,height:o*.6}}return n},t.type="dataZoom.slider",t}(Sf);function g6(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function K0(e){return e==="vertical"?"ns-resize":"ew-resize"}const m6=v6;function y6(e){e.registerComponentModel(u6),e.registerComponentView(m6),Df(e)}function Lf(e){vn(s6),vn(y6)}var Pd=null;function _6(e){return Pd||(Pd=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),Pd(e)}var Nd=null;function C6(e){Nd||(Nd=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),Nd(e)}function w6(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function xl(e,t){t===void 0&&(t={});var n=document.createElement(e);return Object.keys(t).forEach(function(a){n[a]=t[a]}),n}function gx(e,t,n){var a=window.getComputedStyle(e,n||null)||{display:"none"};return a[t]}function Qh(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(gx(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var x6='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',ep=0,Hl=null;function E6(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=D6.bind(e));var n=e.__resize_listeners__;if(!n){if(e.__resize_listeners__=[],window.ResizeObserver){var a=e.offsetWidth,r=e.offsetHeight,i=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===a&&e.offsetHeight===r)||gu(e)}),o=Qh(e),s=o.detached,l=o.rendered;e.__resize_observer_triggered__=s===!1&&l===!1,e.__resize_observer__=i,i.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){gu(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(ep||(Hl=w6(x6)),T6(e),e.__resize_rendered__=Qh(e).rendered,window.MutationObserver){var u=new MutationObserver(e.__resize_mutation_handler__);u.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=u}}e.__resize_listeners__.push(t),ep++}function b6(e,t){var n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",Rf),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--ep&&Hl&&Hl.parentNode.removeChild(Hl)}}function S6(e){var t=e.__resize_last__,n=t.width,a=t.height,r=e.offsetWidth,i=e.offsetHeight;return r!==n||i!==a?{width:r,height:i}:null}function D6(){var e=Qh(this),t=e.rendered,n=e.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(Of(this),this.addEventListener("scroll",Rf,!0)),this.__resize_rendered__=t,gu(this))}function Rf(){var e=this;Of(this),this.__resize_raf__&&C6(this.__resize_raf__),this.__resize_raf__=_6(function(){var t=S6(e);t&&(e.__resize_last__=t,gu(e))})}function gu(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function T6(e){var t=gx(e,"position");(!t||t==="static")&&(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var n=xl("div",{className:"resize-triggers"}),a=xl("div",{className:"resize-expand-trigger"}),r=xl("div"),i=xl("div",{className:"resize-contract-trigger"});a.appendChild(r),n.appendChild(a),n.appendChild(i),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:a,expandChild:r,contract:i},Of(e),e.addEventListener("scroll",Rf,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function Of(e){var t=e.__resize_triggers__,n=t.expand,a=t.expandChild,r=t.contract,i=r.scrollWidth,o=r.scrollHeight,s=n.offsetWidth,l=n.offsetHeight,u=n.scrollWidth,c=n.scrollHeight;r.scrollLeft=i,r.scrollTop=o,a.style.width=s+1+"px",a.style.height=l+1+"px",n.scrollLeft=u,n.scrollTop=c}var ga=function(){return ga=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ga.apply(this,arguments)},I6=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function A6(e){return t=Object.create(null),I6.forEach(function(n){t[n]=function(a){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[a].apply(e.value,r)}}(n)}),t;var t}var k6={autoresize:Boolean},M6=/^on[^a-z]/,L6=function(e){return M6.test(e)};function El(e,t){var n=tE(e);return n&&typeof n=="object"&&"value"in n?n.value||t:n||t}var R6={loading:Boolean,loadingOptions:Object},Do=null,X0=[],To=[];(function(e,t){if(e&&typeof document<"u"){var n,a=t.prepend===!0?"prepend":"append",r=t.singleTag===!0,i=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(r){var o=X0.indexOf(i);o===-1&&(o=X0.push(i)-1,To[o]={}),n=To[o]&&To[o][a]?To[o][a]:To[o][a]=s()}else n=s();e.charCodeAt(0)===65279&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function s(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),t.attributes)for(var u=Object.keys(t.attributes),c=0;c<u.length;c++)l.setAttribute(u[c],t.attributes[u[c]]);var d=a==="prepend"?"afterbegin":"beforeend";return i.insertAdjacentElement(d,l),l}})(`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`,{});var O6=function(){if(Do!=null)return Do;if(typeof HTMLElement>"u"||typeof customElements>"u")return Do=!1;try{new Function("tag",`class EChartsElement extends HTMLElement {
  __dispose = null;

  disconnectedCallback() {
    if (this.__dispose) {
      this.__dispose();
      this.__dispose = null;
    }
  }
}

if (customElements.get(tag) == null) {
  customElements.define(tag, EChartsElement);
}
`)("x-vue-echarts")}catch{return Do=!1}return Do=!0}(),ni=be({name:"echarts",props:ga(ga({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},k6),R6),emits:{},inheritAttrs:!1,setup:function(e,t){var n=t.attrs,a=hc(),r=hc(),i=hc(),o=Ps("ecTheme",null),s=Ps("ecInitOptions",null),l=Ps("ecUpdateOptions",null),u=Jx(e),c=u.autoresize,d=u.manualUpdate,h=u.loading,p=u.loadingOptions,f=ke(function(){return i.value||e.option||null}),g=ke(function(){return e.theme||El(o,{})}),v=ke(function(){return e.initOptions||El(s,{})}),m=ke(function(){return e.updateOptions||El(l,{})}),y=ke(function(){return function(b){var D={};for(var T in b)L6(T)||(D[T]=b[T]);return D}(n)}),_=Qx().proxy.$listeners;function w(b){if(a.value){var D=r.value=h4(a.value,g.value,v.value);e.group&&(D.group=e.group);var T=_;T||(T={},Object.keys(n).filter(function(L){return L.indexOf("on")===0&&L.length>2}).forEach(function(L){var P=L.charAt(2).toLowerCase()+L.slice(3);P.substring(P.length-4)==="Once"&&(P="~".concat(P.substring(0,P.length-4))),T[P]=n[L]})),Object.keys(T).forEach(function(L){var P=T[L];if(P){var N=L.toLowerCase();N.charAt(0)==="~"&&(N=N.substring(1),P.__once__=!0);var B=D;if(N.indexOf("zr:")===0&&(B=D.getZr(),N=N.substring(3)),P.__once__){delete P.__once__;var K=P;P=function(){for(var ce=[],$=0;$<arguments.length;$++)ce[$]=arguments[$];K.apply(void 0,ce),B.off(N,P)}}B.on(N,P)}}),c.value?lt(function(){D&&!D.isDisposed()&&D.resize(),A()}):A()}function A(){var L=b||f.value;L&&D.setOption(L,m.value)}}function E(){r.value&&(r.value.dispose(),r.value=void 0)}var x=null;He(d,function(b){typeof x=="function"&&(x(),x=null),b||(x=He(function(){return e.option},function(D,T){D&&(r.value?r.value.setOption(D,ga({notMerge:D!==T},m.value)):w())},{deep:!0}))},{immediate:!0}),He([g,v],function(){E(),w()},{deep:!0}),Uf(function(){e.group&&r.value&&(r.value.group=e.group)});var S=A6(r);return function(b,D,T){var A=Ps("ecLoadingOptions",{}),L=ke(function(){return ga(ga({},El(A,{})),T==null?void 0:T.value)});Uf(function(){var P=b.value;P&&(D.value?P.showLoading(L.value):P.hideLoading())})}(r,h,p),function(b,D,T){var A=null;He([T,b,D],function(L,P,N){var B=L[0],K=L[1],ce=L[2];B&&K&&ce&&(A=tc(function(){K.resize()},100),E6(B,A)),N(function(){A&&B&&b6(B,A)})})}(r,c,a),Ue(function(){w()}),ip(function(){O6&&a.value?a.value.__dispose=E:E()}),ga({chart:r,root:a,setOption:function(b,D){e.manualUpdate&&(i.value=b),r.value?r.value.setOption(b,D||{}):w(b)},nonEventAttrs:y},S)},render:function(){var e=ga({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",eE("x-vue-echarts",e)}});const gn=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"],mn=["일","월","화","수","목","금","토"],yn=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31];vn([ti,sc,ei,Lf]);const P6=be({name:"BarChart",components:{VChart:ni},props:{dataType:{type:String},selectPeriod:{type:Number},dateList:{type:Array},checkList:{type:Array},data:{type:Array,require:!0}},setup(e){const t=I(void 0),n=I(null),a=Ze(e,"dateList"),r=Ze(e,"checkList"),i=Ze(e,"selectPeriod"),o=Ze(e,"data");let s=0;const l=()=>{s=0;let m=Array.from(o.value);m.sort((y,_)=>y.date<_.date?1:y.date>_.date?-1:0);for(let y=0;y<m.length;y++){const _=m[y];if(_.data&&_.data.length>0)for(let w=0;w<_.data.length;w++){const E=_.data[w];s+=Number(E.value)||0}}return m},u=m=>{if(m&&m.length>0)switch(i.value){case Be.DAY:let y=[];for(let w=0;w<m.length;w++){let E=m[w].data.map(x=>x.period.substring(8,12));e.dataType==="sleep"&&(E=m[w].data.map(x=>x.period.substring(4,8))),y=y.concat(E)}let _=y.filter((w,E)=>y.indexOf(w)===E);return e.dataType==="sleep"?_=_.map(w=>`${w.slice(0,2)}.${w.slice(2,4)}`):_=_.map(w=>`${w.slice(0,2)}`),_.length===0?gn:_;case Be.WEEK:return mn;case Be.MONTH:return yn}else switch(i.value){case Be.DAY:return gn;case Be.WEEK:return mn;case Be.MONTH:return yn}return[]},c=m=>{let y=[];if(e.dataType&&e.checkList)if(e.checkList.length===1){let _=[];m.length>0&&m[0].data&&m[0].data.length>0&&(_=m[0].data.map(w=>w.value)),y.push({type:"bar",barWidth:8,itemStyle:{color:ra[e.dataType][e.checkList[0]],borderRadius:[20,20,0,0]},data:_.length===0?[0]:_})}else for(let _=0;_<e.checkList.length;_++){let w=[];if(m.length>0&&m[_]&&m[_].data&&m[_].data.length>0){for(let E=0;E<m[_].data.length;E++)w.push(m[_].data[E].value);y.push({type:"bar",barWidth:8,itemStyle:{color:ba[e.dataType][e.checkList[_]],borderRadius:[20,20,0,0]},data:w})}}return y},d=()=>({axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#AAB1BB",fontSize:14}}),h=()=>{let m=l(),y=!0;m.map(_=>{_.data.length>0&&(y=!1)}),t.value={grid:[{left:0,right:0,height:"60%",containLabel:!0}],dataZoom:[{show:!1,start:0,end:80,xAxisIndex:[0,1]},{type:"inside",start:0,end:80,xAxisIndex:[0,1]}],xAxis:{data:u(m),axisLabel:{color:"#4E4B66",margin:20,align:"center",fontSize:14},axisTick:{show:!1},axisLine:{show:!1},z:10},yAxis:{...d(),min:p(y),max:f(y)},series:c(m)}},p=m=>{if(e.dataType==="stress")return 0;if(e.dataType!=="temperature"&&!m)return s>0?null:0;switch(e.dataType){case"temperature":return 34.5;case"oxygen":return 50;case"blood-pressure":return 0;case"heart-rate":return 0;case"working":return 0;default:return null}},f=m=>{if(e.dataType==="stress")return 100;if(e.dataType!=="temperature"&&!m)return s>0?null:10;switch(e.dataType){case"temperature":return 37.5;case"oxygen":return 100;case"blood-pressure":return 200;case"heart-rate":return 200;case"working":return 2e3;default:return null}};let g=-1;const v=()=>{window.clearTimeout(g),g=window.setTimeout(()=>{h()},200)};return He(()=>a.value,()=>{v()}),He(()=>r.value,()=>{v()}),Ue(()=>{v(),console.log("Chart BAR")}),{chartRef:n,chartConfig:t}}});function N6(e,t,n,a,r,i){const o=U("v-chart");return k(),fe(o,{class:"chart",option:e.chartConfig},null,8,["option"])}const B6=Se(P6,[["render",N6]]);vn([ti,sc,ei,Lf]);const $6=be({name:"BarChartForSleep",components:{VChart:ni},props:{dataType:{type:String},selectPeriod:{type:Number},dateList:{type:Array},checkList:{type:Array},data:{type:Array,require:!0}},setup(e){const t=I(void 0),n=I(null),a=Ze(e,"dateList"),r=Ze(e,"checkList"),i=Ze(e,"selectPeriod"),o=Ze(e,"data");let s=0;const l=()=>{s=0;let g=Array.from(o.value);g.sort((v,m)=>v.date<m.date?1:v.date>m.date?-1:0);for(let v=0;v<g.length;v++){const m=g[v];if(m.data&&m.data.length>0)for(let y=0;y<m.data.length;y++){const _=m.data[y];s+=Number(_.value)||0}}return g},u=g=>{if(g&&g.length>0)switch(i.value){case Be.DAY:let v=[];for(let y=0;y<g.length;y++){let _=Q(g[y].date.toString().slice(0,8));_.add(1,"day"),v=v.concat(_.format("MMDD"))}let m=v.filter((y,_)=>v.indexOf(y)===_);return m=m.map(y=>`${y.slice(0,2)}.${y.slice(2,4)}`),m.length===0?gn:m;case Be.WEEK:return mn;case Be.MONTH:return yn}else switch(i.value){case Be.DAY:return gn;case Be.WEEK:return mn;case Be.MONTH:return yn}return[]},c=g=>{let v=[];switch(i.value){case Be.DAY:if(e.dataType&&e.checkList)for(let m=0;m<e.checkList.length;m++){let y=[];if(g.length>0&&g[m]&&g[m].data&&g[m].data.length>0){let _=g[m].data.filter(w=>w.totalSleepMin);for(let w=0;w<e.checkList.length;w++)m===w&&_.length>0?y.push(_[0].totalSleepMin):y.push("-")}else for(let _=0;_<e.checkList.length;_++)y.push("-");v.push({type:"bar",barWidth:8,itemStyle:{color:ba[e.dataType][e.checkList[v.length]],borderRadius:[20,20,0,0]},data:y})}break;case Be.WEEK:if(e.dataType&&e.checkList)for(let m=0;m<e.checkList.length;m++){let y=Q(a.value[e.checkList[m]]),_=[];if(g.length>0&&g[m]&&g[m].data&&g[m].data.length>0)for(let w=0;w<7;w++)g[0].data.filter(E=>E.period===y.format("YYYYMMDD")).length>0?_.push(g[0].data.filter(E=>E.period===y.format("YYYYMMDD"))[0].value):_.push("-"),y.add(1,"day");v.push({type:"bar",barWidth:8,itemStyle:{color:ba[e.dataType][e.checkList[v.length]],borderRadius:[20,20,0,0]},data:_})}break;case Be.MONTH:if(e.dataType&&e.checkList)for(let m=0;m<e.checkList.length;m++){let y=Q(a.value[e.checkList[m]]).date(1),_=[];if(g.length>0&&g[m]&&g[m].data&&g[m].data.length>0)for(let w=0;w<g[m].data.length;w++)g[0].data.filter(E=>E.period===y.format("YYYYMMDD")).length>0?_.push(g[0].data.filter(E=>E.period===y.format("YYYYMMDD"))[0].value):_.push("-"),y.add(1,"day");v.push({type:"bar",barWidth:8,itemStyle:{color:ba[e.dataType][e.checkList[v.length]],borderRadius:[20,20,0,0]},data:_})}break}return v},d=()=>({axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#AAB1BB",fontSize:14,formatter:function(g){const v=Math.floor(Number(g)/60).toString(),m=Math.floor(Number(g)%60).toString().padStart(2,"0");return`${v}:${m}`}}}),h=()=>{let g=l();g.map(v=>{v.data.length>0}),t.value={grid:[{left:0,right:0,height:"60%",containLabel:!0}],dataZoom:[{show:!1,start:0,end:100,xAxisIndex:[0,1]},{type:"inside",start:0,end:100,xAxisIndex:[0,1]}],xAxis:{data:u(g),axisLabel:{color:"#4E4B66",margin:20,align:"center",fontSize:14},axisTick:{show:!1},axisLine:{show:!1},z:10},yAxis:d(),series:c(g)}};let p=-1;const f=()=>{window.clearTimeout(p),p=window.setTimeout(()=>{h()},200)};return He(()=>i.value,()=>{f()}),He(()=>o.value,()=>{f()}),He(()=>a.value,()=>{f()}),He(()=>r.value,()=>{f()}),Ue(()=>{f(),console.log("Chart BAR(sleep)")}),{chartRef:n,chartConfig:t}}});function U6(e,t,n,a,r,i){const o=U("v-chart");return k(),fe(o,{class:"chart",option:e.chartConfig},null,8,["option"])}const G6=Se($6,[["render",U6]]);var jn=Ja.CMD;function ki(e,t){return Math.abs(e-t)<1e-5}function tp(e){var t=e.data,n=e.len(),a=[],r,i=0,o=0,s=0,l=0;function u(P,N){r&&r.length>2&&a.push(r),r=[P,N]}function c(P,N,B,K){ki(P,B)&&ki(N,K)||r.push(P,N,B,K,B,K)}function d(P,N,B,K,ce,$){var W=Math.abs(N-P),ae=Math.tan(W/4)*4/3,Z=N<P?-1:1,ne=Math.cos(P),Y=Math.sin(P),q=Math.cos(N),ie=Math.sin(N),te=ne*ce+B,X=Y*$+K,j=q*ce+B,J=ie*$+K,z=ce*ae*Z,F=$*ae*Z;r.push(te-z*Y,X+F*ne,j+z*ie,J-F*q,j,J)}for(var h,p,f,g,v=0;v<n;){var m=t[v++],y=v===1;switch(y&&(i=t[v],o=t[v+1],s=i,l=o,(m===jn.L||m===jn.C||m===jn.Q)&&(r=[s,l])),m){case jn.M:i=s=t[v++],o=l=t[v++],u(s,l);break;case jn.L:h=t[v++],p=t[v++],c(i,o,h,p),i=h,o=p;break;case jn.C:r.push(t[v++],t[v++],t[v++],t[v++],i=t[v++],o=t[v++]);break;case jn.Q:h=t[v++],p=t[v++],f=t[v++],g=t[v++],r.push(i+2/3*(h-i),o+2/3*(p-o),f+2/3*(h-f),g+2/3*(p-g),f,g),i=f,o=g;break;case jn.A:var _=t[v++],w=t[v++],E=t[v++],x=t[v++],S=t[v++],b=t[v++]+S;v+=1;var D=!t[v++];h=Math.cos(S)*E+_,p=Math.sin(S)*x+w,y?(s=h,l=p,u(s,l)):c(i,o,h,p),i=Math.cos(b)*E+_,o=Math.sin(b)*x+w;for(var T=(D?-1:1)*Math.PI/2,A=S;D?A>b:A<b;A+=T){var L=D?Math.max(A+T,b):Math.min(A+T,b);d(A,L,_,w,E,x)}break;case jn.R:s=i=t[v++],l=o=t[v++],h=s+t[v++],p=l+t[v++],u(h,l),c(h,l,h,p),c(h,p,s,p),c(s,p,s,l),c(s,l,h,l);break;case jn.Z:r&&c(i,o,s,l),i=s,o=l;break}}return r&&r.length>2&&a.push(r),a}function np(e,t,n,a,r,i,o,s,l,u){if(ki(e,n)&&ki(t,a)&&ki(r,o)&&ki(i,s)){l.push(o,s);return}var c=2/u,d=c*c,h=o-e,p=s-t,f=Math.sqrt(h*h+p*p);h/=f,p/=f;var g=n-e,v=a-t,m=r-o,y=i-s,_=g*g+v*v,w=m*m+y*y;if(_<d&&w<d){l.push(o,s);return}var E=h*g+p*v,x=-h*m-p*y,S=_-E*E,b=w-x*x;if(S<d&&E>=0&&b<d&&x>=0){l.push(o,s);return}var D=[],T=[];ja(e,n,r,o,.5,D),ja(t,a,i,s,.5,T),np(D[0],T[0],D[1],T[1],D[2],T[2],D[3],T[3],l,u),np(D[4],T[4],D[5],T[5],D[6],T[6],D[7],T[7],l,u)}function F6(e,t){var n=tp(e),a=[];t=t||1;for(var r=0;r<n.length;r++){var i=n[r],o=[],s=i[0],l=i[1];o.push(s,l);for(var u=2;u<i.length;){var c=i[u++],d=i[u++],h=i[u++],p=i[u++],f=i[u++],g=i[u++];np(s,l,c,d,h,p,f,g,o,t),s=f,l=g}a.push(o)}return a}function mx(e,t,n){var a=e[t],r=e[1-t],i=Math.abs(a/r),o=Math.ceil(Math.sqrt(i*n)),s=Math.floor(n/o);s===0&&(s=1,o=n);for(var l=[],u=0;u<o;u++)l.push(s);var c=o*s,d=n-c;if(d>0)for(var u=0;u<d;u++)l[u%o]+=1;return l}function j0(e,t,n){for(var a=e.r0,r=e.r,i=e.startAngle,o=e.endAngle,s=Math.abs(o-i),l=s*r,u=r-a,c=l>Math.abs(u),d=mx([l,u],c?0:1,t),h=(c?s:u)/d.length,p=0;p<d.length;p++)for(var f=(c?u:s)/d[p],g=0;g<d[p];g++){var v={};c?(v.startAngle=i+h*p,v.endAngle=i+h*(p+1),v.r0=a+f*g,v.r=a+f*(g+1)):(v.startAngle=i+f*g,v.endAngle=i+f*(g+1),v.r0=a+h*p,v.r=a+h*(p+1)),v.clockwise=e.clockwise,v.cx=e.cx,v.cy=e.cy,n.push(v)}}function H6(e,t,n){for(var a=e.width,r=e.height,i=a>r,o=mx([a,r],i?0:1,t),s=i?"width":"height",l=i?"height":"width",u=i?"x":"y",c=i?"y":"x",d=e[s]/o.length,h=0;h<o.length;h++)for(var p=e[l]/o[h],f=0;f<o[h];f++){var g={};g[u]=h*d,g[c]=f*p,g[s]=d,g[l]=p,g.x+=e.x,g.y+=e.y,n.push(g)}}function J0(e,t,n,a){return e*a-n*t}function V6(e,t,n,a,r,i,o,s){var l=n-e,u=a-t,c=o-r,d=s-i,h=J0(c,d,l,u);if(Math.abs(h)<1e-6)return null;var p=e-r,f=t-i,g=J0(p,f,c,d)/h;return g<0||g>1?null:new at(g*l+e,g*u+t)}function Y6(e,t,n){var a=new at;at.sub(a,n,t),a.normalize();var r=new at;at.sub(r,e,t);var i=r.dot(a);return i}function wi(e,t){var n=e[e.length-1];n&&n[0]===t[0]&&n[1]===t[1]||e.push(t)}function z6(e,t,n){for(var a=e.length,r=[],i=0;i<a;i++){var o=e[i],s=e[(i+1)%a],l=V6(o[0],o[1],s[0],s[1],t.x,t.y,n.x,n.y);l&&r.push({projPt:Y6(l,t,n),pt:l,idx:i})}if(r.length<2)return[{points:e},{points:e}];r.sort(function(v,m){return v.projPt-m.projPt});var u=r[0],c=r[r.length-1];if(c.idx<u.idx){var d=u;u=c,c=d}for(var h=[u.pt.x,u.pt.y],p=[c.pt.x,c.pt.y],f=[h],g=[p],i=u.idx+1;i<=c.idx;i++)wi(f,e[i].slice());wi(f,p),wi(f,h);for(var i=c.idx+1;i<=u.idx+a;i++)wi(g,e[i%a].slice());return wi(g,h),wi(g,p),[{points:f},{points:g}]}function Q0(e){var t=e.points,n=[],a=[];U_(t,n,a);var r=new st(n[0],n[1],a[0]-n[0],a[1]-n[1]),i=r.width,o=r.height,s=r.x,l=r.y,u=new at,c=new at;return i>o?(u.x=c.x=s+i/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+i),z6(t,u,c)}function mu(e,t,n,a){if(n===1)a.push(t);else{var r=Math.floor(n/2),i=e(t);mu(e,i[0],r,a),mu(e,i[1],n-r,a)}return a}function W6(e,t){for(var n=[],a=0;a<t;a++)n.push(Ip(e));return n}function q6(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function Z6(e){for(var t=[],n=0;n<e.length;)t.push([e[n++],e[n++]]);return t}function K6(e,t){var n=[],a=e.shape,r;switch(e.type){case"rect":H6(a,t,n),r=St;break;case"sector":j0(a,t,n),r=Hr;break;case"circle":j0({r0:0,r:a.r,startAngle:0,endAngle:Math.PI*2,cx:a.cx,cy:a.cy},t,n),r=Hr;break;default:var i=e.getComputedTransform(),o=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,s=Re(F6(e.getUpdatedPathProxy(),o),function(m){return Z6(m)}),l=s.length;if(l===0)mu(Q0,{points:s[0]},t,n);else if(l===t)for(var u=0;u<l;u++)n.push({points:s[u]});else{var c=0,d=Re(s,function(m){var y=[],_=[];U_(m,y,_);var w=(_[1]-y[1])*(_[0]-y[0]);return c+=w,{poly:m,area:w}});d.sort(function(m,y){return y.area-m.area});for(var h=t,u=0;u<l;u++){var p=d[u];if(h<=0)break;var f=u===l-1?h:Math.ceil(p.area/c*t);f<0||(mu(Q0,{points:p.poly},f,n),h-=f)}}r=Ts;break}if(!r)return W6(e,t);for(var g=[],u=0;u<n.length;u++){var v=new r;v.setShape(n[u]),q6(e,v),g.push(v)}return g}function X6(e,t){var n=e.length,a=t.length;if(n===a)return[e,t];for(var r=[],i=[],o=n<a?e:t,s=Math.min(n,a),l=Math.abs(a-n)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,d=[o[0],o[1]],h=l,p=2;p<s;){var f=o[p-2],g=o[p-1],v=o[p++],m=o[p++],y=o[p++],_=o[p++],w=o[p++],E=o[p++];if(h<=0){d.push(v,m,y,_,w,E);continue}for(var x=Math.min(h,c-1)+1,S=1;S<=x;S++){var b=S/x;ja(f,v,y,w,b,r),ja(g,m,_,E,b,i),f=r[3],g=i[3],d.push(r[1],i[1],r[2],i[2],f,g),v=r[5],m=i[5],y=r[6],_=i[6]}h-=x-1}return o===e?[d,t]:[e,d]}function ey(e,t){for(var n=e.length,a=e[n-2],r=e[n-1],i=[],o=0;o<t.length;)i[o++]=a,i[o++]=r;return i}function j6(e,t){for(var n,a,r,i=[],o=[],s=0;s<Math.max(e.length,t.length);s++){var l=e[s],u=t[s],c=void 0,d=void 0;l?u?(n=X6(l,u),c=n[0],d=n[1],a=c,r=d):(d=ey(r||l,l),c=l):(c=ey(a||u,u),d=u),i.push(c),o.push(d)}return[i,o]}function ty(e){for(var t=0,n=0,a=0,r=e.length,i=0,o=r-2;i<r;o=i,i+=2){var s=e[o],l=e[o+1],u=e[i],c=e[i+1],d=s*c-u*l;t+=d,n+=(s+u)*d,a+=(l+c)*d}return t===0?[e[0]||0,e[1]||0]:[n/t/3,a/t/3,t]}function J6(e,t,n,a){for(var r=(e.length-2)/6,i=1/0,o=0,s=e.length,l=s-2,u=0;u<r;u++){for(var c=u*6,d=0,h=0;h<s;h+=2){var p=h===0?c:(c+h-2)%l+2,f=e[p]-n[0],g=e[p+1]-n[1],v=t[h]-a[0],m=t[h+1]-a[1],y=v-f,_=m-g;d+=y*y+_*_}d<i&&(i=d,o=u)}return o}function Q6(e){for(var t=[],n=e.length,a=0;a<n;a+=2)t[a]=e[n-a-2],t[a+1]=e[n-a-1];return t}function eV(e,t,n,a){for(var r=[],i,o=0;o<e.length;o++){var s=e[o],l=t[o],u=ty(s),c=ty(l);i==null&&(i=u[2]<0!=c[2]<0);var d=[],h=[],p=0,f=1/0,g=[],v=s.length;i&&(s=Q6(s));for(var m=J6(s,l,u,c)*6,y=v-2,_=0;_<y;_+=2){var w=(m+_)%y+2;d[_+2]=s[w]-u[0],d[_+3]=s[w+1]-u[1]}if(d[0]=s[m]-u[0],d[1]=s[m+1]-u[1],n>0)for(var E=a/n,x=-a/2;x<=a/2;x+=E){for(var S=Math.sin(x),b=Math.cos(x),D=0,_=0;_<s.length;_+=2){var T=d[_],A=d[_+1],L=l[_]-c[0],P=l[_+1]-c[1],N=L*b-P*S,B=L*S+P*b;g[_]=N,g[_+1]=B;var K=N-T,ce=B-A;D+=K*K+ce*ce}if(D<f){f=D,p=x;for(var $=0;$<g.length;$++)h[$]=g[$]}}else for(var W=0;W<v;W+=2)h[W]=l[W]-c[0],h[W+1]=l[W+1]-c[1];r.push({from:d,to:h,fromCp:u,toCp:c,rotation:-p})}return r}function yu(e){return e.__isCombineMorphing}var yx="__mOriginal_";function _u(e,t,n){var a=yx+t,r=e[a]||e[t];e[a]||(e[a]=e[t]);var i=n.replace,o=n.after,s=n.before;e[t]=function(){var l=arguments,u;return s&&s.apply(this,l),i?u=i.apply(this,l):u=r.apply(this,l),o&&o.apply(this,l),u}}function Xo(e,t){var n=yx+t;e[n]&&(e[t]=e[n],e[n]=null)}function ny(e,t){for(var n=0;n<e.length;n++)for(var a=e[n],r=0;r<a.length;){var i=a[r],o=a[r+1];a[r++]=t[0]*i+t[2]*o+t[4],a[r++]=t[1]*i+t[3]*o+t[5]}}function _x(e,t){var n=e.getUpdatedPathProxy(),a=t.getUpdatedPathProxy(),r=j6(tp(n),tp(a)),i=r[0],o=r[1],s=e.getComputedTransform(),l=t.getComputedTransform();function u(){this.transform=null}s&&ny(i,s),l&&ny(o,l),_u(t,"updateTransform",{replace:u}),t.transform=null;var c=eV(i,o,10,Math.PI),d=[];_u(t,"buildPath",{replace:function(h){for(var p=t.__morphT,f=1-p,g=[],v=0;v<c.length;v++){var m=c[v],y=m.from,_=m.to,w=m.rotation*p,E=m.fromCp,x=m.toCp,S=Math.sin(w),b=Math.cos(w);XR(g,E,x,p);for(var D=0;D<y.length;D+=2){var T=y[D],A=y[D+1],L=_[D],P=_[D+1],N=T*f+L*p,B=A*f+P*p;d[D]=N*b-B*S+g[0],d[D+1]=N*S+B*b+g[1]}var K=d[0],ce=d[1];h.moveTo(K,ce);for(var D=2;D<y.length;){var L=d[D++],P=d[D++],$=d[D++],W=d[D++],ae=d[D++],Z=d[D++];K===L&&ce===P&&$===ae&&W===Z?h.lineTo(ae,Z):h.bezierCurveTo(L,P,$,W,ae,Z),K=ae,ce=Z}}}})}function Pf(e,t,n){if(!e||!t)return t;var a=n.done,r=n.during;_x(e,t),t.__morphT=0;function i(){Xo(t,"buildPath"),Xo(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},Ke({during:function(o){t.dirtyShape(),r&&r(o)},done:function(){i(),a&&a()}},n)),t}function tV(e,t,n,a,r,i){var o=16;e=r===n?0:Math.round(32767*(e-n)/(r-n)),t=i===a?0:Math.round(32767*(t-a)/(i-a));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var c=0,d=0;(e&u)>0&&(c=1),(t&u)>0&&(d=1),s+=u*u*(3*c^d),d===0&&(c===1&&(e=u-1-e,t=u-1-t),l=e,e=t,t=l)}return s}function Cu(e){var t=1/0,n=1/0,a=-1/0,r=-1/0,i=Re(e,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),d=l.y+l.height/2+(u?u[5]:0);return t=Math.min(c,t),n=Math.min(d,n),a=Math.max(c,a),r=Math.max(d,r),[c,d]}),o=Re(i,function(s,l){return{cp:s,z:tV(s[0],s[1],t,n,a,r),path:e[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function Cx(e){return K6(e.path,e.count)}function ap(){return{fromIndividuals:[],toIndividuals:[],count:0}}function nV(e,t,n){var a=[];function r(E){for(var x=0;x<E.length;x++){var S=E[x];yu(S)?r(S.childrenRef()):S instanceof rt&&a.push(S)}}r(e);var i=a.length;if(!i)return ap();var o=n.dividePath||Cx,s=o({path:t,count:i});if(s.length!==i)return console.error("Invalid morphing: unmatched splitted path"),ap();a=Cu(a),s=Cu(s);for(var l=n.done,u=n.during,c=n.individualDelay,d=new ku,h=0;h<i;h++){var p=a[h],f=s[h];f.parent=t,f.copyTransform(d),c||_x(p,f)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function g(E){for(var x=0;x<s.length;x++)s[x].addSelfToZr(E)}_u(t,"addSelfToZr",{after:function(E){g(E)}}),_u(t,"removeSelfFromZr",{after:function(E){for(var x=0;x<s.length;x++)s[x].removeSelfFromZr(E)}});function v(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,Xo(t,"addSelfToZr"),Xo(t,"removeSelfFromZr")}var m=s.length;if(c)for(var y=m,_=function(){y--,y===0&&(v(),l&&l())},h=0;h<m;h++){var w=c?Ke({delay:(n.delay||0)+c(h,m,a[h],s[h]),done:_},n):n;Pf(a[h],s[h],w)}else t.__morphT=0,t.animateTo({__morphT:1},Ke({during:function(E){for(var x=0;x<m;x++){var S=s[x];S.__morphT=t.__morphT,S.dirtyShape()}u&&u(E)},done:function(){v();for(var E=0;E<e.length;E++)Xo(e[E],"updateTransform");l&&l()}},n));return t.__zr&&g(t.__zr),{fromIndividuals:a,toIndividuals:s,count:m}}function aV(e,t,n){var a=t.length,r=[],i=n.dividePath||Cx;function o(p){for(var f=0;f<p.length;f++){var g=p[f];yu(g)?o(g.childrenRef()):g instanceof rt&&r.push(g)}}if(yu(e)){o(e.childrenRef());var s=r.length;if(s<a)for(var l=0,u=s;u<a;u++)r.push(Ip(r[l++%s]));r.length=a}else{r=i({path:e,count:a});for(var c=e.getComputedTransform(),u=0;u<r.length;u++)r[u].setLocalTransform(c);if(r.length!==a)return console.error("Invalid morphing: unmatched splitted path"),ap()}r=Cu(r),t=Cu(t);for(var d=n.individualDelay,u=0;u<a;u++){var h=d?Ke({delay:(n.delay||0)+d(u,a,r[u],t[u])},n):n;Pf(r[u],t[u],h)}return{fromIndividuals:r,toIndividuals:t,count:t.length}}function ay(e){return Te(e[0])}function ry(e,t){for(var n=[],a=e.length,r=0;r<a;r++)n.push({one:e[r],many:[]});for(var r=0;r<t.length;r++){var i=t[r].length,o=void 0;for(o=0;o<i;o++)n[o%a].many.push(t[r][o])}for(var s=0,r=a-1;r>=0;r--)if(!n[r].many.length){var l=n[s].many;if(l.length<=1)if(s)s=0;else return n;var i=l.length,u=Math.ceil(i/2);n[r].many=l.slice(u,i),n[s].many=l.slice(0,u),s++}return n}var rV={clone:function(e){for(var t=[],n=1-Math.pow(1-e.path.style.opacity,1/e.count),a=0;a<e.count;a++){var r=Ip(e.path);r.setStyle("opacity",n),t.push(r)}return t},split:null};function Bd(e,t,n,a,r,i){if(!e.length||!t.length)return;var o=Uu("update",a,r);if(!(o&&o.duration>0))return;var s=a.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,c;ay(e)&&(u=e,c=t),ay(t)&&(u=t,c=e);function d(m,y,_,w,E){var x=m.many,S=m.one;if(x.length===1&&!E){var b=y?x[0]:S,D=y?S:x[0];if(yu(b))d({many:[b],one:D},!0,_,w,!0);else{var T=s?Ke({delay:s(_,w)},l):l;Pf(b,D,T),i(b,D,b,D,T)}}else for(var A=Ke({dividePath:rV[n],individualDelay:s&&function(ce,$,W,ae){return s(ce+_,w)}},l),L=y?nV(x,S,A):aV(S,x,A),P=L.fromIndividuals,N=L.toIndividuals,B=P.length,K=0;K<B;K++){var T=s?Ke({delay:s(K,B)},l):l;i(P[K],N[K],y?x[K]:m.one,y?m.one:x[K],T)}}for(var h=u?u===e:e.length>t.length,p=u?ry(c,u):ry(h?t:e,[h?e:t]),f=0,g=0;g<p.length;g++)f+=p[g].many.length;for(var v=0,g=0;g<p.length;g++)d(p[g],h,v,f),v+=p[g].many.length}function br(e){if(!e)return[];if(Te(e)){for(var t=[],n=0;n<e.length;n++)t.push(br(e[n]));return t}var a=[];return e.traverse(function(r){r instanceof rt&&!r.disableMorphing&&!r.invisible&&!r.ignore&&a.push(r)}),a}var xx=1e4,iV=At();function oV(e){for(var t=e.dimensions,n=0;n<t.length;n++){var a=e.getDimensionInfo(t[n]);if(a&&a.otherDims.itemGroupId===0)return t[n]}}function iy(e){var t=[];return R(e,function(n){var a=n.data;if(!(a.count()>xx))for(var r=a.getIndices(),i=oV(a),o=0;o<r.length;o++)t.push({dataGroupId:n.dataGroupId,data:a,dim:n.dim||i,divide:n.divide,dataIndex:o})}),t}function $d(e,t,n){e.traverse(function(a){a instanceof rt&&sa(a,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})})}function Ud(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function xi(e){e.stopAnimation(),e.isGroup&&e.traverse(function(t){t.stopAnimation()})}function sV(e,t,n){var a=Uu("update",n,t);a&&e.traverse(function(r){if(r instanceof ji){var i=$N(r);i&&r.animateFrom({style:i},a)}})}function lV(e,t){var n=e.length;if(n!==t.length)return!1;for(var a=0;a<n;a++){var r=e[a],i=t[a];if(r.data.getId(r.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function Ex(e,t,n){var a=iy(e),r=iy(t);function i(m,y,_,w,E){(_||m)&&y.animateFrom({style:_&&_!==m?_e(_e({},_.style),m.style):m.style},E)}function o(m){for(var y=0;y<m.length;y++)if(m[y].dim)return m[y].dim}var s=o(a),l=o(r),u=!1;function c(m,y){return function(_){var w=_.data,E=_.dataIndex;if(y)return w.getId(E);var x=_.dataGroupId,S=m?s||l:l||s,b=S&&w.getDimensionInfo(S),D=b&&b.ordinalMeta;if(b){var T=w.get(b.name,E);return D&&D.categories[T]||T+""}var A=w.getRawDataItem(E);return A&&A.groupId?A.groupId+"":x||w.getId(E)}}var d=lV(a,r),h={};if(!d)for(var p=0;p<r.length;p++){var f=r[p],g=f.data.getItemGraphicEl(f.dataIndex);g&&(h[g.id]=!0)}function v(m,y){var _=a[y],w=r[m],E=w.data.hostModel,x=_.data.getItemGraphicEl(_.dataIndex),S=w.data.getItemGraphicEl(w.dataIndex);if(x===S){S&&sV(S,w.dataIndex,E);return}x&&h[x.id]||S&&(xi(S),x?(xi(x),Ud(x),u=!0,Bd(br(x),br(S),w.divide,E,m,i)):$d(S,E,m))}new gs(a,r,c(!0,d),c(!1,d),null,"multiple").update(v).updateManyToOne(function(m,y){var _=r[m],w=_.data,E=w.hostModel,x=w.getItemGraphicEl(_.dataIndex),S=Ft(Re(y,function(b){return a[b].data.getItemGraphicEl(a[b].dataIndex)}),function(b){return b&&b!==x&&!h[b.id]});x&&(xi(x),S.length?(R(S,function(b){xi(b),Ud(b)}),u=!0,Bd(br(S),br(x),_.divide,E,m,i)):$d(x,E,_.dataIndex))}).updateOneToMany(function(m,y){var _=a[y],w=_.data.getItemGraphicEl(_.dataIndex);if(!(w&&h[w.id])){var E=Ft(Re(m,function(S){return r[S].data.getItemGraphicEl(r[S].dataIndex)}),function(S){return S&&S!==w}),x=r[m[0]].data.hostModel;E.length&&(R(E,function(S){return xi(S)}),w?(xi(w),Ud(w),u=!0,Bd(br(w),br(E),_.divide,x,m[0],i)):R(E,function(S){return $d(S,x,m[0])}))}}).updateManyToMany(function(m,y){new gs(y,m,function(_){return a[_].data.getId(a[_].dataIndex)},function(_){return r[_].data.getId(r[_].dataIndex)}).update(function(_,w){v(m[_],y[w])}).execute()}).execute(),u&&R(t,function(m){var y=m.data,_=y.hostModel,w=_&&n.getViewOfSeriesModel(_),E=Uu("update",_,0);w&&_.isAnimationEnabled()&&E&&E.duration>0&&w.group.traverse(function(x){x instanceof rt&&!x.animators.length&&x.animateFrom({style:{opacity:0}},E)})})}function oy(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function sy(e){return Te(e)?e.sort().join(","):e}function Fa(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function uV(e,t){var n=Ve(),a=Ve(),r=Ve();return R(e.oldSeries,function(i,o){var s=e.oldDataGroupIds[o],l=e.oldData[o],u=oy(i),c=sy(u);a.set(c,{dataGroupId:s,data:l}),Te(u)&&R(u,function(d){r.set(d,{key:c,dataGroupId:s,data:l})})}),R(t.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var o=i.get("dataGroupId"),s=i.getData(),l=oy(i),u=sy(l),c=a.get(u);if(c)n.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:Fa(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:Fa(s),data:s}]});else if(Te(l)){var d=[];R(l,function(f){var g=a.get(f);g.data&&d.push({dataGroupId:g.dataGroupId,divide:Fa(g.data),data:g.data})}),d.length&&n.set(u,{oldSeries:d,newSeries:[{dataGroupId:o,data:s,divide:Fa(s)}]})}else{var h=r.get(l);if(h){var p=n.get(h.key);p||(p={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:Fa(h.data)}],newSeries:[]},n.set(h.key,p)),p.newSeries.push({dataGroupId:o,data:s,divide:Fa(s)})}}}}),n}function ly(e,t){for(var n=0;n<e.length;n++){var a=t.seriesIndex!=null&&t.seriesIndex===e[n].seriesIndex||t.seriesId!=null&&t.seriesId===e[n].id;if(a)return n}}function cV(e,t,n,a){var r=[],i=[];R(Lt(e.from),function(o){var s=ly(t.oldSeries,o);s>=0&&r.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:Fa(t.oldData[s]),dim:o.dimension})}),R(Lt(e.to),function(o){var s=ly(n.updatedSeries,o);if(s>=0){var l=n.updatedSeries[s].getData();i.push({dataGroupId:t.oldDataGroupIds[s],data:l,divide:Fa(l),dim:o.dimension})}}),r.length>0&&i.length>0&&Ex(r,i,a)}function Nf(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,n,a){R(Lt(a.seriesTransition),function(r){R(Lt(r.to),function(i){for(var o=a.updatedSeries,s=0;s<o.length;s++)(i.seriesIndex!=null&&i.seriesIndex===o[s].seriesIndex||i.seriesId!=null&&i.seriesId===o[s].id)&&(o[s][$l]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(t,n,a){var r=iV(n);if(r.oldSeries&&a.updatedSeries&&a.optionChanged){var i=a.seriesTransition;if(i)R(Lt(i),function(p){cV(p,r,a,n)});else{var o=uV(r,a);R(o.keys(),function(p){var f=o.get(p);Ex(f.oldSeries,f.newSeries,n)})}R(a.updatedSeries,function(p){p[$l]&&(p[$l]=!1)})}for(var s=t.getSeries(),l=r.oldSeries=[],u=r.oldDataGroupIds=[],c=r.oldData=[],d=0;d<s.length;d++){var h=s[d].getData();h.count()<xx&&(l.push(s[d]),u.push(s[d].get("dataGroupId")),c.push(h))}})}vn([Af,ti,vf,ei,Nf]);const dV=be({name:"LineChart",components:{VChart:ni},props:{dataType:{type:String},selectPeriod:{type:Number},dateList:{type:Array},checkList:{type:Array},data:{type:Array,require:!0}},setup(e){const t=I(void 0),n=I(null),a=Ze(e,"dateList"),r=Ze(e,"checkList"),i=Ze(e,"selectPeriod"),o=Ze(e,"data");let s=0;const l=()=>{s=0;let v=Array.from(o.value);v.sort((m,y)=>m.date<y.date?1:m.date>y.date?-1:0);for(let m=0;m<v.length;m++){const y=v[m];if(y.data&&y.data.length>0)for(let _=0;_<y.data.length;_++){const w=y.data[_];s+=Number(w.value)||0}}return v},u=v=>{if(v&&v.length>0)switch(i.value){case Be.DAY:let m=[];for(let _=0;_<v.length;_++){let w=v[_].data.map(E=>E.period.substring(8,12));m=m.concat(w)}m=m.sort();let y=m.filter((_,w)=>m.indexOf(_)===w);return y=y.map(_=>`${_.slice(0,2)}`),y.length===0?gn:y;case Be.WEEK:return mn;case Be.MONTH:return yn}else switch(i.value){case Be.DAY:return gn;case Be.WEEK:return mn;case Be.MONTH:return yn}return[]},c=v=>{var y;let m=[];if(v.length>0&&e.dataType&&e.checkList)if(e.checkList.length===1)m.push({type:"line",itemStyle:{color:ra[e.dataType][e.checkList[0]],borderRadius:[20,20,0,0]},data:v[0].data.length===0?[0]:v[0].data});else if(i.value===Be.DAY){let _=[];v[0].data.map(w=>{_.indexOf(w.period)<0&&_.push(w.period.substring(8,12))}),_=_.sort();for(let w=0;w<((y=e.checkList)==null?void 0:y.length);w++){let E=[];v[w]&&v[w].data&&v[w].data.length>0&&(E=_.map(x=>{let S=v[w].data.filter(b=>b.period.substring(8,12)===x);return S.length>0?S[0].value:"-"})),m.push({type:"line",itemStyle:{color:ba[e.dataType][e.checkList[w]],borderRadius:[20,20,0,0]},data:E.length===0?[0]:E})}}else{let _=[];v.map((w,E)=>{_=[],w.data.map(S=>{if(i.value===Be.MONTH){const b=S.period.substring(4,8);_.indexOf(b)<0&&_.push(S.period.substring(4,8))}else if(i.value===Be.WEEK){const b=S.period.substring(4,8);_.indexOf(b)<0&&_.push(S.period.substring(4,8))}else{const b=S.period.substring(8,12);_.indexOf(b)<0&&_.push(S.period.substring(8,12))}}),_=_.sort();let x=[];e.dataType&&e.checkList&&(x=_.map(S=>{let b=v[E].data.filter(D=>i.value===Be.MONTH||i.value===Be.WEEK?D.period.substring(4,8)===S:D.period.substring(8,12)===S);return b.length>0?b[0].value:"-"}),m.push({type:"line",itemStyle:{color:ba[e.dataType][e.checkList[E]],borderRadius:[20,20,0,0]},data:x.length===0?[0]:x}))})}return m},d=()=>{let v=l(),m=!0;v.map(y=>{y.data.length>0&&(m=!1)}),t.value={grid:[{left:0,right:0,height:"60%",containLabel:!0}],dataZoom:[{show:!1,start:0,end:80,xAxisIndex:[0,1]},{type:"inside",start:0,end:80,xAxisIndex:[0,1]}],xAxis:{data:u(v),axisLabel:{color:"#4E4B66",margin:15,align:"center",fontSize:14},axisTick:{show:!1},axisLine:{show:!1},z:10},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#AAB1BB",fontSize:14},min:h(m),max:p(m)},series:c(v)}},h=v=>{if(e.dataType==="stress")return 0;if(e.dataType!=="temperature"&&!v)return s>0?null:0;switch(e.dataType){case"temperature":return 34.5;case"oxygen":return 50;case"blood-pressure":return 0;case"heart-rate":return 0;case"working":return 0;default:return null}},p=v=>{if(e.dataType==="stress")return 100;if(e.dataType!=="temperature"&&!v)return s>0?null:10;switch(e.dataType){case"temperature":return 37.5;case"oxygen":return 100;case"blood-pressure":return 200;case"heart-rate":return 200;case"working":return 3e3;default:return null}};let f=-1;const g=()=>{window.clearTimeout(f),f=window.setTimeout(()=>{d()},200)};return He(()=>a.value,()=>{g()}),He(()=>r.value,()=>{g()}),Ue(()=>{g(),console.log("Chart LINE")}),{chartRef:n,chartConfig:t}}});function hV(e,t,n,a,r,i){const o=U("v-chart");return k(),fe(o,{class:"chart",option:e.chartConfig,autoresize:"",key:new Date().getMilliseconds()},null,8,["option"])}const pV=Se(dV,[["render",hV]]);vn([ti,vf,ei,Nf]);const fV=be({name:"AreaChart",components:{VChart:ni},props:{dataType:{type:String},selectPeriod:{type:Number},dateList:{type:Array},checkList:{type:Array},data:{type:Array,require:!0}},setup(e){const t=I(void 0),n=I(null),a=Ze(e,"dateList"),r=Ze(e,"checkList"),i=Ze(e,"selectPeriod"),o=Ze(e,"data");let s=0;const l=()=>{s=0;let v=Array.from(o.value);v.sort((m,y)=>m.date<y.date?1:m.date>y.date?-1:0);for(let m=0;m<v.length;m++){const y=v[m];if(y.data&&y.data.length>0)for(let _=0;_<y.data.length;_++){const w=y.data[_];s+=Number(w.value)||0}}return v},u=v=>{if(v&&v.length>0)switch(i.value){case Be.DAY:let m=[];for(let _=0;_<v.length;_++){let w=v[_].data.map(E=>E.period.substring(8,12));m=m.concat(w)}let y=m.filter((_,w)=>m.indexOf(_)===w);return y=y.map(_=>`${_.slice(0,2)}`),y.length===0?gn:y;case Be.WEEK:return mn;case Be.MONTH:return yn}else switch(i.value){case Be.DAY:return gn;case Be.WEEK:return mn;case Be.MONTH:return yn}return[]},c=v=>{let m=[];if(e.dataType&&e.checkList&&e.checkList.length===1){let y=[];v.length>0&&v[0].data&&v[0].data.length>0&&(y=v[0].data.map(_=>_.value)),m.push({type:"line",areaStyle:{color:new Mp(0,1,0,0,[{offset:1,color:ra[e.dataType][e.checkList[0]]},{offset:0,color:"#FFFFFF"}])},itemStyle:{color:ra[e.dataType]},data:y.length===0?[0]:y})}return m},d=()=>{let v=l(),m=!0;v.map(y=>{y.data.length>0&&(m=!1)}),t.value={grid:[{left:0,right:0,height:"60%",containLabel:!0}],dataZoom:[{show:!1,start:0,end:80,xAxisIndex:[0,1]},{type:"inside",start:0,end:80,xAxisIndex:[0,1]}],xAxis:{data:u(v),axisLabel:{color:"#4E4B66",margin:15,align:"center",fontSize:14},axisTick:{show:!1},axisLine:{show:!1},z:10},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#AAB1BB",fontSize:14},min:h(m),max:p(m)},series:c(v)}},h=v=>{if(e.dataType!=="temperature"&&!v)return s>0?null:0;switch(e.dataType){case"temperature":return 34.5;case"oxygen":return 50;case"blood-pressure":return 0;case"heart-rate":return 0;case"stress":return 50;case"working":return 0;default:return null}},p=v=>{if(e.dataType!=="temperature"&&!v)return s>0?null:10;switch(e.dataType){case"temperature":return 37.5;case"oxygen":return 100;case"blood-pressure":return 200;case"heart-rate":return 200;case"stress":return 100;case"working":return 2e3;default:return null}};let f=-1;const g=()=>{window.clearTimeout(f),f=window.setTimeout(()=>{d()},200)};return He(()=>a.value,()=>{g()}),He(()=>r.value,()=>{g()}),Ue(()=>{g(),console.log("Chart AREA")}),{chartRef:n,chartConfig:t}}});function vV(e,t,n,a,r,i){const o=U("v-chart");return k(),fe(o,{class:"chart",option:e.chartConfig,autoresize:""},null,8,["option"])}const gV=Se(fV,[["render",vV]]);vn([ti,sc,ei]);const mV=be({name:"WaterfallChart",components:{VChart:ni},props:{dataType:{type:String},selectPeriod:{type:Number},dateList:{type:Array},checkList:{type:Array},data:{type:Array,require:!0}},setup(e){const t=I(void 0),n=I(null),a=Ze(e,"dateList"),r=Ze(e,"checkList"),i=Ze(e,"selectPeriod"),o=Ze(e,"data");let s=0;const l=()=>{s=0;let v=Array.from(o.value);v.sort((m,y)=>m.date<y.date?1:m.date>y.date?-1:0);for(let m=0;m<v.length;m++){const y=v[m];if(y.data&&y.data.length>0)for(let _=0;_<y.data.length;_++){const w=y.data[_];s+=Number(w.valueHigh||w.value)||0}}return v},u=v=>{if(v&&v.length>0)switch(i.value){case Be.DAY:let m=[];for(let _=0;_<v.length;_++){let w=v[_].data.map(E=>E.period.substring(8,12));m=m.concat(w)}let y=m.filter((_,w)=>m.indexOf(_)===w);return y=y.map(_=>`${_.slice(0,2)}`),y.length===0?gn:y;case Be.WEEK:return mn;case Be.MONTH:return yn}else switch(i.value){case Be.DAY:return gn;case Be.WEEK:return mn;case Be.MONTH:return yn}return[]},c=v=>{let m=[];if(e.dataType&&e.checkList){let y=[],_=[],w=[];v.length>0&&v[0].data&&v[0].data.length>0&&(y=v[0].data.map(E=>E.valueLow),_=v[0].data.map(E=>E.valueHigh),w=v[0].data.map(E=>E.valueHigh-E.valueLow)),m.push({name:"line",type:"line",smooth:!0,showAllSymbol:!0,symbol:"emptyCircle",symbolSize:6,lineStyle:{width:0},itemStyle:{color:ra[e.dataType][e.checkList[0]]},data:y},{name:"line",type:"line",smooth:!0,showAllSymbol:!0,symbol:"emptyCircle",symbolSize:6,lineStyle:{width:0},itemStyle:{color:ra[e.dataType][e.checkList[0]]},data:_},{name:"low",type:"bar",stack:"Total",barWidth:2,itemStyle:{borderColor:"transparent",color:"transparent"},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:y},{name:"high",type:"bar",stack:"Total",barWidth:2,itemStyle:{color:ra[e.dataType][e.checkList[0]]},data:w})}return m},d=()=>{let v=l(),m=!0;v.map(y=>{y.data.length>0&&(m=!1)}),t.value={grid:[{left:0,right:0,height:"60%",containLabel:!0}],dataZoom:[{type:"slider",show:!1,disabled:!0},{type:"inside",show:!1,disabled:!0}],xAxis:{data:u(v),axisLabel:{color:"#4E4B66",margin:15,align:"left",fontSize:14},axisTick:{show:!1},axisLine:{show:!1},z:10},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#AAB1BB",fontSize:14},min:h(m),max:p(m)},series:c(v)}},h=v=>{if(e.dataType!=="temperature"&&!v)return s>0?null:0;switch(e.dataType){case"temperature":return 34.5;case"oxygen":return 50;case"blood-pressure":return 0;case"heart-rate":return 0;case"stress":return 50;case"working":return 0;default:return null}},p=v=>{if(e.dataType!=="temperature"&&!v)return s>0?null:10;switch(e.dataType){case"temperature":return 37.5;case"oxygen":return 100;case"blood-pressure":return 200;case"heart-rate":return 200;case"stress":return 100;case"working":return 2e3;default:return null}};let f=-1;const g=()=>{window.clearTimeout(f),f=window.setTimeout(()=>{d()},200)};return He(()=>a.value,()=>{g()}),He(()=>r.value,()=>{g()}),Ue(()=>{g(),console.log("Chart WATERFALL")}),{chartRef:n,chartConfig:t}}});function yV(e,t,n,a,r,i){const o=U("v-chart");return k(),fe(o,{class:"chart",option:e.chartConfig,ref:"chartRef"},null,8,["option"])}const _V=Se(mV,[["render",yV]]);vn([KH,Af,WH,ti,Lf,sc,ei]);const CV=be({name:"BarAreaChart",components:{VChart:ni},props:{dataType:{type:String},selectPeriod:{type:Number},dateList:{type:Array},checkList:{type:Array},data:{type:Array,require:!0}},setup(e){const t=I(void 0),n=I(null),a=Ze(e,"dateList"),r=Ze(e,"checkList"),i=Ze(e,"selectPeriod"),o=Ze(e,"data");let s=0;const l=()=>{s=0;let g=Array.from(o.value);g.sort((v,m)=>v.date<m.date?1:v.date>m.date?-1:0);for(let v=0;v<g.length;v++){const m=g[v];if(m.data&&m.data.length>0)for(let y=0;y<m.data.length;y++){const _=m.data[y];s+=Number(_.value)||0}}return g},u=g=>{if(g&&g.length>0)switch(i.value){case Be.DAY:let v=[];for(let m=0;m<g.length;m++){let y=g[m].data.map(_=>_.period.substring(8,12));v=v.concat(y)}return v=v.map(m=>`${m.slice(0,2)}:${m.slice(2,4)}`),v.length===0?gn:v;case Be.WEEK:return mn;case Be.MONTH:return yn}else switch(i.value){case Be.DAY:return gn;case Be.WEEK:return mn;case Be.MONTH:return yn}return[]},c=g=>{let v;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(g))return v=g.substring(1).split(""),v.length==3&&(v=[v[0],v[0],v[1],v[1],v[2],v[2]]),v="0x"+v.join(""),"rgba("+[Number(v)>>16&255,Number(v)>>8&255,Number(v)&255].join(",")+", 0.5)";throw new Error("Bad Hex")},d=g=>{let v=[];if(e.dataType&&e.checkList&&e.checkList.length===1){let m=[],y=[],_=[],w=[];if(g.length>0&&g[0].data&&g[0].data.length>0){let E=g[0].data;m=E.map(x=>x.value===-2?1:0),y=E.map(x=>x.value===-1?1:0),w=E.map(x=>x.value===0?1:0),_=E.map(x=>{if(x.value===0)return 0;if(x.value===-1)return 1;if(x.value===-2)return 2})}v.push({type:"bar",stack:"sleep",barWidth:"100%",itemStyle:{color:"transparent"},data:_.length===0?[0]:_},{type:"bar",stack:"sleep",barWidth:"100%",itemStyle:{color:ra[e.dataType][e.checkList[0]]},data:w.length===0?[0]:w},{type:"bar",stack:"sleep",barWidth:"100%",itemStyle:{color:c(ra[e.dataType][e.checkList[0]])},data:y.length===0?[0]:y},{type:"bar",stack:"sleep",barWidth:"100%",itemStyle:{color:ra[e.dataType][e.checkList[0]]},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:m.length===0?[0]:m})}return v},h=()=>{let g=l();g.map(v=>{v.data.length>0}),t.value={grid:[{left:0,right:0,height:"60%",containLabel:!0}],dataZoom:[{show:!1,start:0,end:80,xAxisIndex:[0,1]},{type:"inside",start:0,end:80,xAxisIndex:[0,1]}],xAxis:{data:u(g),axisLabel:{color:"#4E4B66",margin:15,align:"center",fontSize:14},axisTick:{show:!1},axisLine:{show:!1},z:10,splitLine:{show:!1},splitArea:{show:!1}},yAxis:{type:"value",splitLine:{show:!0},axisLabel:{fontSize:14,color:"#AAB1BB",formatter:function(v){if(v==.5)return"깊은잠";if(v==1.5)return"얕은잠";if(v==2.5)return"기상"}},min:0,max:3},series:d(g)}};let p=-1;const f=()=>{window.clearTimeout(p),p=window.setTimeout(()=>{h()},200)};return He(()=>a.value,()=>{f()}),He(()=>r.value,()=>{f()}),Ue(()=>{f(),console.log("Chart BAR_AREA")}),{chartRef:n,chartConfig:t}}});function wV(e,t,n,a,r,i){const o=U("v-chart");return k(),fe(o,{class:"chart",option:e.chartConfig,autoresize:""},null,8,["option"])}const xV=Se(CV,[["render",wV]]);vn([Af,ti,vf,ei,Nf]);const EV=be({name:"LineChartTwoLine",components:{VChart:ni},props:{dataType:{type:String},selectPeriod:{type:Number},dateList:{type:Array},checkList:{type:Array},data:{type:Array,require:!0}},setup(e){const t=I(void 0),n=I(null),a=Ze(e,"dateList"),r=Ze(e,"checkList"),i=Ze(e,"selectPeriod"),o=Ze(e,"data");let s=0;const l=()=>{s=0;let f=Array.from(o.value);f.sort((g,v)=>g.date<v.date?1:g.date>v.date?-1:0);for(let g=0;g<f.length;g++){const v=f[g];if(v.data&&v.data.length>0)for(let m=0;m<v.data.length;m++){const y=v.data[m];s+=Number(y.valueHigh||y.value)||0}}return f},u=f=>{if(f&&f.length>0)switch(i.value){case Be.DAY:let g=[];for(let m=0;m<f.length;m++){let y=f[m].data.map(_=>_.period.substring(8,12));g=g.concat(y)}let v=g.filter((m,y)=>g.indexOf(m)===y);return v=v.map(m=>`${m.slice(0,2)}`),v.length===0?gn:v;case Be.WEEK:return mn;case Be.MONTH:return yn}else switch(i.value){case Be.DAY:return gn;case Be.WEEK:return mn;case Be.MONTH:return yn}return[]},c=f=>{var v;let g=[];if(f.length>0&&e.dataType&&e.checkList)for(let m=0;m<((v=e.checkList)==null?void 0:v.length);m++){let y=[],_=[];f[m]&&f[m].data&&f[m].data.length>0&&(y=f[m].data.map(w=>w.valueLow),_=f[m].data.map(w=>w.valueHigh)),g.push({type:"line",itemStyle:{color:ba[e.dataType][e.checkList[m]],borderRadius:[20,20,0,0]},data:y.length===0?[0]:y}),g.push({type:"line",itemStyle:{color:ba[e.dataType][e.checkList[m]],borderRadius:[20,20,0,0]},data:_.length===0?[0]:_})}return g},d=()=>{let f=l();f.map(g=>{g.data.length>0}),t.value={grid:[{left:0,right:0,height:"60%",containLabel:!0}],dataZoom:[{show:!1,start:0,end:80,xAxisIndex:[0,1]},{type:"inside",start:0,end:80,xAxisIndex:[0,1]}],xAxis:{data:u(f),axisLabel:{color:"#4E4B66",margin:15,align:"center",fontSize:14},axisTick:{show:!1},axisLine:{show:!1},z:10},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#AAB1BB",fontSize:14},min:s>0?null:0,max:s>0?null:10},series:c(f)}};let h=-1;const p=()=>{window.clearTimeout(h),h=window.setTimeout(()=>{d()},200)};return He(()=>a.value,()=>{p()}),He(()=>r.value,()=>{p()}),Ue(()=>{p(),console.log("Chart TWO_LINE")}),{chartRef:n,chartConfig:t}}});function bV(e,t,n,a,r,i){const o=U("v-chart");return k(),fe(o,{class:"chart",option:e.chartConfig,autoresize:"",key:new Date().getMilliseconds()},null,8,["option"])}const SV=Se(EV,[["render",bV]]);var Be=(e=>(e[e.DAY=0]="DAY",e[e.WEEK=1]="WEEK",e[e.MONTH=2]="MONTH",e))(Be||{}),bx=(e=>(e.BAR="bar",e.BARSLEEP="bar-sleep",e.LINE="line",e.TWOLINE="line2",e.AREA="area",e.WATERFALL="waterfall",e.BARAREA="bar-area",e))(bx||{});const ra={working:["#1882FF","#9519E1","#00ADD2","#E0BC00"],"heart-rate":["#522ED2","#9519E1","#00ADD2","#E0BC00"],temperature:["#01BCAD","#9519E1","#00ADD2","#E0BC00"],"blood-pressure":["#EB2323","#9519E1","#00ADD2","#E0BC00"],sleep:["#FFA900","#9519E1","#00ADD2","#E0BC00"],oxygen:["#8AAC00","#9519E1","#00ADD2","#E0BC00"],stress:["#474747","#9519E1","#00ADD2","#E0BC00"]},ba={working:["#F43D7F","#9519E1","#00ADD2","#E0BC00"],"heart-rate":["#F43D7F","#9519E1","#00ADD2","#E0BC00"],temperature:["#F43D7F","#9519E1","#00ADD2","#E0BC00"],"blood-pressure":["#F43D7F","#9519E1","#00ADD2","#E0BC00"],sleep:["#F43D7F","#9519E1","#00ADD2","#E0BC00"],oxygen:["#F43D7F","#9519E1","#00ADD2","#E0BC00"],stress:["#F43D7F","#9519E1","#00ADD2","#E0BC00"]},DV={name:"ChartView",components:{LineChartTwoLine:SV,BarAreaChart:xV,WaterfallChart:_V,AreaChart:gV,LineChart:pV,BarChart:B6,BarChartForSleep:G6,KpDatePicker:qy,KpButton:yt},props:{dataType:{type:String}},setup(e){const t=Vt(),n=ze(),a=I(0),r=ke(()=>e.dataType),i=I(new Date),o=I([]),s=I([0]),l=I(""),u=I(""),c=I(""),d=[{type:0,label:"일"},{type:1,label:"주"},{type:2,label:"월"}],h=I([]),p=I(),f=I({working:"0",distance:"0",kcal:"0"}),g=I({avg:"0",min:"0",max:"0"}),v=I({avg:"0",min:"0",max:"0"}),m=I({avg:"0",min:"0",max:"0",list:[]}),y=I({avg:"0",min:"0",max:"0"}),_=I({minAvg:0,maxAvg:0,list:[]}),w=I({totalSleepMin:0,deepSleepMin:0,lightSleepMin:0,awakeMin:0}),E=I(!1),x=Z=>{a.value=Z,s.value=[0],b(i.value.toString())},S=Z=>{let ne=new Date(Z),Y=ne.getDay(),q=ne.getDate()-Y+(Y==0?-6:1);return ne.setDate(q),ne.setDate(ne.getDate()-1),new Date(ne)},b=Z=>{i.value=new Date(Z);let ne=[];switch(a.value){case 0:for(let Y=0;Y<4;Y++){let q=new Date(Z);q.setDate(i.value.getDate()-Y),ne.push(q)}o.value=ne,l.value="MM.DD";break;case 1:for(let Y=0;Y<4;Y++){let q=new Date(S(Z));q.setDate(q.getDate()-Y*7),ne.push(q)}o.value=ne,l.value="MM.DD";break;case 2:for(let Y=0;Y<4;Y++){let q=new Date(Z);q.setMonth(i.value.getMonth()-Y),ne.push(q)}o.value=ne,l.value="YYYY년 MM월";break}lt(()=>{T()})},D=(Z,ne)=>{var q,ie;let Y=Array.from(s.value);(q=Z.target)!=null&&q.checked?Y.indexOf(ne)<0&&Y.push(ne):Y.length>1?Y.splice(Y.indexOf(ne),1):(ie=Z.target)==null||ie.click(),s.value=Y,lt(()=>{T()})},T=()=>{switch(r.value){case"working":L(),s.value.length===1?u.value="bar":u.value="line";break;case"heart-rate":N(),s.value.length===1?(u.value="area",(a.value===1||a.value===2)&&(u.value="bar")):u.value="line";break;case"temperature":B(),s.value.length===1?(u.value="area",(a.value===1||a.value===2)&&(u.value="bar")):u.value="line";break;case"blood-pressure":P(),s.value.length===1?u.value="waterfall":u.value="line2";break;case"sleep":K(),s.value.length===1?(u.value="bar-area",(a.value===1||a.value===2)&&(u.value="bar-sleep")):(u.value="bar-sleep",(a.value===1||a.value===2)&&(u.value="line"));break;case"oxygen":ce(),s.value.length===1?(u.value="line",(a.value===1||a.value===2)&&(u.value="bar")):u.value="line";break;case"stress":$(),s.value.length===1?(u.value="line",(a.value===1||a.value===2)&&(u.value="bar")):u.value="line";break}},A=(Z,ne)=>{var q,ie,te,X,j,J,z,F;let Y={userIdx:H().userIdx,startDt:1e11,endDt:999999999999};if(H().userType===De.USER?Y.userIdx=(ie=(q=G().getCurrentGroup())==null?void 0:q.creatorInfo)==null?void 0:ie.userIdx:H().userType===De.MANAGER?Y.userIdx=(X=(te=G().getGroup(t.query.group))==null?void 0:te.creatorInfo)==null?void 0:X.userIdx:H().userType===De.USER_DEVICE&&Y.userIdx!==((J=(j=G().getCurrentGroup())==null?void 0:j.creatorInfo)==null?void 0:J.userIdx)&&(Y.userIdx=(F=(z=G().getCurrentGroup())==null?void 0:z.creatorInfo)==null?void 0:F.userIdx),a.value===0)Y.startDt=Number(Q(o.value[s.value[Z]]).format("YYYYMMDD0000")),Y.endDt=Number(Q(o.value[s.value[Z]]).format("YYYYMMDD9999")),ne&&(Y.startDt=Number(Q(o.value[s.value[Z]]).subtract(1,"day").format("YYYYMMDD1800")),Y.endDt=Number(Q(o.value[s.value[Z]]).format("YYYYMMDD1200")));else if(a.value===1){let V=new Date(o.value[s.value[Z]]);V.setDate(V.getDate()+6),Y.startDt=Number(Q(o.value[s.value[Z]]).format("YYYYMMDD0000")),Y.endDt=Number(Q(V).format("YYYYMMDD9999")),Y.isGroup=!0}else Y.startDt=Number(Q(o.value[s.value[Z]]).format("YYYYMM000000")),Y.endDt=Number(Q(o.value[s.value[Z]]).format("YYYYMM999999")),Y.isGroup=!0;return Y},L=()=>{h.value=[];const Z=[],ne=()=>{let Y=0,q=0,ie=0;if(a.value===0&&s.value.length===1)Z.map(te=>{te.data.map(X=>{q=Ot(X.distance)>q?Ot(X.distance):q,ie=Ot(X.calorie)>ie?Ot(X.calorie):ie,Y=Ot(X.totalStepCount)>Y?Ot(X.totalStepCount):Y})}),h.value=Z,f.value={working:Ae(Y),distance:Ae(q),kcal:Ae(ie)};else{let te=0;a.value===0?(Z.map(X=>{X.data.some(j=>{if(j.distance&&j.calorie&&j.totalStepCount)return q+=Ot(j.distance),ie+=Ot(j.calorie),Y+=Ot(j.totalStepCount),te++,!0})}),h.value=Z):(Z.map(X=>{X.data.map(j=>{q+=Ot(j.distance),ie+=Ot(j.calorie),Y+=Ot(j.totalStepCount),te++})}),h.value=Z),a.value===0?(q=q/s.value.length,ie=ie/s.value.length,Y=Y/s.value.length):(q=q/te,ie=ie/te,Y=Y/te),f.value={working:Ae(Y),distance:Ae(q),kcal:Ae(ie)}}};for(let Y=0;Y<s.value.length;Y++){let q=A(Y);xe(Ee.API_URL,n).post("/api/1/health/getActivity",q).then(ie=>{if(ie.data.resultCode===0){let te=ie.data.data,X={date:"",data:[]};if(X.date=q.startDt,a.value===0){const j=Q(q.startDt,"YYYYMMDDHHmm");for(let J=0;J<24;J++){let z=j.format("YYYYMMDDHH00"),F=te.filter(V=>Q(V.period,"YYYYMMDDHHmm").format("YYYYMMDDHH00")===z);if(F.length>0)X.data.push(F[0]);else{let V={calorie:"0",distance:"0",period:z,userIdx:q.userIdx,value:"0"};X.data.push(V)}j.add(1,"hour")}Z.push(X)}else if(a.value===1){const j=Q((""+q.startDt).substring(0,8)),z=Q((""+q.endDt).substring(0,8)).diff(j,"days");for(let F=0;F<=z;F++){let V=j.format("YYYYMMDD"),ue=te.filter(de=>de.period===V);if(ue.length>0)X.data.push(ue[0]);else{let de={calorie:"0",distance:"0",period:V,userIdx:q.userIdx,value:"0"};X.data.push(de)}j.add(1,"day")}Z.push(X)}else{let j=new Date(o.value[s.value[Y]]);const J=Q(`${j.getFullYear()}/${j.getMonth()+1}/1`,"YYYY/M/D"),F=J.clone().add(1,"month").add(-1,"day").diff(J,"days");for(let V=0;V<=F;V++){let ue=J.format("YYYYMMDD"),de=te.filter(Ce=>Ce.period===ue);if(de.length>0)X.data.push(de[0]);else{let Ce={calorie:"0",distance:"0",period:ue,userIdx:q.userIdx,value:"0"};X.data.push(Ce)}J.add(1,"day")}Z.push(X)}ne()}})}},P=()=>{h.value=[];const Z=[],ne=()=>{let Y=0,q=0,ie=0,te=[];Z.map(X=>{X.data.map(j=>{if(j.valueLow!=="-"&&j.valueHigh!=="-"){ie++;let J=Ot(j.valueLow),z=Ot(j.valueHigh);Y+=J,q+=z,Z.length===1&&te.filter(F=>F.time===`${j.period.substring(8,10)}:${j.period.substring(10,12)}`).length===0&&te.push({time:`${j.period.substring(8,10)}:${j.period.substring(10,12)}`,min:`${Ae(J)} mmHg`,max:`${Ae(z)} mmHg`})}})}),ie<1?(Y=0,q=0):(Y=Number((Y/ie).toFixed(0)),q=Number((q/ie).toFixed(0))),h.value=Z,_.value={minAvg:Ae(Y),maxAvg:Ae(q),list:te}};for(let Y=0;Y<s.value.length;Y++){let q=A(Y);xe(Ee.API_URL,n).post("/api/1/health/getBloodPressure",q).then(ie=>{if(ie.data.resultCode===0){let te=ie.data.data,X={date:"",data:[]};if(X.date=q.startDt,Array.from(h.value),a.value===0){const j=Q(q.startDt,"YYYYMMDDHHmm");for(let J=0;J<24;J++){let z=j.format("YYYYMMDDHH00"),F=te.filter(V=>Q(V.period,"YYYYMMDDHHmm").format("YYYYMMDDHH00")===z);if(F.length>0)X.data.push(F[0]);else{let V={period:z,userIdx:q.userIdx,valueHigh:"-",valueLow:"-"};X.data.push(V)}j.add(1,"hour")}Z.push(X)}else if(a.value===1){const j=Q((""+q.startDt).substring(0,8)),z=Q((""+q.endDt).substring(0,8)).diff(j,"days");for(let F=0;F<=z;F++){let V=j.format("YYYYMMDD"),ue=te.filter(de=>de.period===V);if(ue.length>0)X.data.push(ue[0]);else{let de={period:V,userIdx:q.userIdx,valueHigh:"-",valueLow:"-"};X.data.push(de)}j.add(1,"day")}Z.push(X)}else{let j=new Date(o.value[s.value[Y]]);const J=Q(`${j.getFullYear()}/${j.getMonth()+1}/1`,"YYYY/M/D"),F=J.clone().add(1,"month").add(-1,"day").diff(J,"days");for(let V=0;V<=F;V++){let ue=J.format("YYYYMMDD"),de=te.filter(Ce=>Ce.period===ue);if(de.length>0)X.data.push(de[0]);else{let Ce={period:ue,userIdx:q.userIdx,valueHigh:"-",valueLow:"-"};X.data.push(Ce)}J.add(1,"day")}Z.push(X)}ne()}})}},N=()=>{h.value=[];const Z=[],ne=()=>{let Y=0,q=1e3,ie=0,te=0;Z.map(X=>{X.data.map(j=>{if(j.value!=="-"){te++;let J=Ot(j.value);Y+=J,q=J<q?J:q,ie=J>ie?J:ie}})}),q===1e3&&(q=0),te<1?(Y=0,q=0):Y=Ot((Y/te).toFixed(0)),h.value=Z,g.value={avg:Ae(Y),min:Ae(q),max:Ae(ie)}};for(let Y=0;Y<s.value.length;Y++){let q=A(Y);xe(Ee.API_URL,n).post("/api/1/health/getHeartRate",q).then(ie=>{if(ie.data.resultCode===0){let te=ie.data.data,X={date:"",data:[]};if(X.date=q.startDt,Array.from(h.value),a.value===0){const j=Q(q.startDt,"YYYYMMDDHHmm");for(let J=0;J<24;J++){let z=j.format("YYYYMMDDHH00"),F=te.filter(V=>Q(V.period,"YYYYMMDDHHmm").format("YYYYMMDDHH00")===z);if(F.length>0)X.data.push(F[0]);else{let V={period:z,userIdx:q.userIdx,value:"-"};X.data.push(V)}j.add(1,"hour")}Z.push(X)}else if(a.value===1){const j=Q((""+q.startDt).substring(0,8)),z=Q((""+q.endDt).substring(0,8)).diff(j,"days");for(let F=0;F<=z;F++){let V=j.format("YYYYMMDD"),ue=te.filter(de=>de.period===V);if(ue.length>0)X.data.push(ue[0]);else{let de={period:V,userIdx:q.userIdx,value:"-"};X.data.push(de)}j.add(1,"day")}Z.push(X)}else{let j=new Date(o.value[s.value[Y]]);const J=Q(`${j.getFullYear()}/${j.getMonth()+1}/1`,"YYYY/M/D"),F=J.clone().add(1,"month").add(-1,"day").diff(J,"days");for(let V=0;V<=F;V++){let ue=J.format("YYYYMMDD"),de=te.filter(Ce=>Ce.period===ue);if(de.length>0)X.data.push(de[0]);else{let Ce={period:ue,userIdx:q.userIdx,value:"-"};X.data.push(Ce)}J.add(1,"day")}Z.push(X)}ne()}})}},B=()=>{h.value=[];const Z=[],ne=()=>{let Y=0,q=1e3,ie=0,te=0;Z.map(X=>{X.data.map(j=>{if(j.value!=="-"){te++;let J=Ot(j.value);Y+=J,q=J<q?J:q,ie=J>ie?J:ie}})}),te<1?(Y=0,q=0):Y=Number((Y/te).toFixed(0)),q===1e3&&(q=0),h.value=Z,v.value={avg:Ae(Y),min:Ae(q),max:Ae(ie)}};for(let Y=0;Y<s.value.length;Y++){let q=A(Y);xe(Ee.API_URL,n).post("/api/1/health/getTemperature",q).then(ie=>{if(ie.data.resultCode===0){let te=ie.data.data,X={date:"",data:[]};if(X.date=q.startDt,a.value===0){const j=Q(q.startDt,"YYYYMMDDHHmm");for(let J=0;J<24;J++){let z=j.format("YYYYMMDDHH00"),F=te.filter(V=>Q(V.period,"YYYYMMDDHHmm").format("YYYYMMDDHH00")===z);if(F.length>0)X.data.push(F[0]);else{let V={period:z,userIdx:q.userIdx,value:"-"};X.data.push(V)}j.add(1,"hour")}Z.push(X)}else if(a.value===1){const j=Q((""+q.startDt).substring(0,8)),z=Q((""+q.endDt).substring(0,8)).diff(j,"days");for(let F=0;F<=z;F++){let V=j.format("YYYYMMDD"),ue=te.filter(de=>de.period===V);if(ue.length>0)X.data.push(ue[0]);else{let de={period:V,userIdx:q.userIdx,value:"-"};X.data.push(de)}j.add(1,"day")}Z.push(X)}else{let j=new Date(o.value[s.value[Y]]);const J=Q(`${j.getFullYear()}/${j.getMonth()+1}/1`,"YYYY/M/D"),F=J.clone().add(1,"month").add(-1,"day").diff(J,"days");for(let V=0;V<=F;V++){let ue=J.format("YYYYMMDD"),de=te.filter(Ce=>Ce.period===ue);if(de.length>0)X.data.push(de[0]);else{let Ce={period:ue,userIdx:q.userIdx,value:"-"};X.data.push(Ce)}J.add(1,"day")}Z.push(X)}ne()}})}},K=()=>{w.value={totalSleepMin:0,deepSleepMin:0,lightSleepMin:0,awakeMin:0},h.value=[];const Z=[];lt(()=>{for(let ne=0;ne<s.value.length;ne++){let Y=A(ne,!0);xe(Ee.API_URL,n).post("/api/1/health/getSleepTime",Y).then(q=>{if(q.data.resultCode===0){let ie=q.data.data,te=[];for(let j=0;j<ie.length;j++){let J=Q(ie[j].period,"YYYYMMDDHHmm");for(let z=0;z<=ie[j].duration;z++){let F=J.clone();F.add(1,"minutes");let V=Qt.exports.cloneDeep(ie[j]);te.push(Object.assign(V,{duration:1,period:F.format("YYYYMMDDHHmm")}))}}let X={date:"",data:[]};if(X.date=Y.startDt,Array.from("chartDate.value"),a.value===0)if(s.value.length===1)X.data=te,Z.push(X);else{const j=Q(Y.startDt,"YYYYMMDDHHmm");for(let J=0;J<24;J++){let z=j.format("YYYYMMDDHH00"),F=te.filter(V=>Q(V.period,"YYYYMMDDHHmm").format("YYYYMMDDHH00")===z);if(F.length>0)X.data.push(F[0]);else{let V={period:z,userIdx:Y.userIdx,value:"-"};X.data.push(V)}j.add(1,"hour")}Z.push(X)}else if(a.value===1){const j=Q((""+Y.startDt).substring(0,8)),z=Q((""+Y.endDt).substring(0,8)).diff(j,"days");for(let F=0;F<=z;F++){let V=j.format("YYYYMMDD"),ue=ie.filter(de=>de.period.toString()===V);if(ue.length>0)X.data.push(ue[0]);else{let de={period:V,userIdx:Y.userIdx,value:"-"};X.data.push(de)}j.add(1,"day")}Z.push(X)}else{let j=new Date(o.value[s.value[ne]]);const J=Q(`${j.getFullYear()}/${j.getMonth()+1}/1`,"YYYY/M/D"),F=J.clone().add(1,"month").add(-1,"day").diff(J,"days");for(let V=0;V<=F;V++){let ue=J.format("YYYYMMDD"),de=ie.filter(Ce=>Ce.period.toString()===ue);if(de.length>0)X.data.push(de[0]);else{let Ce={period:ue,userIdx:Y.userIdx,value:"-"};X.data.push(Ce)}J.add(1,"day")}Z.push(X)}if(Qt.exports.remove(X.data,j=>!j),h.value=Z,X.data.length>0){let j=X.data.filter(J=>J.value!=="-");if(j.length>0){const{totalSleepMin:J,lightSleepMin:z,deepSleepMin:F,awakeMin:V}=j[0];J&&z&&F&&V&&(w.value={totalSleepMin:w.value.totalSleepMin+(J??0),lightSleepMin:w.value.lightSleepMin+(z??0),deepSleepMin:w.value.deepSleepMin+(F??0),awakeMin:w.value.awakeMin+(V??0)})}}}})}})},ce=()=>{h.value=[];const Z=[],ne=()=>{let Y=0,q=1e3,ie=0,te=0,X=[];Z.map(j=>{j.data.map(J=>{if(J.value!=="-"){te++;let z=Ot(J.value);Y+=z,q=z<q?z:q,ie=z>ie?z:ie,Z.length===1&&X.filter(F=>F.time===`${J.period.substring(8,10)}:${J.period.substring(10,12)}`).length===0&&X.push({time:`${J.period.substring(8,10)}:${J.period.substring(10,12)}`,value:`${z}%`})}})}),te<1?(Y=0,q=0):Y=Number((Y/te).toFixed(0)),q===1e3&&(q=0),h.value=Z,m.value={avg:Ae(Y),min:Ae(q),max:Ae(ie),list:X}};for(let Y=0;Y<s.value.length;Y++){let q=A(Y);xe(Ee.API_URL,n).post("/api/1/health/getOxygen",q).then(ie=>{if(ie.data.resultCode===0){let te=ie.data.data,X={date:"",data:[]};if(X.date=q.startDt,Array.from(h.value),a.value===0){const j=Q(q.startDt,"YYYYMMDDHHmm");for(let J=0;J<24;J++){let z=j.format("YYYYMMDDHH00"),F=te.filter(V=>Q(V.period,"YYYYMMDDHHmm").format("YYYYMMDDHH00")===z);if(F.length>0)X.data.push(F[0]);else{let V={period:z,userIdx:q.userIdx,value:"-"};X.data.push(V)}j.add(1,"hour")}Z.push(X)}else if(a.value===1){const j=Q((""+q.startDt).substring(0,8)),z=Q((""+q.endDt).substring(0,8)).diff(j,"days");for(let F=0;F<=z;F++){let V=j.format("YYYYMMDD"),ue=te.filter(de=>de.period===V);if(ue.length>0)X.data.push(ue[0]);else{let de={period:V,userIdx:q.userIdx,value:"-"};X.data.push(de)}j.add(1,"day")}Z.push(X)}else{let j=new Date(o.value[s.value[Y]]);const J=Q(`${j.getFullYear()}/${j.getMonth()+1}/1`,"YYYY/M/D"),F=J.clone().add(1,"month").add(-1,"day").diff(J,"days");for(let V=0;V<=F;V++){let ue=J.format("YYYYMMDD"),de=te.filter(Ce=>Ce.period===ue);if(de.length>0)X.data.push(de[0]);else{let Ce={period:ue,userIdx:q.userIdx,value:"-"};X.data.push(Ce)}J.add(1,"day")}Z.push(X)}ne()}})}},$=()=>{h.value=[];const Z=[],ne=()=>{let Y=0,q=1e3,ie=0,te=0;Z.map(X=>{X.data.map(j=>{if(j.value!=="-"){te++;let J=Ot(j.value);Y+=J,q=J<q?J:q,ie=J>ie?J:ie}})}),te<1?(Y=0,q=0):Y=Number((Y/te).toFixed(0)),q===1e3&&(q=0),h.value=Z,y.value={avg:Ae(Y),min:Ae(q),max:Ae(ie)}};for(let Y=0;Y<s.value.length;Y++){let q=A(Y);xe(Ee.API_URL,n).post("/api/1/health/getStress",q).then(ie=>{if(ie.data.resultCode===0){let te=ie.data.data,X={date:"",data:[]};if(X.date=q.startDt,Array.from(h.value),a.value===0){const j=Q(q.startDt,"YYYYMMDDHHmm");for(let J=0;J<24;J++){let z=j.format("YYYYMMDDHH00"),F=te.filter(V=>Q(V.period,"YYYYMMDDHHmm").format("YYYYMMDDHH00")===z);if(F.length>0)X.data.push(F[0]);else{let V={period:z,userIdx:q.userIdx,value:"-"};X.data.push(V)}j.add(1,"hour")}Z.push(X)}else if(a.value===1){const j=Q((""+q.startDt).substring(0,8)),z=Q((""+q.endDt).substring(0,8)).diff(j,"days");for(let F=0;F<=z;F++){let V=j.format("YYYYMMDD"),ue=te.filter(de=>de.period===V);if(ue.length>0)X.data.push(ue[0]);else{let de={period:V,userIdx:q.userIdx,value:"-"};X.data.push(de)}j.add(1,"day")}Z.push(X)}else{let j=new Date(o.value[s.value[Y]]);const J=Q(`${j.getFullYear()}/${j.getMonth()+1}/1`,"YYYY/M/D"),F=J.clone().add(1,"month").add(-1,"day").diff(J,"days");for(let V=0;V<=F;V++){let ue=J.format("YYYYMMDD"),de=te.filter(Ce=>Ce.period===ue);if(de.length>0)X.data.push(de[0]);else{let Ce={period:ue,userIdx:q.userIdx,value:"-"};X.data.push(Ce)}J.add(1,"day")}Z.push(X)}ne()}})}},W=()=>{const Z=JSON.parse(Bt(Fe.CONST.LOGIN_USER));Z&&(c.value=Z.userType)},ae=()=>{b(new Date().toString())};return Ue(()=>{var Y,q,ie,te,X,j,J,z;ae(),W();let Z={userIdx:H().userIdx};H().userType===De.USER?Z.userIdx=(q=(Y=G().getCurrentGroup())==null?void 0:Y.creatorInfo)==null?void 0:q.userIdx:H().userType===De.USER_DEVICE?Z.userIdx!==((te=(ie=G().getCurrentGroup())==null?void 0:ie.creatorInfo)==null?void 0:te.userIdx)&&(Z.userIdx=(j=(X=G().getCurrentGroup())==null?void 0:X.creatorInfo)==null?void 0:j.userIdx):H().userType===De.MANAGER&&(Z.userIdx=(z=(J=G().getGroup(t.query.group))==null?void 0:J.creatorInfo)==null?void 0:z.userIdx),xe(Ee.API_URL,n).post("/api/1/goal/getGoalInfo",Z).then(F=>{if(F.data.data){let V=[];switch(r.value){case"working":V=F.data.data.filter(ue=>ue.goalType==="STEP"),V.length>0?p.value=Ae(V[V.length-1].goalValue):p.value=Ae(1e4);break;case"heart-rate":V=F.data.data.filter(ue=>ue.goalType==="HEARTRATE"),V.length>0&&(p.value=Ae(V[V.length-1].goalValue));break;case"temperature":V=F.data.data.filter(ue=>ue.goalType==="TEMPERATURE"),V.length>0&&(p.value=Ae(V[V.length-1].goalValue));break;case"blood-pressure":V=F.data.data.filter(ue=>ue.goalType==="BLOODPRESSURE"),V.length>0&&(p.value=Ae(V[V.length-1].goalValue));break;case"sleep":V=F.data.data.filter(ue=>ue.goalType==="SLEEP"),V.length>0?p.value=V[V.length-1].goalValue:p.value="480";break;case"oxygen":V=F.data.data.filter(ue=>ue.goalType==="OXYGEN"),V.length>0&&(p.value=Ae(V[V.length-1].goalValue));break;case"stress":V=F.data.data.filter(ue=>ue.goalType==="STRESS"),V.length>0&&(p.value=Ae(V[V.length-1].goalValue));break}}});const ne=H();ne&&ne.userType&&(E.value=ne.userType===De.MANAGER)}),ot(()=>{}),{moment:Q,PeriodType:Be,selectPeriod:a,periodList:d,setSelectPeriod:x,selectDate:i,onChangeDate:b,dateList:o,checkList:s,format:l,UserType:De,userType:c,onCheck:D,colorList:ba,isManager:E,chartType:u,ChartTypes:bx,chartDate:h,goalData:p,compDataType:r,workingOverviewData:f,heartOverviewData:g,tempOverviewData:v,oxygenOverviewData:m,stressOverviewData:y,bloodOverviewData:_,sleepOverviewData:w,getNumberFormat:Ae}}},TV={class:"heath-view"},IV={class:"period-btn-wrapper flex justify-center"},AV={class:"container"},kV=["onClick","checked"],MV=C("span",{class:"checkmark"},null,-1),LV={class:"working-info flex justify-center flex-col items-center py-[15px]"},RV=C("p",{class:"title"},"걸음수",-1),OV={class:"main-info"},PV={class:"working-info flex justify-center items-center py-[17px]"},NV={class:"sub-info"},BV=C("span",null,"km",-1),$V=C("label",null,"거리",-1),UV={class:"sub-info"},GV=C("span",null,"kcal",-1),FV=C("label",null,"소모",-1),HV={key:1,class:"heart-info flex justify-center items-center py-[17px]"},VV={class:"sub-info"},YV=C("span",null,"BPM",-1),zV=C("label",null,"평균",-1),WV={class:"sub-info"},qV=C("span",null,"BPM",-1),ZV=C("label",null,"최저",-1),KV={class:"sub-info"},XV=C("span",null,"BPM",-1),jV=C("label",null,"최고",-1),JV={key:2,class:"temperature-info flex justify-center items-center py-[17px]"},QV={class:"sub-info"},e7=C("span",null,"°C",-1),t7=C("label",null,"평균",-1),n7={class:"sub-info"},a7=C("span",null,"°C",-1),r7=C("label",null,"최저",-1),i7={class:"sub-info"},o7=C("span",null,"°C",-1),s7=C("label",null,"최고",-1),l7={key:3,class:"stress-info flex justify-center items-center py-[17px]"},u7={class:"sub-info"},c7=C("span",null,"%",-1),d7=C("label",null,"평균",-1),h7={class:"sub-info"},p7=C("span",null,"%",-1),f7=C("label",null,"최소",-1),v7={class:"sub-info"},g7=C("span",null,"%",-1),m7=C("label",null,"최고",-1),y7={class:"blood-info flex justify-center items-center py-[17px]"},_7={class:"sub-info"},C7=C("span",null,"mmHg",-1),w7=C("label",null,"평균 수축기",-1),x7={class:"sub-info"},E7=C("span",null,"mmHg",-1),b7=C("label",null,"평균 이완기",-1),S7={key:0,class:"blood-info flex flex-col justify-center items-center px-[25px]"},D7=C("div",{class:"data-table row flex"},[C("div",{class:"header w-[60px] min-w-[60px] px-0"},"시간"),C("div",{class:"header w-[60px] min-w-[60px] px-0"},"수축기"),C("div",{class:"header w-[60px] min-w-[60px] px-0"},"이완기")],-1),T7={class:"sleep-info flex justify-center flex-col items-center py-[15px]"},I7=C("p",{class:"title"},"수면시간",-1),A7={class:"main-info"},k7=C("label",null,"시",-1),M7=C("label",null,"분",-1),L7=C("label",null,"시",-1),R7=C("label",null,"분",-1),O7={class:"sleep-info flex justify-center items-center py-[17px]"},P7={class:"sub-info"},N7=C("span",{class:""},"시",-1),B7=C("span",null,"분",-1),$7=C("label",null,"깊은 수면",-1),U7={class:"sub-info"},G7=C("span",null,"시",-1),F7=C("span",null,"분",-1),H7=C("label",null,"얕은 수면",-1),V7={class:"sub-info"},Y7=C("span",null,"분",-1),z7=C("label",null,"기상",-1),W7={class:"oxygen-info flex justify-center items-center py-[17px]"},q7={class:"sub-info"},Z7=C("span",null,"%",-1),K7=C("label",null,"평균",-1),X7={class:"sub-info"},j7=C("span",null,"%",-1),J7=C("label",null,"최소",-1),Q7={class:"sub-info"},eY=C("span",null,"%",-1),tY=C("label",null,"최대",-1),nY={key:0,class:"oxygen-info flex flex-col justify-center items-center px-[25px]"},aY=C("div",{class:"data-table row flex"},[C("div",{class:"header w-[60px] min-w-[60px] px-0"},"시간"),C("div",{class:"header w-[60px] min-w-[60px] px-0"},"값")],-1);function rY(e,t,n,a,r,i){const o=U("kp-button"),s=U("kp-date-picker"),l=U("bar-chart"),u=U("bar-chart-for-sleep"),c=U("line-chart"),d=U("line-chart-two-line"),h=U("area-chart"),p=U("waterfall-chart"),f=U("bar-area-chart");return k(),O("section",TV,[C("div",IV,[(k(!0),O(Ie,null,gt(a.periodList,g=>(k(),fe(o,{key:g.type,class:ye(a.userType===a.UserType.MANAGER?"mr-[20px] last:mr-0":""),"btn-class":a.compDataType,"is-default":a.selectPeriod!==g.type,"on-click":()=>a.setSelectPeriod(g.type)},{default:ve(()=>[se(ee(g.label),1)]),_:2},1032,["class","btn-class","is-default","on-click"]))),128))]),C("div",{class:ye(["data-wrapper mt-[30px]",{"pb-[310px]":a.selectPeriod===a.PeriodType.DAY,"pb-[440px]":a.selectPeriod!==a.PeriodType.DAY}])},[M(s,{class:"date-picker",date:a.selectDate,onOnChangeDate:a.onChangeDate,"is-white":""},null,8,["date","onOnChangeDate"]),(k(),O("div",{class:"chart-wrapper",key:new Date().getMilliseconds()},[a.chartType===a.ChartTypes.BAR?(k(),fe(l,{key:0,"data-type":a.compDataType,"select-period":a.selectPeriod,"date-list":a.dateList,"check-list":a.checkList.sort(),data:a.chartDate},null,8,["data-type","select-period","date-list","check-list","data"])):re("",!0),a.chartType===a.ChartTypes.BARSLEEP?(k(),fe(u,{key:1,"data-type":a.compDataType,"select-period":a.selectPeriod,"date-list":a.dateList,"check-list":a.checkList.sort(),data:a.chartDate},null,8,["data-type","select-period","date-list","check-list","data"])):re("",!0),a.chartType===a.ChartTypes.LINE?(k(),fe(c,{key:2,"data-type":a.compDataType,"select-period":a.selectPeriod,"date-list":a.dateList,"check-list":a.checkList.sort(),data:a.chartDate},null,8,["data-type","select-period","date-list","check-list","data"])):re("",!0),a.chartType===a.ChartTypes.TWOLINE?(k(),fe(d,{key:3,"data-type":a.compDataType,"select-period":a.selectPeriod,"date-list":a.dateList,"check-list":a.checkList.sort(),data:a.chartDate},null,8,["data-type","select-period","date-list","check-list","data"])):re("",!0),a.chartType===a.ChartTypes.AREA?(k(),fe(h,{key:4,"data-type":a.compDataType,"select-period":a.selectPeriod,"date-list":a.dateList,"check-list":a.checkList.sort(),data:a.chartDate},null,8,["data-type","select-period","date-list","check-list","data"])):re("",!0),a.chartType===a.ChartTypes.WATERFALL?(k(),fe(p,{key:5,"data-type":a.compDataType,"select-period":a.selectPeriod,"date-list":a.dateList,"check-list":a.checkList.sort(),data:a.chartDate},null,8,["data-type","select-period","date-list","check-list","data"])):re("",!0),a.chartType===a.ChartTypes.BARAREA?(k(),fe(f,{key:6,"data-type":a.compDataType,"select-period":a.selectPeriod,"date-list":a.dateList,"check-list":a.checkList.sort(),data:a.chartDate},null,8,["data-type","select-period","date-list","check-list","data"])):re("",!0),C("div",null,[C("ul",{class:ye(["chat-option",{day:a.selectPeriod===a.PeriodType.DAY,week:a.selectPeriod===a.PeriodType.WEEK,month:a.selectPeriod===a.PeriodType.MONTH,[a.compDataType?a.compDataType:""]:!0,isManager:a.isManager}])},[(k(!0),O(Ie,null,gt(a.dateList,(g,v)=>(k(),O("li",{key:v},[C("label",AV,[se(ee(a.moment(new Date(g)).format(a.format))+" ",1),a.selectPeriod===a.PeriodType.WEEK?(k(),O(Ie,{key:0},[se("~ "+ee(a.moment(new Date(g).setDate(new Date(g).getDate()+6)).format(a.format)),1)],64)):re("",!0),C("input",{type:"checkbox",onClick:m=>a.onCheck(m,v),checked:a.checkList.indexOf(v)>-1},null,8,kV),MV])]))),128))],2)])]))],2),a.compDataType==="working"?(k(),O(Ie,{key:0},[C("div",LV,[RV,C("p",OV,[se(ee(a.workingOverviewData.working)+" ",1),C("span",null,"/ "+ee(a.goalData),1)])]),C("div",PV,[C("div",NV,[C("p",null,[se(ee(a.workingOverviewData.distance),1),BV]),$V]),C("div",UV,[C("p",null,[se(ee(a.workingOverviewData.kcal),1),GV]),FV])])],64)):re("",!0),a.compDataType==="heart-rate"?(k(),O("div",HV,[C("div",VV,[C("p",null,[se(ee(a.heartOverviewData.avg),1),YV]),zV]),C("div",WV,[C("p",null,[se(ee(a.heartOverviewData.min),1),qV]),ZV]),C("div",KV,[C("p",null,[se(ee(a.heartOverviewData.max),1),XV]),jV])])):re("",!0),a.compDataType==="temperature"?(k(),O("div",JV,[C("div",QV,[C("p",null,[se(ee(a.tempOverviewData.avg),1),e7]),t7]),C("div",n7,[C("p",null,[se(ee(a.tempOverviewData.min),1),a7]),r7]),C("div",i7,[C("p",null,[se(ee(a.tempOverviewData.max),1),o7]),s7])])):re("",!0),a.compDataType==="stress"?(k(),O("div",l7,[C("div",u7,[C("p",null,[se(ee(a.stressOverviewData.avg),1),c7]),d7]),C("div",h7,[C("p",null,[se(ee(a.stressOverviewData.min),1),p7]),f7]),C("div",v7,[C("p",null,[se(ee(a.stressOverviewData.max),1),g7]),m7])])):re("",!0),a.compDataType==="blood-pressure"?(k(),O(Ie,{key:4},[C("div",y7,[C("div",_7,[C("p",null,[se(ee(Number(a.bloodOverviewData.maxAvg).toFixed(0)),1),C7]),w7]),C("div",x7,[C("p",null,[se(ee(Number(a.bloodOverviewData.minAvg).toFixed(0)),1),E7]),b7])]),a.checkList.length===1&&a.selectPeriod===a.PeriodType.DAY?(k(),O("div",S7,[D7,(k(!0),O(Ie,null,gt(a.bloodOverviewData.list,(g,v)=>(k(),O("div",{class:"data-table row data flex",key:v},[C("div",null,ee(g.time),1),C("div",null,ee(g.max),1),C("div",null,ee(g.min),1)]))),128))])):re("",!0)],64)):re("",!0),a.compDataType==="sleep"?(k(),O(Ie,{key:5},[C("div",T7,[I7,C("p",A7,[se(ee(Math.floor(a.sleepOverviewData.totalSleepMin/a.checkList.length/60)),1),k7,se(" "+ee(Math.floor(a.sleepOverviewData.totalSleepMin/a.checkList.length%60)),1),M7,C("span",null,[se("/ "+ee(isNaN(Math.floor(a.goalData/60))?0:Math.floor(a.goalData/60)),1),L7,se(" "+ee(isNaN(a.goalData%60)?0:a.goalData%60),1),R7])])]),C("div",O7,[C("div",P7,[C("p",null,[se(ee(Math.floor(a.sleepOverviewData.deepSleepMin/a.checkList.length/60)),1),N7,se(ee(Math.floor(a.sleepOverviewData.deepSleepMin/a.checkList.length%60)),1),B7]),$7]),C("div",U7,[C("p",null,[se(ee(Math.floor(a.sleepOverviewData.lightSleepMin/a.checkList.length/60)),1),G7,se(ee(Math.floor(a.sleepOverviewData.lightSleepMin/a.checkList.length%60)),1),F7]),H7]),C("div",V7,[C("p",null,[se(ee(a.getNumberFormat(a.sleepOverviewData.awakeMin/a.checkList.length)),1),Y7]),z7])])],64)):re("",!0),a.compDataType==="oxygen"?(k(),O(Ie,{key:6},[C("div",W7,[C("div",q7,[C("p",null,[se(ee(a.oxygenOverviewData.avg),1),Z7]),K7]),C("div",X7,[C("p",null,[se(ee(a.oxygenOverviewData.min),1),j7]),J7]),C("div",Q7,[C("p",null,[se(ee(a.oxygenOverviewData.max),1),eY]),tY])]),a.checkList.length===1&&a.selectPeriod===a.PeriodType.DAY?(k(),O("div",nY,[aY,(k(!0),O(Ie,null,gt(a.oxygenOverviewData.list,(g,v)=>(k(),O("div",{class:"data-table row data flex",key:v},[C("div",null,ee(g.time),1),C("div",null,ee(g.value),1)]))),128))])):re("",!0)],64)):re("",!0)])}const iY=Se(DV,[["render",rY]]),oY=be({name:"HealthView",components:{UserInfo:Yy,ChartView:iY,KpImage:Xe,LayoutHeader:Ct,slider:nE},setup(){const e=ze(),t=ke(()=>xe(Ee.API_URL,e)),n=Vt(),a=nt(),r=I(""),i=I(""),o=I(),s=I(),l=ke(()=>n.params.type),{HEALTH_TYPE:u}=Fe,c=I(120),d=I({type:u.WORKING,title:"걸음수",prefix:"걸음",value:"-",prefixSub:""}),h=I({type:u.HEARTRATE,title:"심박수",prefix:"BPM",value:"-",prefixSub:""}),p=I({type:u.TEMPERATURE,title:"체온",prefix:"°C",value:"-",prefixSub:""}),f=I({type:u.BLOODPRESSURE,title:"혈압",prefix:"mmHg",value:"-/-",prefixSub:""}),g=I({type:u.SLEEP,title:"수면",prefix:"시간",value:"-",prefixSub:""}),v=I({type:u.OXYGEM,title:"산소포화도",prefix:"%",value:"-",prefixSub:""}),m=I({type:u.STRESS,title:"학습 성취도",prefix:"%",value:"0",prefixSub:""}),y=ke(()=>[d.value,h.value,p.value,f.value,g.value,v.value,m.value]),_=()=>{var T,A,L,P,N,B,K,ce;let b={userIdx:H().userIdx};H().userType===De.USER?b.userIdx=(A=(T=G().getCurrentGroup())==null?void 0:T.creatorInfo)==null?void 0:A.userIdx:H().userType===De.MANAGER?b.userIdx=(P=(L=G().getCurrentGroup())==null?void 0:L.creatorInfo)==null?void 0:P.userIdx:H().userType===De.USER_DEVICE&&b.userIdx!==((B=(N=G().getCurrentGroup())==null?void 0:N.creatorInfo)==null?void 0:B.userIdx)&&(b.userIdx=(ce=(K=G().getCurrentGroup())==null?void 0:K.creatorInfo)==null?void 0:ce.userIdx),t.value.post("/api/1/health/getActivity",b).then($=>{let{data:W}=$.data;if(W&&W.length>0){let ae=W[0];d.value={...d.value,value:Ae(ae.totalStepCount)}}}),t.value.post("/api/1/health/getHeartRate",b).then($=>{let{data:W}=$.data;if(W&&W.length>0){let ae=W[0];const Z=new Date(ae.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let ne=dt(new Date),Y=dt(Z);h.value={...h.value,value:Ae(ae.value),prefixSub:""},dt.duration(ne.diff(Y)).asMinutes()>c.value&&(h.value={...h.value,prefixSub:`(${dt(ae.period,"YYYYMMDDHHmm").fromNow()})`})}}),t.value.post("/api/1/health/getTemperature",b).then($=>{let{data:W}=$.data;if(W&&W.length>0){let ae=W[0];const Z=new Date(ae.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let ne=dt(new Date),Y=dt(Z);p.value={...p.value,value:Ae(ae.value),prefixSub:""},dt.duration(ne.diff(Y)).asMinutes()>c.value&&(p.value={...p.value,prefixSub:`(${dt(ae.period,"YYYYMMDDHHmm").fromNow()})`})}}),t.value.post("/api/1/health/getBloodPressure",b).then($=>{let{data:W}=$.data;if(W&&W.length>0){let ae=W[0];const Z=new Date(ae.period.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)$/,"$1-$2-$3 $4:$5"));let ne=dt(new Date),Y=dt(Z);f.value={...f.value,value:`${Ae(ae.valueHigh)}/${Ae(ae.valueLow)}`,prefixSub:""},dt.duration(ne.diff(Y)).asMinutes()>c.value&&(f.value={...f.value,prefixSub:`(${dt(ae.period,"YYYYMMDDHHmm").fromNow()})`})}}),t.value.post("/api/1/health/getOxygen",b).then($=>{let{data:W}=$.data;if(W&&W.length>0){let ae=W[0];v.value={...v.value,value:Ae(ae.value)}}});let D={userIdx:H().userIdx,startDt:parseInt(dt().format("YYYYMMDD")),endDt:parseInt(dt().format("YYYYMMDD"))};t.value.post("/api/1/health/getStress",D).then($=>{let{data:W}=$.data;if(W&&W.length>0){let ae=0,Z=0;for(let Y of W)ae+=Y.value,Z++;let ne=ae/Z;m.value={...m.value,value:Ae(ne)}}else m.value={...m.value,value:Ae(0)}}),b.startDt=Number(dt(new Date).format("YYYYMMDD0000")),b.endDt=Number(dt(new Date).format("YYYYMMDD9999")),t.value.post("/api/1/health/getSleepTime",b).then($=>{let{data:W}=$.data;if(W&&W.length>0){const ae=W[W.length-1].totalSleepMin;g.value={...g.value,value:`${Math.floor(ae/60).toString().padStart(2,"0")}:${(ae%60).toString().padStart(2,"0")}`}}})},w=b=>{a.push(`/health/${b}`),i.value=b},E=()=>{const b=G().getCurrentGroup();s.value=b},x=()=>{o.value===De.MANAGER&&G().setCurrentGroup(void 0)},S=()=>{_()};return He(()=>n.name,()=>{n.params.type?i.value=n.params.type:(i.value="",_())}),Ue(async()=>{switch(S(),await a.isReady(),n.params.type??""){case u.WORKING:r.value="걸음수";break;case u.SLEEP:r.value="수면";break;case u.HEARTRATE:r.value="심박수";break;case u.BLOODPRESSURE:r.value="혈압";break;case u.OXYGEM:r.value="산소포화도";break;case u.STRESS:r.value="학습 성취도";break;case u.TEMPERATURE:r.value="체온";break;default:r.value="건강정보";break}n.params.type&&(i.value=n.params.type);const b=H();b&&b.userType&&(o.value=b.userType),E()}),He(()=>l.value,()=>{switch(l.value??""){case u.WORKING:r.value="걸음수";break;case u.SLEEP:r.value="수면";break;case u.HEARTRATE:r.value="심박수";break;case u.BLOODPRESSURE:r.value="혈압";break;case u.OXYGEM:r.value="산소포화도";break;case u.STRESS:r.value="학습 성취도";break;case u.TEMPERATURE:r.value="체온";break;default:r.value="건강정보";break}}),ot(()=>{}),{HEALTH_TYPE:u,pageTitle:r,pageHealthType:i,healthInfo:y,userType:o,UserType:De,currentGroup:s,goToHealthPage:w,goBack:x}}}),sY={key:0,class:"health-overview scroll-body"},lY={class:"info px-[20px] pt-[30px]"},uY=["onClick"],cY={class:"flex justify-between items-center"},dY={class:"title"},hY={class:"icon"},pY={class:"value"},fY={class:"prefix"},vY=["onClick"],gY={class:"flex justify-between items-center"},mY={class:"title"},yY={class:"icon"},_Y={class:"prefix"},CY={key:0,class:"prefix-sub"};function wY(e,t,n,a,r,i){const o=U("layout-header"),s=U("user-info"),l=U("kp-image"),u=U("slider"),c=U("chart-view");return k(),O(Ie,null,[M(o,{title:e.pageTitle,"is-disabled-back":e.pageHealthType===""&&e.userType!==e.UserType.MANAGER,"before-go-back":e.goBack},null,8,["title","is-disabled-back","before-go-back"]),e.pageHealthType===""?(k(),O("section",sY,[C("article",lY,[e.userType===e.UserType.MANAGER&&e.currentGroup?(k(),fe(s,{key:0,"current-group":e.currentGroup},null,8,["current-group"])):re("",!0),C("div",{class:ye(["contents-wrapper grid grid-cols-2 gap-[10px] pt-[20px]",e.userType===e.UserType.MANAGER?"gap-[20px]":""])},[(k(!0),O(Ie,null,gt(e.healthInfo,d=>(k(),O(Ie,{key:d.type},[d.type===e.HEALTH_TYPE.STRESS?(k(),O("div",{key:0,class:"board detail-info flex flex-col justify-between stress",onClick:h=>e.goToHealthPage(d.type)},[C("div",cY,[C("span",dY,ee(d.title),1),C("span",hY,[M(l,{src:`images/icon/ico-main-${d.type}.svg`},null,8,["src"])])]),C("div",pY,[M(u,{modelValue:d.value,"onUpdate:modelValue":h=>d.value=h,disabled:!0,alwaysShowHandle:!0,color:"#8A8D9F","track-color":"#F4F5F7",handleScale:1.5,height:8},null,8,["modelValue","onUpdate:modelValue","handleScale"]),se(" "+ee(d.value)+" ",1),C("div",fY,ee(d.prefix),1)])],8,uY)):(k(),O("div",{key:1,class:ye(["board detail-info flex flex-col justify-between",d.type]),onClick:h=>e.goToHealthPage(d.type)},[C("div",gY,[C("span",mY,ee(d.title),1),C("span",yY,[M(l,{src:`images/icon/ico-main-${d.type}.svg`},null,8,["src"])])]),C("div",{class:ye(["value",d.prefixSub?"prev":""])},[se(ee(d.value)+" ",1),C("div",_Y,[se(ee(d.prefix)+" ",1),d.prefixSub?(k(),O("span",CY,ee(d.prefixSub?`${d.prefixSub}`:""),1)):re("",!0)])],2)],10,vY))],64))),128))],2)])])):(k(),fe(c,{key:1,"data-type":e.pageHealthType},null,8,["data-type"]))],64)}const uy=Se(oY,[["render",wY]]),xY=be({name:"ChatPreviewManager",components:{KpImage:Xe,KpLink:xt},props:{selectedGroup:{type:$r,required:!0}},setup(e){const t=nt(),n=I(),a=I(!1),r=ke(()=>e.selectedGroup),i=I(),o=I(),s=()=>{if(r.value){const g=r.value.getLastMessage();g&&(n.value=g,h(),p(),f())}},l=()=>{var g;r.value&&(a.value=(g=r.value)==null?void 0:g.isUpdated())},u=()=>{r.value&&(G().joinChannel(r.value.channelIdx),t.push({path:`/chat-room/${r.value.groupIdx}`,query:{redirect:"chat-list"}}))},c=g=>{var m;const v=g.detail;((m=r.value)==null?void 0:m.channelIdx)===v&&(s(),l(),h(),p(),f())},d=()=>{s(),l(),h(),p(),f()},h=()=>{var m,y,_,w,E,x;const g=(m=n.value)==null?void 0:m.dateReg,v=new Date;if(g){const S=Q(v).format("LL"),b=Q(g).format("LL"),D=v.getFullYear(),T=g.getFullYear();if(S===b)i.value=Q((y=n.value)==null?void 0:y.dateReg).format("LT");else if(D===T)i.value=Q((_=n.value)==null?void 0:_.dateReg).format("MMM Do").toString();else{const A=(w=n.value)==null?void 0:w.dateReg.getDate(),L=((E=n.value)==null?void 0:E.dateReg.getMonth())??0+1,P=(x=n.value)==null?void 0:x.dateReg.getFullYear();i.value=`${P}.${Number(L)<10?"0"+L:L}.${Number(A)<10?"0"+A:A}`}}},p=()=>{var v;const g=(v=r.value.creatorInfo)==null?void 0:v.userProfile;if(g){const m=JSON.parse(g);o.value=Ee.FILE_SERVER+m[0].savedName}},f=()=>{var g;if(n.value&&[oe.VIDEO,oe.IMAGE,oe.EMERGENCY_VIDEO,oe.EMERGENCY_IMAGE].indexOf(n.value.messageType)>-1&&(g=n.value)!=null&&g.fileInfo)try{const m=JSON.parse(n.value.fileInfo)[0].fileOriginName;m&&(n.value.messageBody=m)}catch{}};return Ue(()=>{d(),G().addEventListener(ge.MESSAGE_RECEIVED,c)}),ot(()=>{G().removeEventListener(ge.MESSAGE_RECEIVED,c)}),{compGroup:r,lastMessage:n,isUpdated:a,viewDate:i,userProfileView:o,openChannelRoom:u,getMessageBody:()=>{var g,v;switch((g=n.value)==null?void 0:g.messageType){case oe.IMAGE:case oe.EMERGENCY_IMAGE:return"사진이 전송되었습니다.";case oe.VIDEO:case oe.EMERGENCY_VIDEO:return"동영상이 전송되었습니다.";default:return(v=n.value)==null?void 0:v.messageBody}}}}}),EY={class:"preview-body flex justify-start items-center w-full flex-1 h-[90px] rounded-[15px] my-[20px] p-[20px]"},bY={class:"min-w-[50px] w-[50px] h-full flex justify-center items-start mr-[15px] relative"},SY={key:1,class:"min-w-[50px] w-[50px] h-[50px] profile-background"},DY={key:2,class:"w-[15px] h-[15px] absolute top-0 right-0"},TY=C("div",{class:"w-full h-full rounded-[100%] bg-[#FFF] flex items-center justify-center"},[C("div",{class:"w-[calc(100%_-_2px)] h-[calc(100%_-_2px)] rounded-[100%] bg-[#466FFF]"})],-1),IY=[TY],AY={key:0,class:"message-body flex flex-col flex-1 items-start max-w-[calc(100%_-_65px)] h-full"},kY={class:"message-info w-full flex items-center justify-between mb-[5px]"},MY={class:"user-id"},LY={key:0,class:"date"},RY={class:"message-content w-full h-[40px]"},OY={class:"break-all text-ellipsis overflow-hidden whitespace-normal w-full"},PY={key:0,class:"absolute w-[15px] h-[15px] rounded-[5px] bg-red-600 right-0 top-1"};function NY(e,t,n,a,r,i){const o=U("kp-image"),s=U("kpLink");return k(),fe(s,{link:"#","on-click":e.openChannelRoom,class:"preview-manager w-full h-[105px] bg-[#ffffff]"},{default:ve(()=>{var l;return[C("div",EY,[C("div",bY,[e.userProfileView?(k(),fe(o,{key:0,class:"min-w-[50px] w-[50px] h-[50px] object-cover rounded-[50%]",src:e.userProfileView},null,8,["src"])):(k(),O("div",SY,[M(o,{class:"w-[25px] h-[30px]",src:"images/common/base-profile.svg"})])),e.isUpdated?(k(),O("div",DY,IY)):re("",!0)]),e.lastMessage?(k(),O("div",AY,[C("div",kY,[C("span",MY,ee((l=e.compGroup.creatorInfo)==null?void 0:l.username),1),e.lastMessage.dateReg?(k(),O("span",LY,ee(e.viewDate),1)):re("",!0)]),C("div",RY,[C("p",OY,ee(e.getMessageBody()),1),e.isUpdated?(k(),O("div",PY)):re("",!0)])])):re("",!0)])]}),_:1},8,["on-click"])}const BY=Se(xY,[["render",NY]]),$Y=be({name:"ChatList",components:{ChatPreviewManager:BY,LayoutHeader:Ct},setup(){const e=nt(),t=I(),n=()=>{console.log(G().getGroupList()),t.value=G().getGroupList().sort((r,i)=>i.messageList[i.messageList.length-1]?Q(i.messageList[i.messageList.length-1].dateMod).valueOf()-Q(r.messageList[r.messageList.length-1].dateMod).valueOf():0)},a=()=>{e.replace({path:"/"})};return Ue(()=>{G().launchChat(),G().addEventListener(ge.MESSAGE_RECEIVED,n),G().addEventListener(ge.LOAD_COMPLETE,n),n()}),ot(()=>{G().removeEventListener(ge.MESSAGE_RECEIVED,n),G().removeEventListener(ge.LOAD_COMPLETE,n)}),{groupList:t,goToDashboard:a}}}),UY={class:"chat-list-wrapper px-[20px] mt-[20px]"};function GY(e,t,n,a,r,i){const o=U("layout-header"),s=U("chat-preview-manager");return k(),O(Ie,null,[M(o,{title:"그룹 채팅"}),C("div",UY,[(k(!0),O(Ie,null,gt(e.groupList,l=>(k(),O("div",{key:`${l.channelIdx}_${new Date().getTime()}`},[M(s,{"selected-group":l},null,8,["selected-group"])]))),128))])],64)}const FY=Se($Y,[["render",GY]]),HY=be({name:"ChatBox",components:{KpLink:xt,KpImage:Xe},props:{message:{type:Object,default:{}},setImagePreview:{type:Function,default:e=>{}},setVideoPreview:{type:Function,default:e=>{}},onLoad:{type:Function,required:!1}},setup(e){nt();const t=ke(()=>e.message),n=I(!1),a=I(!1),r=I(),i=I(),o=I(),s=I(),l=I(),u=I(),c=I(!1),d=()=>{var S,b;n.value=((S=t.value)==null?void 0:S.messageType)===oe.ENTER||((b=t.value)==null?void 0:b.messageType)===oe.LEAVE},h=()=>{var S;a.value=!n.value&&((S=t.value)==null?void 0:S.userIdx)===H().userIdx},p=()=>"",f=()=>{var b;let S="";switch((b=t.value)==null?void 0:b.messageType){case oe.TEXT:break;case oe.VIDEO:break;case oe.IMAGE:break;case oe.EMERGENCY:case oe.EMERGENCY_VIDEO:case oe.EMERGENCY_IMAGE:case oe.EMERGENCY_ALARM:S+=" emergency";break;case oe.ERROR:break}return S},g=()=>{if(t.value){const S=t.value.dateReg.getDate(),b=t.value.dateReg.getMonth()+1,D=t.value.dateReg.getFullYear();o.value=`${D}년 ${Number(b)<10?"0"+b:b}월 ${Number(S)<10?"0"+S:S}일`}},v=()=>{var S;i.value=Q((S=t.value)==null?void 0:S.dateReg).format("LT")},m=()=>{var S,b;r.value=(S=t.value)==null?void 0:S.isDayFirstMsg,s.value=!!((b=t.value)!=null&&b.parentSeq)},y=()=>{var S,b,D,T,A,L;((S=t.value)==null?void 0:S.messageType)===oe.IMAGE||((b=t.value)==null?void 0:b.messageType)===oe.EMERGENCY_IMAGE?e.setImagePreview((D=t.value)==null?void 0:D.messageBody):(((T=t.value)==null?void 0:T.messageType)===oe.VIDEO||((A=t.value)==null?void 0:A.messageType)===oe.EMERGENCY_VIDEO)&&e.setVideoPreview((L=t.value)==null?void 0:L.messageBody)},_=()=>{var S,b,D,T,A;try{if(((S=t.value)==null?void 0:S.messageType)===oe.IMAGE||((b=t.value)==null?void 0:b.messageType)===oe.VIDEO||((D=t.value)==null?void 0:D.messageType)===oe.EMERGENCY_VIDEO||((T=t.value)==null?void 0:T.messageType)===oe.EMERGENCY_IMAGE){const L=(A=t.value)==null?void 0:A.fileInfo;if(L){const P=JSON.parse(L);l.value=P[0].fileOriginName}}}catch(L){console.log(L)}},w=()=>{var S,b,D,T;try{if(t.value&&((S=t.value)==null?void 0:S.messageType)!==oe.ENTER&&((b=t.value)==null?void 0:b.messageType)!==oe.LEAVE&&((D=t.value)==null?void 0:D.messageType)!==oe.ERROR){const A=(T=t.value)==null?void 0:T.userProfile;if(A){const L=JSON.parse(A);u.value=Ee.FILE_SERVER+L[0].savedName}}}catch(A){console.log(A)}},E=S=>{e.message.tempUuid===S.detail&&(c.value=!0)},x=S=>{e.onLoad&&e.onLoad(S)};return He(()=>t.value,()=>{}),Ue(()=>{d(),h(),m(),v(),g(),_(),w(),he().addEventListener(we.FAIL_SEND_MESSAGE,E)}),ot(()=>{}),{hasDayDecoration:r,isMyMessage:a,isLeaveOrEnter:n,msgViewDate:i,dayPartition:o,hasParent:s,MessageType:oe,fileView:l,userProfileView:u,isFileMessage:ke(()=>{var S,b,D,T;return((S=t.value)==null?void 0:S.messageType)===oe.IMAGE||((b=t.value)==null?void 0:b.messageType)===oe.VIDEO||((D=t.value)==null?void 0:D.messageType)===oe.EMERGENCY_IMAGE||((T=t.value)==null?void 0:T.messageType)===oe.EMERGENCY_VIDEO}),isSingle:ke(()=>{var S;return((S=t.value)==null?void 0:S.isLastChild)&&!s.value}),handleOpenFile:y,myChatBoxCSS:p,messageTypeStyleCSS:f,failSendMessage:c,compMessage:t,handleImageLoaded:x}}}),VY={key:0,class:"day-deco-wrapper w-full flex justify-center my-[20px]"},YY={class:"day-deco min-w-[145px] h-[30px] flex items-center px-[10px] justify-between rounded-[20px]"},zY={key:1,class:"day-deco-wrapper w-full flex justify-center my-[20px]"},WY={class:"day-deco h-[30px] inline-flex items-center px-[10px] justify-center rounded-[20px]"},qY={class:"font-bold"},ZY={key:2,class:"my-message"},KY={key:0,class:"flex justify-center items-center w-[100px] h-[100px]"},XY={key:1,class:"w-[100px] h-[100px]"},jY=["src"],JY=["src"],QY={key:1,class:"message whitespace-pre-line"},e9={class:"message-deco-wrapper flex flex-col justify-evenly w-[70px] mr-[5px]"},t9={key:0,class:"read-count text-right"},n9={key:1,class:"date text-right min-w-[60px]"},a9={key:3,class:"other-message"},r9={key:0,class:"mr-[10px] min-w-[35px] w-[35px]"},i9={key:1,class:"w-[35px] h-[35px] object-cover profile-background"},o9={class:"message-contents flex items-end"},s9={class:"message-info-wrapper flex flex-col mr-[5px]"},l9={key:0,class:"user-id m-h-[17px] w-[270px]"},u9=["src"],c9=["src"],d9={class:"message-deco-wrapper flex flex-col justify-end items-start w-full max-w-[70px] pl-[5px]"},h9={key:0,class:"read-count text-left"},p9={key:1,class:"date text-right"};function f9(e,t,n,a,r,i){var l,u;const o=U("kp-image"),s=U("kp-link");return k(),O("div",{class:ye(["chat-box-wrapper w-full",e.hasParent?"py-[0px] pl-[65px] pr-[20px]":"px-[20px]"])},[e.hasDayDecoration?(k(),O("div",VY,[C("div",YY,[M(o,{src:"images/icon/ico-chat-calendar.svg",class:"w-[15px] h-[15px] mr-[10px]"}),C("span",null,ee(e.dayPartition),1)])])):re("",!0),e.isLeaveOrEnter?(k(),O("div",zY,[C("div",WY,[C("span",null,[C("label",qY,ee(((l=e.compMessage)==null?void 0:l.username)??"알수 없음"),1),se(" "+ee(((u=e.compMessage)==null?void 0:u.messageType)===e.MessageType.ENTER?" 님이 참가하셨습니다.":" 님이 퇴장하셨습니다."),1)])])])):e.isMyMessage?(k(),O("div",ZY,[C("div",{class:ye(["flex items-end item-end flex-row-reverse",e.message.changeSender?"mt-[15px]":"mt-[10px]"])},[C("div",{class:ye(["message-wrapper px-[15px] py-[10px] max-w-[270px] rounded-[20px] break-all",e.messageTypeStyleCSS()])},[e.isFileMessage?(k(),fe(s,{key:0,class:"message file w-full h-full",link:"#","on-click":e.handleOpenFile},{default:ve(()=>[e.message.tempUuid?(k(),O("div",KY,[e.failSendMessage?(k(),fe(o,{key:1,class:"w-[80px] h-[80px]",src:"images/icon/file_error.svg"})):(k(),fe(o,{key:0,class:"w-[80px] h-[80px]",src:"images/icon/chat-load-icon.gif"}))])):(k(),O("div",XY,[e.message.messageType===e.MessageType.VIDEO?(k(),O("video",{key:0,class:"w-full h-full",src:e.message.messageBody},null,8,jY)):(k(),O("img",{key:1,class:"w-full h-full",src:e.message.messageBody},null,8,JY))]))]),_:1},8,["on-click"])):(k(),O("div",QY,ee(e.message.messageBody),1))],2),C("div",e9,[e.message.readCount>0?(k(),O("div",t9,ee(e.message.readCount),1)):re("",!0),e.message.isLastChild?(k(),O("div",n9,ee(e.msgViewDate),1)):re("",!0)])],2)])):(k(),O("div",a9,[C("div",{class:ye(["flex items-start flex-row",e.message.changeSender||e.isSingle?"mt-[15px]":"mt-[10px]"])},[e.hasParent?re("",!0):(k(),O("div",r9,[e.userProfileView?(k(),fe(o,{key:0,class:"w-[35px] h-[35px] object-cover rounded-[50%]",src:e.userProfileView},null,8,["src"])):(k(),O("div",i9,[M(o,{class:"w-[15px] h-[20px]",src:"images/common/base-profile.svg"})]))])),C("div",o9,[C("div",s9,[e.hasParent?re("",!0):(k(),O("div",l9,ee(e.message.username??"알수 없음"),1)),C("div",{class:ye(["message-wrapper flex m-h-[20px] w-[270px] break-all",[e.message.messageType.indexOf(e.MessageType.EMERGENCY)>-1?"emergency":"",e.hasParent?"mt-[0px]":"mt-[10px]"]])},[e.isFileMessage?(k(),fe(s,{key:0,class:ye(["message file px-[15px] py-[10px] rounded-[20px]",e.message.messageType.indexOf(e.MessageType.EMERGENCY)>-1?"emergency":""]),link:"#","on-click":e.handleOpenFile},{default:ve(()=>[e.message.messageType===e.MessageType.VIDEO?(k(),O("video",{key:0,class:"w-[100px] h-[100px]",src:e.message.messageBody},null,8,u9)):(k(),O("img",{key:1,class:"w-[100px] h-[100px]",src:e.message.messageBody,onLoad:t[0]||(t[0]=(...c)=>e.handleImageLoaded&&e.handleImageLoaded(...c))},null,40,c9))]),_:1},8,["on-click","class"])):(k(),O("div",{key:1,class:ye(["message whitespace-pre-line px-[15px] py-[10px] rounded-[20px]",e.message.messageType.indexOf(e.MessageType.EMERGENCY)>-1?"emergency":""])},ee(e.message.messageBody),3)),C("div",d9,[e.message.readCount>0?(k(),O("div",h9,ee(e.message.readCount),1)):re("",!0),e.message.isLastChild?(k(),O("div",p9,ee(e.msgViewDate),1)):re("",!0)])],2)])])],2)]))],2)}const v9=Se(HY,[["render",f9]]),g9=be({name:"ChatBoxList",components:{ChatBox:v9},props:{messageList:{type:Array,required:!1,default:[]},doLoadMore:{type:Function,default:()=>{}},hasMoreMessage:{type:Function,default:()=>!1},setImagePreview:{type:Function,default:e=>{}},setVideoPreview:{type:Function,default:e=>{}}},setup(e){const t=ze(),n=I(),a=ke(()=>e.messageList),r=ke(()=>t.state.resetScroll),i=I(0),o=I(!1);aE(n,()=>{if(e.doLoadMore&&e.hasMoreMessage())try{e.doLoadMore(),o.value=!0}catch(p){console.error(p)}},{distance:10,direction:"top"});const s=()=>{lt(()=>{var p;n.value&&(n.value.scrollTop=(p=n.value)==null?void 0:p.scrollHeight)})},l=()=>{var p;n.value&&(n.value.scrollTop=Number(((p=n.value)==null?void 0:p.scrollHeight)-i.value)??0)},u=()=>{var f;const p=(f=n.value)==null?void 0:f.scrollHeight;p&&(i.value=p)},c=()=>{lt(()=>{s()})},d=()=>{s()},h=p=>{};return He(r,()=>{lt(()=>{s()})}),Ue(()=>{window.addEventListener("resize",d),G().addEventListener(ge.MESSAGE_RECEIVED,c),lt(()=>{s(),u()})}),op(()=>{lt(()=>{o.value&&(l(),u(),o.value=!1)})}),ot(()=>{window.removeEventListener("resize",d),G().addEventListener(ge.MESSAGE_RECEIVED,c)}),{messageArea:n,compMessageList:a,handleChatOnLoad:h}}}),m9={ref:"messageArea",id:"message-area",class:"chat-message-list-wrapper overflow-x-hidden overflow-y-auto h-[calc(100vh_-_135px)] pb-[10px]"};function y9(e,t,n,a,r,i){const o=U("chat-box");return k(),O("div",m9,[(k(!0),O(Ie,null,gt(e.compMessageList,s=>(k(),O("div",{key:`${s.messageSeq}_${s.readCount}`},[M(o,{message:s,"set-image-preview":e.setImagePreview,"set-video-preview":e.setVideoPreview,"on-load":e.handleChatOnLoad},null,8,["message","set-image-preview","set-video-preview","on-load"])]))),128))],512)}const _9=Se(g9,[["render",y9]]),C9=be({name:"ChatUsersPopup",components:{KpLink:xt,KpImage:Xe},props:{closePopupHandler:{type:Function,default:()=>{}}},setup(e){const t=ze(),n=I(),a=I(),r=I(!1),i=ke(()=>xe(Ee.API_URL,t)),o=()=>{var p,f;Kr(xe(),{stateReg:hn.RESOLVE}).then(g=>{G().groupList=[];const v=g.data;for(const m of v){const y=new $r(m.channelIdx,m.channelToken,m.groupIdx,m.creatorInfo);y.emergencyTargetUserIdx=m.emergencyTargetUserIdx,G().groupList.push(y),y.doLoadData()}}).catch(g=>{throw g}),n.value=(p=G().getCurrentGroup())==null?void 0:p.userList,r.value=!0,a.value=(f=G().getCurrentGroup())==null?void 0:f.creatorInfo,s()},s=()=>{if(n.value){const p=[],f=Qt.exports.cloneDeep(n.value),g=f.find(y=>y.userIdx===H().userIdx);g&&(p.push(g),Qt.exports.remove(f,y=>y.userIdx===g.userIdx));const v=f.find(y=>{var _;return y.userIdx===((_=a.value)==null?void 0:_.userIdx)});v&&(p.push(v),Qt.exports.remove(f,y=>y.userIdx===v.userIdx));const m=f.find(y=>{var _;return y.userIdx===((_=G().getCurrentGroup())==null?void 0:_.emergencyTargetUserIdx)});m&&(p.push(m),Qt.exports.remove(f,y=>y.userIdx===m.userIdx)),l(f),p.push(...f),n.value=p}},l=p=>{p&&p.sort(function(f,g){const v=f.username.toUpperCase(),m=g.username.toUpperCase();return v.localeCompare(m,void 0,{numeric:!0,sensitivity:"base"})})},u=()=>{e.closePopupHandler(),t.dispatch(ft,et.NONE)},c=p=>a.value&&p.userIdx===a.value.userIdx,d=p=>{var f,g;return((f=G().getCurrentGroup())==null?void 0:f.emergencyTargetUserIdx)&&p.userIdx===((g=G().getCurrentGroup())==null?void 0:g.emergencyTargetUserIdx)},h=p=>dn(p)||"";return Ue(()=>{he().addEventListener(we.ENTER_CHANNEL_COMPLETE,o),he().addEventListener(we.REMOVE_USER,o),o()}),ot(()=>{u(),he().removeEventListener(we.ENTER_CHANNEL_COMPLETE,o),he().removeEventListener(we.REMOVE_USER,o)}),{isOpen:r,chatUserList:n,isCreator:c,profileResolver:h,isEmergencyUser:d,closePopup:u,doCall:()=>{var p,f,g;t.state.emergencyPhone!==""&&window.confirm("긴급 통화연결 대상에게 전화하시겠습니까?")&&(p=G().getCurrentGroup())!=null&&p.emergencyTargetUserIdx&&(f=G().getCurrentGroup())!=null&&f.emergencyTargetUserIdx&&i.value.post("/api/1/users/getUserInfoByIdx",{userIdx:(g=G().getCurrentGroup())==null?void 0:g.emergencyTargetUserIdx}).then(v=>{if(v.data.resultCode===0){if(v.data.data.tel){const m=v.data.data.tel.replace(/-/g,"");t.state.emergencyPhone!==m&&(t.commit(Jo,m),window.appInterface.setEmergencyNum(m)),window.appInterface.doCall(m)}}})}}}}),w9={class:"chat-users-wrapper w-[300px] h-screen absolute right-0 top-0 flex flex-col px-[20px]"},x9={class:"w-full pl-[5px] py-[23px] flex justify-between"},E9=C("span",{class:"title"},"그룹 정보",-1),b9={class:"user-profile-wrapper w-[40px] h-[40px] flex justify-center items-center mr-[5px]"},S9={key:0,class:"profile-background w-[30px] h-[30px] rounded-[50%]"},D9={class:"user-info-wrapper flex flex-col flex-1"},T9={class:"user-id mr-[10px] mb-[5px]"},I9={class:"user-etc"},A9={key:0,class:"creator w-[60px] h-[30px] text-center flex items-center justify-center rounded-[20px]"},k9=C("span",null,"사용자",-1),M9=[k9],L9=C("span",null,"긴급통화자",-1),R9=[L9];function O9(e,t,n,a,r,i){const o=U("kp-image"),s=U("kp-link"),l=U("kpImage"),u=U("portal");return e.isOpen?(k(),fe(u,{key:0,to:"chat-users",class:"chat-users-popup relative"},{default:ve(()=>[C("div",w9,[C("div",x9,[E9,M(s,{link:"#","on-click":e.closePopup},{default:ve(()=>[M(o,{class:"w-[25px] h-[25px]",src:"images/common/plus-icon.png"})]),_:1},8,["on-click"])]),(k(!0),O(Ie,null,gt(e.chatUserList,(c,d)=>(k(),O("div",{class:"user-wrapper flex items-center justify-between w-full mb-[15px]",key:d},[C("div",b9,[c.userProfile?(k(),fe(l,{key:1,class:"w-[30px] h-[30px] object-cover rounded-[50%]",src:e.profileResolver(c.userProfile)},null,8,["src"])):(k(),O("div",S9,[M(l,{class:"w-[15px] h-[20px]",src:"images/common/base-profile.svg"})]))]),C("div",D9,[C("span",T9,ee(c.username),1),C("span",I9,ee(c.userId),1)]),e.isCreator(c)?(k(),O("div",A9,M9)):e.isEmergencyUser(c)?(k(),O("div",{key:1,class:"emergency-user w-[80px] h-[30px] flex items-center justify-center rounded-[20px]",onClick:t[0]||(t[0]=Ka((...h)=>e.doCall&&e.doCall(...h),["stop","prevent"]))},R9)):re("",!0)]))),128))])]),_:1})):re("",!0)}const P9=Se(C9,[["render",O9]]),N9=be({name:"ChatBottom",components:{KpLink:xt,KpImage:Xe},props:{sendMessageHandler:{type:Function,required:!1},clickSubmitBtn:{type:Function,required:!1}},setup(e){const t=I(),n=I(!1),a=I(!1),r=I(!1),i=I(),o=I(),s=I(),l=w=>{t.value=w},u=w=>{let E=oe.TEXT;return w instanceof File?w.type.indexOf("image/")>-1?E=r.value?oe.EMERGENCY_IMAGE:oe.IMAGE:w.type.indexOf("video/")>-1&&(E=r.value?oe.EMERGENCY_VIDEO:oe.VIDEO):E=r.value?oe.EMERGENCY:oe.TEXT,E},c=w=>{const E=u(w);e.sendMessageHandler&&(e.sendMessageHandler({value:w,type:E}),a.value=!a.value,n.value=!1),t.value=""},d=()=>{c(t.value)},h=()=>{r.value=!r.value},p=()=>{var w;(w=i.value)==null||w.click()},f=w=>{const E=w.target;E.value=""},g=w=>{const E=w.target;if(!v(E)){window.alert("지원하지 않는 파일 형식입니다.");return}if(!m(E)){window.alert("제한된 크기(25MB)를 초과하였습니다.");return}c(E.files[0])},v=w=>{let E=!1;const x=["jpg","jpeg","png","gif","tiff","tiff"],S=["mp4","mov","avi"];try{if(w.files&&w.files.length>0){const b=w.files[0],D=b.type,T=b.size,A=b.name.split(".").pop();D.indexOf("image/")>-1&&A?E=x.includes(A):D.indexOf("video/")>-1&&A&&(E=S.includes(A))}}catch(b){console.log("e",b)}finally{return E}},m=w=>{let E=!1;const x=25*1024*1024;try{if(w.files&&w.files.length>0){const S=w.files[0],b=S.type,D=S.size,T=S.name.split(".").pop();E=D<x}}catch(S){console.log("e",S)}finally{return E}},y=()=>{const w=G().getCurrentGroup();w&&w.creatorInfo&&w.creatorInfo.userIdx&&(o.value=H().userIdx===w.creatorInfo.userIdx)},_=()=>{y()};return Ue(()=>{G().addEventListener(ge.LOAD_COMPLETE,_),y()}),ot(()=>{G().removeEventListener(ge.LOAD_COMPLETE,_)}),{textValue:t,hasText:n,isReRender:a,emergencyFlag:r,fileInput:i,creatorFlag:o,textAreaFocusFlag:s,doSubmit:c,handleClickSubmit:d,handleValueUpdate:l,handleClearFile:f,handleClickFile:p,handleClickEmergencyBtn:h,handleChangeFile:g}},methods:{handleKeyup(e){e.code==="Enter"&&(this.textValue+=`
`)},handleInput(e){const t=e.target.value;this.hasText=!!t,this.textValue=t},handleKeyDown(e){const a=e.target.value.match(/\n/g);if(a&&a.length+1>50&&e.key!=="Backspace"){e.preventDefault();return}},handleFocus(e){this.textAreaFocusFlag=!0},handleBlur(e){this.textAreaFocusFlag=!1}}}),B9={class:"chat-bottom w-screen fixed left-0 bottom-0 py-[15px]"},$9={class:"bottom-wrapper flex w-full h-full justify-between items-center px-[15px]"},U9={class:"input-wrapper inline-flex flex-1 relative pr-[15px]"},G9={key:0,class:"icons-wrapper absolute flex items-center left-0 h-[40px]"},F9=C("span",{class:"bar disable-text-selection ml-[16px] w-[1px] flex color-[#AAB1BB]"},"|",-1);function H9(e,t,n,a,r,i){const o=U("kp-image"),s=U("kp-link"),l=U("resize-textarea");return k(),O("div",null,[C("div",B9,[C("div",$9,[C("div",U9,[e.hasText?re("",!0):(k(),O("div",G9,[M(s,{link:"#","on-click":e.handleClickFile,class:"icon-wrapper h-full ml-[16px] flex"},{default:ve(()=>[e.emergencyFlag?(k(),fe(o,{key:0,class:"w-[20px] h-[20px] my-auto",src:"images/icon/ico-chat-file-white.svg"})):(k(),fe(o,{key:1,class:"w-[20px] h-[20px] my-auto",src:"images/icon/ico-chat-file.svg"}))]),_:1},8,["on-click"]),F9])),C("div",{class:ye(["text-area-wrapper w-full rounded-[20px] pr-[35px] py-[4px] min-h-[32px] flex items-center",{isFocus:e.textAreaFocusFlag,emergency:e.emergencyFlag}])},[(k(),fe(l,{key:e.isReRender,class:ye(["chat-input w-full rounded-[20px]",{hasText:e.hasText,emergency:e.emergencyFlag}]),rows:1,minHeight:32,maxHeight:70,maxlength:"500",modelValue:e.textValue,onBlur:e.handleBlur,onFocus:e.handleFocus,onInput:e.handleInput,onKeyup:e.handleKeyup,onKeydown:e.handleKeyDown},null,8,["modelValue","onBlur","onFocus","onInput","onKeyup","onKeydown","class"]))],2),C("input",{type:"file",ref:"fileInput",class:"w-[0] h-[0]",id:"messageFile",name:"messageFile",onChange:t[0]||(t[0]=(...u)=>e.handleChangeFile&&e.handleChangeFile(...u)),onClick:t[1]||(t[1]=(...u)=>e.handleClearFile&&e.handleClearFile(...u))},null,544),e.creatorFlag?(k(),fe(s,{key:1,link:"#","on-click":e.handleClickEmergencyBtn,class:"emergency-btn h-full px-[20px] absolute right-[10px] top-0 inline-flex items-center"},{default:ve(()=>[e.emergencyFlag?(k(),fe(o,{key:0,class:"object-cover w-[20px] h-[20px]",src:"images/icon/ico-chat-emergency-white.svg"})):(k(),fe(o,{key:1,class:"object-cover w-[20px] h-[20px]",src:"images/icon/ico-chat-emergency.svg"}))]),_:1},8,["on-click"])):re("",!0)]),M(s,{link:"#",class:"flex","on-click":e.handleClickSubmit},{default:ve(()=>[M(o,{class:"w-[25px] h-[25px]",src:"images/icon/ico-chat-arrow.svg"})]),_:1},8,["on-click"])])])])}const V9=Se(N9,[["render",H9]]),Y9=be({name:"ChatDetail",components:{KpButton:yt,ChatBottom:V9,ChatBoxList:_9,ChatUsersPopup:P9,KpLink:xt,KpImage:Xe},props:{},setup(e){const t=ze(),n=nt(),a=Vt(),r=I(),i=I([]),o=I(!1),s=I(),l=I(),u=I(),c=I(),d=I(0),h=I(null),p=$=>{var ae,Z;if(!r.value)return;const W=$.detail;W.senderIdx===H().userIdx&&(delete W.senderIdx,(ae=r.value)==null||ae.addUnloadMessage(W),i.value=(Z=r.value)==null?void 0:Z.messageList)},f=($,W)=>{if(r.value||(r.value=G().getCurrentGroup()),!!W&&r.value)switch($){case oe.TEXT:case oe.EMERGENCY:case oe.EMERGENCY_ALARM:const ae={messageBody:W,messageType:$,tempUuid:Vd()};r.value.addUnloadMessage(ae),i.value=r.value.messageList,G().sendChatMessage(ae),t.dispatch(Vl);break;case oe.IMAGE:case oe.VIDEO:case oe.EMERGENCY_IMAGE:case oe.EMERGENCY_VIDEO:const Z={messageBody:W,messageType:$,tempUuid:Vd()};r.value.addUnloadMessage(Z),i.value=r.value.messageList,G().sendChatMessage(Z),t.dispatch(Vl);break;case oe.ERROR:break}},g=()=>{var $;return(r.value&&i.value.length<(($=r.value)==null?void 0:$.totalCount))??!1},v=()=>{var W,ae;const $={messageChannelIdx:(W=r.value)==null?void 0:W.channelIdx,pagingKey:(ae=r.value)==null?void 0:ae.pagingKey};wE(xe(),$).then(Z=>{if(r.value){const ne=Z.data,Y=[];for(let q=ne.length-1;q>=0;q--)Y.push(r.value.toMessageDto(ne[q]));r.value.messageList=Y,i.value=r.value.messageList,lt(()=>{r.value&&(r.value.calculateReadCount(),r.value.makeDayPartition(),r.value.makeDecorationMarker(),r.value.increasePagingKey(),r.value.totalCount=Z.totalCount)})}}).catch(Z=>{throw Z})},m=()=>{var $;return G().quitChannel(($=r.value)==null?void 0:$.channelIdx)},y=$=>{var W;if(((W=r.value)==null?void 0:W.channelIdx)===$){const ae=G().getGroupByChannelIdx($);if(ae){const Z=s.value.messageArea,ne=Z.clientHeight+Z.scrollTop===Z.scrollHeight;i.value=ae.messageList,lt(()=>{ne&&(Z.scrollTop=Z.scrollHeight)})}}},_=$=>{const W=$.detail;y(W)},w=$=>{const W=$.detail;r.value&&r.value.channelIdx===W&&(r.value.calculateReadCount(),y(W))},E=$=>{const W=$.detail;r.value&&r.value.channelIdx===W&&(y(W),r.value.calculateReadCount())},x=$=>{const W=$.detail;r.value&&r.value.channelIdx===W&&n.push({path:"/"})},S=$=>{var Z,ne;const W=$.detail,ae=W.channelIdx;W.userIdx,r.value&&((Z=r.value)==null?void 0:Z.channelIdx)===ae&&(i.value=G().getGroupByChannelIdx(ae).messageList,(ne=r.value)==null||ne.calculateReadCount())},b=()=>{P(),lt(()=>{var ae;const $=a.params.id,W=G().getGroup($);W&&(G().setCurrentChannel(W.channelIdx),r.value=G().getCurrentGroup(),(ae=r.value)!=null&&ae.messageList&&(i.value=r.value.messageList))})},D=$=>{const W=$.detail,ae=W.channelIdx;W.userIdx?window.alert("돌봄 그룹에서 제외 되었습니다."):window.alert("연결된 기기 사용자의 계정이 삭제되었습니다. 새로운 기기 사용자의 연결이 필요합니다."),r.value&&r.value.channelIdx===ae&&n.push({path:"/"})},T=()=>{H().userType!==De.MANAGER?n.replace({path:"/"}):a.query.redirect&&a.query.redirect==="chat-list"?n.replace("/chat-list"):n.replace({path:"/"})},A=()=>{l.value=!0,t.dispatch(ft,et.CHAT_USERS)},L=()=>{l.value=!1,P()},P=()=>{r.value=G().getCurrentGroup()},N=$=>{f($.type,$.value)},B=$=>{$&&(c.value=void 0),u.value=$},K=$=>{$&&(u.value=void 0),c.value=$},ce=()=>{u.value=void 0,c.value=void 0};return P(),He(()=>G().currentGroupIdx,($,W)=>{(!W||$!==W)&&(G().currentChannelIdx||n.push({path:"/"}))}),He(()=>u.value,()=>{var $;h.value&&(d.value=(($=h.value)==null?void 0:$.scrollHeight)+160)}),Ue(()=>{var $,W,ae,Z;G().addEventListener(ge.MESSAGE_RECEIVED,_),G().addEventListener(ge.USER_JOIN,w),G().addEventListener(ge.USER_ENTER,E),G().addEventListener(ge.LEAVE_CHANNEL,x),G().addEventListener(ge.KICKED,D),G().addEventListener(ge.REMOVE_USER,S),G().addEventListener(ge.UPDATE,_),G().addEventListener(ge.LOAD_COMPLETE,b),G().addEventListener(ge.SEND_EMERGENCY_ALARM,p),($=r.value)==null||$.calculateReadCount(),(W=r.value)==null||W.makeDayPartition(),(ae=r.value)==null||ae.makeDecorationMarker(),r.value&&(i.value=(Z=r.value)==null?void 0:Z.messageList,lt(()=>{var ne;y(((ne=r.value)==null?void 0:ne.channelIdx)??"")}));try{P(),Ui().launchChat()}catch(ne){throw ne}}),ot(()=>{G().removeEventListener(ge.MESSAGE_RECEIVED,_),G().removeEventListener(ge.REMOVE_USER,S),G().removeEventListener(ge.USER_ENTER,E),G().removeEventListener(ge.LEAVE_CHANNEL,S),G().removeEventListener(ge.KICKED,D),G().removeEventListener(ge.USER_JOIN,w),G().removeEventListener(ge.LOAD_COMPLETE,b),G().removeEventListener(ge.UPDATE,_),G().removeEventListener(ge.SEND_EMERGENCY_ALARM,p),m(),G().changeCurrentChannelIdx(void 0),$i()}),{previewWrapper:h,scrollHeight:d,currentChannel:r,curMessageList:i,messageArea:s,isWritingFlag:o,isOpenPopup:l,imagePreviewSrc:u,videoPreviewSrc:c,doLoadMoreMessage:v,hasMoreMessage:g,onClickBack:T,handleClickHeaderIcon:A,handleSendMessage:N,handleClosePopup:L,setImagePreview:B,setVideoPreview:K,handleCloseFilePreview:ce,openMedia:()=>{let $=u.value||c.value;$&&window.appInterface.openImageToBrowser($)},buttonStr:()=>{let $=u.value||c.value;return $&&$.slice($.length-4,$.length)===".avi"?"다운로드":"크게 보기"}}}}),z9={class:"chat-detail-wrapper relative"},W9={key:0,class:"chat-header-wrapper fixed flex left-0 top-0 w-full h-[65px] items-center z-[100] px-[20px]"},q9={class:"chat-header w-full flex flex-row content-center items-center"},Z9={class:"flex flex-row content-center"},K9=C("div",{class:"chat-header-title w-full flex text-center items-center justify-center"},"그룹 채팅",-1),X9={class:"flex max-w-full flex-row content-center"},j9={class:"chat-message-area-wrapper w-full pt-[65px]"},J9={key:0},Q9={key:2,class:"src-wrapper w-screen h-screen absolute top-0 left-0 flex items-center flex-col z-[101]"},ez={class:"w-full h-[80px] min-h-[80px] flex items-center justify-end px-[25px] z-[101]"},tz={style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex","flex-direction":"column","justify-content":"center"}},nz={ref:"previewWrapper",class:"inline-flex justify-center flex-col"},az=["src"];function rz(e,t,n,a,r,i){const o=U("kpImage"),s=U("kpLink"),l=U("kp-image"),u=U("kp-link"),c=U("ChatBoxList"),d=U("chat-bottom"),h=U("chat-users-popup"),p=U("kp-button");return k(),O("div",z9,[!e.imagePreviewSrc&&!e.videoPreviewSrc?(k(),O("div",W9,[C("div",q9,[C("div",Z9,[M(s,{class:"w-[13px] min-w-[13px] h-[20px] min-h-[20px]",link:"#",onClick:e.onClickBack},{default:ve(()=>[M(o,{class:"w-full h-full",src:"images/common/icon-back.svg"},null,8,["src"])]),_:1},8,["onClick"])]),K9,C("div",X9,[M(u,{class:"w-[25px]",link:"#","on-click":e.handleClickHeaderIcon},{default:ve(()=>[M(l,{class:"h-[25px]",src:"images/icon/ico-people.svg"})]),_:1},8,["on-click"])])])])):re("",!0),C("div",j9,[e.currentChannel?(k(),O("div",J9,[(k(),fe(c,{ref:"messageArea","message-list":e.curMessageList,"do-load-more":e.doLoadMoreMessage,"has-more-message":e.hasMoreMessage,"set-image-preview":e.setImagePreview,"set-video-preview":e.setVideoPreview,key:e.currentChannel.channelIdx},null,8,["message-list","do-load-more","has-more-message","set-image-preview","set-video-preview"]))])):re("",!0)]),M(d,{"send-message-handler":e.handleSendMessage},null,8,["send-message-handler"]),e.isOpenPopup?(k(),fe(h,{key:1,"close-popup-handler":e.handleClosePopup},null,8,["close-popup-handler"])):re("",!0),e.imagePreviewSrc||e.videoPreviewSrc?(k(),O("div",Q9,[C("div",ez,[M(u,{link:"#","on-click":e.handleCloseFilePreview},{default:ve(()=>[M(l,{class:"w-[40px] h-[40px]",src:"images/common/plus-icon-white.svg"})]),_:1},8,["on-click"])]),C("div",tz,[C("div",nz,[e.imagePreviewSrc?(k(),fe(l,{key:0,src:e.imagePreviewSrc,class:"max-w-[calc(100vw_-_40px)] max-h-[calc(100vh_-_300px)] object-contain mb-[30px]"},null,8,["src"])):re("",!0),e.videoPreviewSrc?(k(),O("video",{key:1,src:e.videoPreviewSrc,autoplay:"true",controls:"true",class:"max-w-[calc(100vw_-_40px)] max-h-[40%] w-auto h-auto object-contain"},null,8,az)):re("",!0)],512),M(p,{class:"w-[80%] mt-[30px] m-auto","on-click":e.openMedia},{default:ve(()=>[se(ee(e.buttonStr()),1)]),_:1},8,["on-click"])])])):re("",!0)])}const iz=Se(Y9,[["render",rz]]);var Sx=(e=>(e.GROUP="group",e.TARGET="target",e.ALARM="alarm",e.APPALARM="app-alarm",e.BRIEF="brief",e.MEDICINE="medicine",e.EXERCISE="exercise",e.AIHELP="ai-help",e.LOGOUT="logout",e))(Sx||{});const oz=be({name:"SettingMenu",components:{KpLink:xt,KpImage:Xe,KpButton:yt,LayoutHeader:Ct},setup:function(){const e="설정",t=ze(),n=Vt(),a=xe(Ee.API_URL,t),r=nt(),i=I(null),o=I(),s=I(),l=I(),u=I(),c=I([{type:"group",name:"돌봄 그룹 설정",hasArrow:!0},{type:"logout",name:"로그아웃",hasArrow:!1}]),d=v=>{switch(v){case"group":r.push({path:"/setting/group"});break;case"target":window.appInterface.getConnectedStatus(),r.push({path:"/setting/target"});break;case"alarm":window.appInterface.getConnectedStatus(),r.push({path:"/setting/alarm"});break;case"app-alarm":window.appInterface.openAppNotifications();break;case"brief":window.appInterface.openMorningBriefSettings();break;case"ai-help":window.appInterface.openAISettings();break;case"medicine":window.appInterface.medicineSettings();break;case"exercise":window.appInterface.exerciseSettings();break;case"logout":window.confirm("로그아웃 하시겠습니까?")&&h();break}},h=()=>{t.commit(Kt,""),t.commit(Xa,De.USER);try{window.appInterface.disconnectDevice()}catch(v){console.error(v)}xE(),Xr(),Qo(t),r.replace("/login")},p=()=>{r.push({path:"/private"})},f=()=>{const v=Bt(Fe.CONST.LOGIN_USER);v&&(i.value=JSON.parse(v))},g=()=>{i.value&&a.post("/api/1/users/me",{userIdx:i.value.userIdx}).then(v=>{if(v.data.resultCode!==0)window.alert(v.data.resultMsg);else{o.value=v.data.data.userName,s.value=v.data.data.userId,l.value=dn(v.data.data.userProfile),i.value&&na(Fe.CONST.LOGIN_USER,JSON.stringify(Object.assign(v.data.data,{token:i.value.token})));const m=H();m&&(o.value=m.userName,s.value=m.userId,u.value=m.userType===De.MANAGER,m.userProfile&&(l.value=dn(m.userProfile)),m.userType===De.USER?c.value=[{type:"group",name:"돌봄 그룹 설정",hasArrow:!0},{type:"logout",name:"로그아웃",hasArrow:!1}]:m.userType===De.USER_DEVICE&&(c.value=[{type:"group",name:"돌봄 그룹 설정",hasArrow:!0},{type:"target",name:"목표 설정",hasArrow:!0},{type:"alarm",name:"경고 알림 설정",hasArrow:!0},{type:"app-alarm",name:"앱 알림 설정",hasArrow:!0},{type:"medicine",name:"복약 알림 설정",hasArrow:!0},{type:"exercise",name:"운동 알림 설정",hasArrow:!0},{type:"brief",name:"모닝 브리핑 설정",hasArrow:!0},{type:"ai-help",name:"AI 어시스턴트 설정",hasArrow:!0},{type:"logout",name:"로그아웃",hasArrow:!1}]))}})};return xu(()=>{f(),g()}),{store:t,route:n,router:r,headerTitle:e,isManager:u,username:o,userId:s,settingListPrototype:c,PROFILE_TYPE:Eu,SETTING_TYPE:Sx,userProfile:l,handleClickUserInfo:p,handleClickSetting:d}}}),sz={class:"setting-menu-wrapper scroll-body w-full inline-flex flex-col"},lz={class:"user-wrapper w-full h-[100px] mx-auto mt-[30px]"},uz={class:"h-full flex items-center mr-[20px] w-[60px]"},cz={key:0,class:"w-[60px] h-[60px] rounded-[50%] profile-background"},dz={class:"flex flex-col w-[calc(100%_-_100px)]"},hz={class:"user-name mb-[5px] truncate"},pz={class:"user-id"},fz={class:"flex items-center justify-end w-[20px]"},vz={key:0,class:"setting-wrapper flex flex-col items-center w-full"},gz={class:"setting-area w-full h-full flex justify-between items-center rounded-[10px] px-[20px]"},mz={class:"flex-1"};function yz(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-image"),l=U("kpImage"),u=U("kp-link");return k(),O(Ie,null,[M(o,{title:e.headerTitle,"is-disabled-back":!0},null,8,["title"]),C("div",sz,[C("div",lz,[M(u,{class:ye(["user-area mx-[20px] h-[100px] px-[20px] flex flex-nowrap justify-between items-center rounded-[10px]",{"!mx-[60px]":e.isManager}]),link:"#","on-click":e.handleClickUserInfo},{default:ve(()=>[C("div",uz,[e.userProfile?(k(),fe(s,{key:1,class:"w-[60px] h-[60px] object-cover rounded-[50%]",src:e.userProfile},null,8,["src"])):(k(),O("div",cz,[M(s,{class:"w-[25px] h-[30px]",src:"images/common/base-profile.svg"})]))]),C("div",dz,[C("span",hz,ee(e.username),1),C("span",pz,ee(e.userId),1)]),C("div",fz,[M(l,{class:"rotate-180 w-[10px] h-[15px]",src:"images/common/icon-back.svg"},null,8,["src"])])]),_:1},8,["class","on-click"])]),e.userId?(k(),O("div",vz,[(k(!0),O(Ie,null,gt(e.settingListPrototype,(c,d)=>(k(),fe(u,{link:"#","on-click":()=>e.handleClickSetting(c.type),key:d,class:ye(["setting-link-area w-full h-[60px] mt-[15px] mx-[20px] px-[20px]",{"px-[60px]":e.isManager}])},{default:ve(()=>[C("div",gz,[M(s,{class:"w-[25px] h-[25px] mr-[10px]",src:`images/icon/ico-setting-${c.type}.svg`},null,8,["src"]),C("span",mz,ee(c.name),1),c.hasArrow?(k(),fe(l,{key:0,class:"rotate-180 w-[10px] h-[15px]",src:"images/common/icon-back.svg"},null,8,["src"])):re("",!0)])]),_:2},1032,["on-click","class"]))),128))])):re("",!0)])],64)}const _z=Se(oz,[["render",yz]]),Cz=be({name:"FindUserPopup",components:{KpLink:xt,KpImage:Xe},props:{userInfo:{type:Object,required:!1},doInviteUser:{type:Function,default:()=>{}},doCancelUser:{type:Function,default:()=>{}}},setup(e){const t=ze(),n=I(),a=I(!1),r=()=>{e.userInfo&&(a.value=!0,n.value=e.userInfo)},i=o=>dn(o)||"";return Ue(()=>{r()}),ot(()=>{t.dispatch(ft,et.NONE)}),{isOpen:a,findUser:n,profileResolver:i}}}),wz={class:"find-user-wrapper absolute bg-white max-w-[315px] w-[315px] h-[240px] left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] p-[20px] rounded-[10px] flex flex-col justify-between"},xz={key:0,class:"user-info-wrapper w-full flex flex-col items-center justify-start"},Ez={key:1,class:"profile-background w-[60px] h-[60px] mb-[10px]"},bz={class:"user-name w-full text-center truncate"},Sz={class:"user-id mt-[15px]"},Dz={class:"flex justify-between items-center w-full"},Tz=C("div",{class:"w-full text-center align-middle text-[#FF3131]"},"취소",-1),Iz=C("div",{class:"w-full text-center align-middle text-[#ffffff]"},"연결신청",-1);function Az(e,t,n,a,r,i){const o=U("kp-image"),s=U("kp-link"),l=U("portal");return e.isOpen?(k(),fe(l,{key:0,to:"find-user-popup"},{default:ve(()=>[C("div",wz,[e.findUser?(k(),O("div",xz,[e.findUser.userProfile?(k(),fe(o,{key:0,class:"w-[60px] h-[60px] object-cover mb-[15px] rounded-[50%]",src:e.profileResolver(e.findUser.userProfile)},null,8,["src"])):(k(),O("div",Ez,[M(o,{class:"w-[25px] h-[30px]",src:"images/common/base-profile.svg"})])),C("div",bz,ee(e.findUser.username),1),C("div",Sz,ee(e.findUser.userId),1)])):re("",!0),C("div",Dz,[M(s,{link:"#","on-click":e.doCancelUser,class:"bg-[#FF31311A] w-[130px] h-[50px] rounded-[25px] flex items-center"},{default:ve(()=>[Tz]),_:1},8,["on-click"]),M(s,{link:"#","on-click":e.doInviteUser,class:"bg-[#466FFF] w-[130px] h-[50px] rounded-[25px] flex items-center"},{default:ve(()=>[Iz]),_:1},8,["on-click"])])])]),_:1})):re("",!0)}const kz=Se(Cz,[["render",Az]]),Mz=be({name:"GroupEmergencyChangePopup",components:{KpButton:yt,KpLink:xt,KpImage:Xe,Portal:wu},props:{userList:{type:Array,required:!1},currentTargetIdx:{type:String,default:""},changeEmergencyHandler:{type:Function,required:!1},cancelHandler:{type:Function,required:!1}},setup(e){const t=ze(),n=I(),a=I(!1),r=ke(()=>e.currentTargetIdx),i=I(""),o=I(""),s=()=>{e.userList&&(n.value=e.userList,u())},l=(c,d)=>{i.value=c,o.value=d},u=()=>{var c,d;r.value!==""&&(i.value=((c=n.value)==null?void 0:c.filter(h=>h.userIdx===r.value)[0].userIdx)??"",o.value=((d=n.value)==null?void 0:d.filter(h=>h.userIdx===r.value)[0].groupIdx)??"")};return He(()=>r.value,()=>{u()}),Ue(()=>{s()}),ot(()=>{t.dispatch(ft,et.NONE)}),{isOpen:a,groupUserList:n,selectUser:i,handleChangeEmergencyUser:l,disabledSubmit:ke(()=>i.value===""||o.value===""),handleChangeEmergency:()=>{i.value!==""&&o.value!==""&&e.changeEmergencyHandler&&e.changeEmergencyHandler(i.value,o.value)}}}}),Lz={class:"group-users-emergency-wrapper absolute bg-white max-w-[315px] w-[315px] h-[340px] left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] p-[20px] rounded-[10px] flex flex-col justify-between"},Rz={class:"h-full overflow-y-scroll"},Oz={class:"flex items-center justify-start w-[55px] min-w-[55px] h-[50px]"},Pz={key:0,class:"profile-background w-[40px] h-[40px]"},Nz={class:"text-wrapper flex-1"},Bz={class:"user-name mr-[10px]"},$z={class:"user-id text-[#999999]"},Uz={class:"flex items-center justify-end w-[60px] h-[50px]"},Gz={class:"btn-wrapper flex justify-between items-center w-full"},Fz=se("취소"),Hz=se("변경");function Vz(e,t,n,a,r,i){const o=U("kp-image"),s=U("kpImage"),l=U("kp-link"),u=U("kp-button"),c=U("portal");return k(),fe(c,{to:"group-users-emergency"},{default:ve(()=>[C("div",Lz,[C("div",Rz,[(k(!0),O(Ie,null,gt(e.groupUserList,d=>(k(),O("div",{key:`${d.userIdx}_${new Date().getTime()}`,class:"user-info-wrapper flex flex-col justify-evenly"},[M(l,{link:"#","on-click":()=>e.handleChangeEmergencyUser(d.userIdx,d.groupIdx),class:"mb-[15px] h-[50px] flex items-center justify-between"},{default:ve(()=>[C("div",Oz,[d.imgSrc==="images/common/base-profile.svg"?(k(),O("div",Pz,[M(o,{class:"w-[20px] h-[25px] object-contain",src:"images/common/base-profile.svg"})])):d.imgSrc?(k(),fe(o,{key:1,class:"w-[40px] h-[40px] rounded-[50%] object-cover",src:d.imgSrc},null,8,["src"])):re("",!0)]),C("div",Nz,[C("span",Bz,ee(d.username),1),C("span",$z,ee(d.ext),1)]),C("div",Uz,[d.userIdx===e.selectUser?(k(),fe(s,{key:0,src:"images/common/check-icon.png",class:"w-[20px] h-[15px]"},null,8,["src"])):re("",!0)])]),_:2},1032,["on-click"])]))),128))]),C("div",Gz,[M(u,{"is-secondary":"","on-click":e.cancelHandler},{default:ve(()=>[Fz]),_:1},8,["on-click"]),M(u,{"is-disabled":e.disabledSubmit,"on-click":e.handleChangeEmergency},{default:ve(()=>[Hz]),_:1},8,["is-disabled","on-click"])])])]),_:1})}const Yz=Se(Mz,[["render",Vz]]);H()&&H().groupIdx,H()&&H().userIdx,H()&&H().messageChannelIdx;const zz=be({name:"SettingGroup",components:{GroupEmergencyChangePopup:Yz,FindUserPopup:kz,KpLink:xt,Profile:cb,KpInput:Ta,KpButton:yt,KpImage:Xe,LayoutHeader:Ct},setup:function(){const e=ze(),t=Vt(),n=nt(),a=I(),r=I(),i=I([]),o=I([]),s=I(),l=I(),u=I(),c=I(!1),d=I(!1),h="돌봄 그룹 설정",p=N=>{if(f(N)){if(N===H().userId){window.alert("내 아이디입니다.");return}SE(xe(),{userId:N,userIdx:H().userIdx}).then(B=>{if(B.data){s.value=B.data,e.dispatch(ft,et.GROUP_FIND_USER);const ce=document.querySelector("input");ce&&ce.blur()}}).catch(B=>{B==="msg.STATE_PENDING"?window.alert("연결 신청이 완료된 사용자입니다."):B==="msg.STATE_RESOLVE"?window.alert("돌봄 그룹에 추가된 사용자입니다."):B==="msg.RESULT_USER_NOT_FOUND"?window.alert("등록되지 않거나 탈퇴한 계정입니다."):B==="msg.REQUEST_TO_USERDEVICE_TYPE"?window.alert("사용자는 등록할 수 없습니다."):console.log("e",B)})}},f=N=>N&&N.trim()!=="",g=()=>{var B;let N=(B=s.value)==null?void 0:B.userIdx;N&&DE(xe(),{userIdx:N}).then(K=>{o.value=[],i.value=[],x(K.data.creatorList),E(K.data.userList),N&&ME(xe(),{targetUserIdx:N}),a.value=void 0,v(),e.dispatch(ft,et.NONE)}).catch(K=>{window.alert(K),e.dispatch(ft,et.NONE)})},v=()=>{s.value=void 0,e.dispatch(ft,et.NONE)},m=()=>{kE(xe(),{}).then(N=>{if(l.value=[],N.data.userList.length>0){for(const B of N.data.userList)l.value.push({userIdx:B.userIdx,username:B.username,ext:B.userId,imgSrc:dn(B.userProfile)??"images/common/base-profile.svg",stateReg:B.stateReg,groupIdx:B.groupIdx,messageChannelIdx:B.messageChannelIdx});e.dispatch(ft,et.GROUP_EMERGENCY_CHANGE)}else window.alert("긴급통화 연결 대상이 없습니다.")}).catch(N=>console.log(N))},y=()=>{_(),w(),S()},_=()=>{Sy(xe(),{}).then(N=>{const B=N.data.emergencyUserInfo;if(B&&B.length>0){const K=B[0],ce=K.userProfile;let $;if(ce){const W=JSON.parse(ce);$=Ee.FILE_SERVER+W[0].savedName}r.value={userIdx:K.userIdx,username:K.userName,ext:K.userId,imgSrc:$??"images/common/base-profile.svg"}}else r.value=void 0}).catch(N=>{N==="msg.RESULT_NOT_FOUND_GROUP"?c.value=!1:console.log(N)})},w=()=>{EE(xe(),{}).then(N=>{o.value=[],i.value=[],E(N.data.userList),x(N.data.creatorList),Kr(xe(),{stateReg:hn.RESOLVE,noCache:!0}).then(async B=>{const K=B.data;await G().updateGroupList(K)}).catch(B=>{throw B})}).catch(N=>console.log(N))},E=N=>{for(const B of N)B.userIdx!==H().userIdx&&B.stateReg!==hn.REJECT&&o.value.push({userIdx:B.userIdx,username:B.username,ext:B.userId,imgSrc:dn(B.userProfile)??"images/common/base-profile.svg",stateReg:B.stateReg,groupIdx:B.groupIdx,messageChannelIdx:B.messageChannelIdx,isSlave:!0})},x=N=>{for(const B of N)B.creatorIdx!==H().userIdx&&B.stateReg===hn.RESOLVE&&i.value.push({userIdx:B.creatorIdx,username:B.creatorName,ext:B.creatorId,imgSrc:dn(B.creatorProfile)??"images/common/base-profile.svg",stateReg:B.stateReg,groupIdx:B.groupIdx,messageChannelIdx:B.messageChannelIdx})},S=()=>{IE(xe(),{stateReg:hn.PENDING}).then(N=>{b(N.data.requestList)}).catch(N=>console.log(N))},b=N=>{u.value=[];for(const B of N)B.creatorIdx!==H().userIdx&&u.value.push({userIdx:B.creatorIdx,imgSrc:dn(B.creatorProfile)??"images/common/base-profile.svg",username:B.creatorName,ext:B.creatorId,groupIdx:B.groupIdx,messageChannelIdx:B.messageChannelIdx})},D=N=>{console.warn("handleAcceptJoinRequest"),b(N),w()},T=()=>{w(),_()},A=(N,B)=>{var ce;if(((ce=r.value)==null?void 0:ce.userIdx)===N)return;const K={emergencyTargetUserIdx:N,groupIdx:B};TE(xe(),K).then($=>{L($.data.emergencyTargetUserIdx),e.dispatch(ft,et.NONE)}).catch($=>{console.log($),e.dispatch(ft,et.NONE)})},L=N=>{const B=o.value.find(ce=>ce.userIdx===N);B&&(r.value={userIdx:B.userIdx,username:B.username,ext:B.ext,imgSrc:B.imgSrc});const K=G().getMyGroup();K&&(B?K.emergencyTargetUserIdx=B.userIdx:K.emergencyTargetUserIdx=null)},P=()=>{(()=>window.history.length>2)()?n.back():n.push({path:"/"})};return Ue(()=>{c.value=H()&&H().userType==="USER_DEVICE",d.value=H()&&H().userType==="MANAGER",y()}),ot(()=>{}),{store:e,route:t,router:n,searchID:a,emergencyTargetUser:r,myGroupUserList:o,otherGroupUserList:i,searchUserInfo:s,emergencyCandidateList:l,isDeviceUser:c,groupJoinRequestList:u,headerTitle:h,isManager:d,PROFILE_TYPE:Eu,doSearchUser:p,handleRemoveGroup:T,doInviteUser:g,doClearUser:v,groupUserListHandler:m,handleAcceptJoinRequest:D,addJoinGroupRequestList:b,changeEmergencyHandler:A,closeEmergencyHandler:()=>{e.dispatch(ft,et.NONE)},goBack:P}},methods:{handleKeyup(e){e.key==="Enter"&&this.doSearchUser(this.searchID)}}}),Wz={class:"group-wrapper box-wrapper flex flex-col w-full px-[20px] gap-[20px] pt-[30px] pb-[90px]"},qz={key:0,class:"search-user-wrapper flex flex-col px-[20px] rounded-[10px]"},Zz=C("div",{class:"notice flex flex-col justify-center items-center py-[20px]"},[C("span",null,"사용자 ID를 검색해 돌봄 그룹에"),se(),C("span",null,"보호자를 추가할 수 있습니다.")],-1),Kz={class:"search_bar relative h-[50px] rounded-[25px] mb-[30px]"},Xz={class:"absolute left-0 top-0 h-[48px] ml-[1px] my-[1px] rounded-l-[25px] flex justify-center items-center"},jz={key:1,class:"group-list-wrapper box-wrapper px-[20px] rounded-[10px]"},Jz={class:"title-wrapper py-[20px] flex"},Qz=C("span",{class:"title"},"내 돌봄 그룹원",-1),eW={key:0},tW={key:1,class:"empty mb-[20px]"},nW=C("span",null,"연결된 돌봄 그룹원이 없습니다.",-1),aW=C("br",null,null,-1),rW=C("span",null,"아이디를 검색해 돌봄 그룹을 연결해주세요.",-1),iW=[nW,aW,rW],oW={class:"join-request-wrapper box-wrapper flex flex-col rounded-[10px]"},sW={class:"px-[20px]"},lW={class:"title-wrapper py-[20px] flex"},uW=C("span",{class:"title"},"연결 신청 수신함",-1),cW={key:0},dW={key:1,class:"empty flex justify-between mb-[20px]"},hW=C("span",null,"승인 대기중인 연결 신청이 없습니다.",-1),pW=[hW],fW={class:"group-list-wrapper box-wrapper px-[20px] rounded-[10px]"},vW={class:"title-wrapper py-[20px] flex"},gW={class:"title"},mW={key:0},yW={key:1,class:"empty mb-[20px]"},_W=C("span",null,"연결된 돌봄 그룹이 없습니다.",-1),CW=C("br",null,null,-1),wW=C("span",null,"기기 사용자에게 그룹 연결을 요청해주세요.",-1),xW=C("br",null,null,-1),EW=C("span",{class:"desc"},"* 기기 사용자 > 설정 > 돌봄그룹설정 > 아이디 검색 > 연결신청",-1),bW=[_W,CW,wW,xW,EW];function SW(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-image"),l=U("kpInput"),u=U("profile"),c=U("Profile"),d=U("find-user-popup"),h=U("group-emergency-change-popup");return k(),O(Ie,null,[M(o,{title:e.headerTitle,"direct-redirection":e.goBack},null,8,["title","direct-redirection"]),C("div",Wz,[e.isDeviceUser?(k(),O("div",qz,[Zz,C("div",Kz,[C("div",Xz,[M(s,{class:"h-[20px] w-[20px]",src:"images/icon/ico-search.svg"})]),M(l,{class:"kp-input w-full h-full pl-[65px] pr-[30px] py-2 mr-[10px] rounded-[25px]",placeholder:"아이디 검색","model-value":e.searchID,onKeyup:e.handleKeyup,"onUpdate:modelValue":t[0]||(t[0]=p=>e.searchID=p)},null,8,["model-value","onKeyup"])])])):re("",!0),e.isDeviceUser?(k(),O("div",jz,[C("div",Jz,[M(s,{class:"w-[20px] h-[20px] mr-[10px] ml-[5px]",src:"images/icon/ico-people.svg"}),Qz]),e.myGroupUserList.length>0?(k(),O("div",eW,[(k(!0),O(Ie,null,gt(e.myGroupUserList,p=>(k(),O("div",{key:`${p.userIdx}_${p.groupIdx}_${p.stateReg}`},[p?(k(),fe(u,{key:0,"profile-type":e.PROFILE_TYPE.MY_GROUP_LIST,"user-info":p,"callback-handler":e.handleRemoveGroup},null,8,["profile-type","user-info","callback-handler"])):re("",!0)]))),128))])):(k(),O("div",tW,iW))])):re("",!0),C("div",oW,[C("div",sW,[C("div",lW,[M(s,{class:"w-[25px] h-[20px] mr-[10px] ml-[5px]",src:"images/icon/ico-link.svg"}),uW]),e.groupJoinRequestList&&e.groupJoinRequestList.length>0?(k(),O("div",cW,[(k(!0),O(Ie,null,gt(e.groupJoinRequestList,p=>(k(),O("div",{key:`${p.userIdx}_${new Date().getTime()}`},[(k(),fe(c,{"user-info":p,"callback-handler":e.handleAcceptJoinRequest,"profile-type":e.PROFILE_TYPE.GROUP_JOIN_REQUEST,key:p.userIdx},null,8,["user-info","callback-handler","profile-type"]))]))),128))])):(k(),O("div",dW,pW))])]),C("div",fW,[C("div",vW,[M(s,{class:"w-[20px] h-[20px] mr-[10px] ml-[5px]",src:"images/icon/ico-people.svg"}),C("span",gW,ee(e.isManager?"돌봄 그룹":"연결된 돌봄 그룹"),1)]),e.otherGroupUserList.length>0?(k(),O("div",mW,[(k(!0),O(Ie,null,gt(e.otherGroupUserList,p=>(k(),O("div",{key:`${p.userIdx}_${p.groupIdx}_${p.stateReg}`},[p?(k(),fe(u,{key:0,"profile-type":e.PROFILE_TYPE.MY_GROUP_LIST,"user-info":p,"callback-handler":e.handleRemoveGroup},null,8,["profile-type","user-info","callback-handler"])):re("",!0)]))),128))])):(k(),O("div",yW,bW))]),e.searchUserInfo?(k(),fe(d,{key:2,"user-info":e.searchUserInfo,"do-invite-user":e.doInviteUser,"do-cancel-user":e.doClearUser},null,8,["user-info","do-invite-user","do-cancel-user"])):re("",!0),e.emergencyCandidateList?(k(),fe(h,{key:3,"user-list":e.emergencyCandidateList,"current-target-idx":e.emergencyTargetUser?e.emergencyTargetUser.userIdx:"","change-emergency-handler":e.changeEmergencyHandler,"cancel-handler":e.closeEmergencyHandler},null,8,["user-list","current-target-idx","change-emergency-handler","cancel-handler"])):re("",!0)])],64)}const DW=Se(zz,[["render",SW]]),TW=be({name:"SettingTarget",components:{KpButton:yt,KpSelectBox:bu,KpImage:Xe,LayoutHeader:Ct},setup(){const e=ze(),t=nt(),n=I(""),a=I(""),r=I(""),i=I(),o=[{label:"20,000",value:"20000"},{label:"18,000",value:"18000"},{label:"16,000",value:"16000"},{label:"14,000",value:"14000"},{label:"12,000",value:"12000"},{label:"10,000",value:"10000"},{label:"8,000",value:"8000"},{label:"6,000",value:"6000"},{label:"4,000",value:"4000"},{label:"2,000",value:"2000"},{label:"1,000",value:"1000"}],s=I([]),l=I([]),u=()=>{let g=Number(n.value).toString(),v=(Number(a.value)*60+Number(r.value)).toString();window.appInterface.targetGoal(g,v);let m={goalType:"SLEEP",goalValue:Number(a.value)*60+Number(r.value)};xe(Ee.API_URL,e).post("/api/1/goal/insertGoalInfo",m).then(y=>{y.data.resultCode===0&&(m={goalType:"STEP",goalValue:Number(n.value)},xe(Ee.API_URL,e).post("/api/1/goal/insertGoalInfo",m).then(_=>{_.data.resultCode===0&&(window.alert("저장되었습니다."),t.back())}))})},c=()=>{t.back()},d=g=>{n.value=g},h=g=>{a.value=g},p=g=>{r.value=g},f=()=>{xe(Ee.API_URL,e).post("/api/1/goal/getGoalInfo",{goalType:"SLEEP"}).then(g=>{if(g.data.resultCode===0)if(g.data.data.length>0)a.value=Math.floor(Number(g.data.data[0].goalValue)/60).toString(),r.value=Math.floor(Number(g.data.data[0].goalValue)%60).toString();else{a.value="8",r.value="0";let v={goalType:"SLEEP",goalValue:Number(a.value)*60+Number(r.value)};xe(Ee.API_URL,e).post("/api/1/goal/insertGoalInfo",v).then(m=>{m.data.resultCode})}}),xe(Ee.API_URL,e).post("/api/1/goal/getGoalInfo",{goalType:"STEP"}).then(g=>{if(g.data.resultCode===0)if(g.data.data.length>0)n.value=g.data.data[0].goalValue;else{n.value="8000";let v={goalType:"STEP",goalValue:Number(n.value)};xe(Ee.API_URL,e).post("/api/1/goal/insertGoalInfo",v).then(m=>{m.data.resultCode})}})};return Ue(()=>{let g=[],v=[];for(let m=1;m<=24;m++)g.push({label:m.toString().padStart(2,"0"),value:m.toString()});s.value=g;for(let m=0;m<=60;m++)v.push({label:m.toString().padStart(2,"0"),value:m.toString()});l.value=v,i.value=H().userType===De.USER_DEVICE,f()}),{workingTarget:n,workingOptions:o,selectHour:a,sleepHourOptions:s,selectMin:r,sleepMinOptions:l,isDeviceUser:i,onClickSave:u,onClickCancel:c,onChangeWorking:d,onChangeHour:h,onChangeMin:p}}}),IW={class:"setting-target"},AW={class:"flex justify-start items-center"},kW={class:"icon mr-[10px]"},MW=C("span",{class:"title"},"걸음 수 목표",-1),LW={class:"mt-[20px]"},RW={class:"mt-[20px]"},OW={class:"flex justify-start items-center"},PW={class:"icon mr-[10px]"},NW=C("span",{class:"title"},"수면 시간 목표",-1),BW={class:"mt-[20px]"},$W=C("label",{class:"select-prefix"},"시간",-1),UW=C("label",{class:"select-prefix"},"분",-1),GW={class:"btn-wrapper"},FW=se("저장"),HW=se("취소");function VW(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-image"),l=U("kp-select-box"),u=U("kp-button");return k(),O(Ie,null,[M(o,{title:"목표 설정"}),C("section",IW,[C("article",null,[C("div",AW,[C("span",kW,[M(s,{src:"images/icon/ico-main-working.svg"},null,8,["src"])]),MW]),C("div",LW,[M(l,{"select-value":e.workingTarget,options:e.workingOptions,"is-disabled":!e.isDeviceUser,onOnChange:e.onChangeWorking},null,8,["select-value","options","is-disabled","onOnChange"])])]),C("article",RW,[C("div",OW,[C("span",PW,[M(s,{src:"images/icon/ico-main-sleep.svg"},null,8,["src"])]),NW]),C("div",BW,[M(l,{"select-value":e.selectHour,options:e.sleepHourOptions,"is-disabled":!e.isDeviceUser,onOnChange:e.onChangeHour},null,8,["select-value","options","is-disabled","onOnChange"]),$W,M(l,{"select-value":e.selectMin,options:e.sleepMinOptions,"is-disabled":!e.isDeviceUser,onOnChange:e.onChangeMin},null,8,["select-value","options","is-disabled","onOnChange"]),UW])]),C("div",GW,[M(u,{"on-click":e.onClickSave},{default:ve(()=>[FW]),_:1},8,["on-click"]),M(u,{class:"mt-[10px]","on-click":e.onClickCancel,"is-secondary":""},{default:ve(()=>[HW]),_:1},8,["on-click"])])])],64)}const YW=Se(TW,[["render",VW]]),zW=be({name:"SettingAlarm",components:{KpToggle:xs,KpButton:yt,KpSelectBox:bu,KpImage:Xe,LayoutHeader:Ct},setup:function(){const e=ze(),t=ke(()=>xe(Ee.API_URL,e)),n=nt(),a=I(!0),r=I(!1),i=I(!1),o=I(!1),s=I(!1),l=I(!1),u=I(),c=I(""),d=I([]),h=I(""),p=I([]),f=I(""),g=I([]),v=I(""),m=I([]),y=I(""),_=I([]),w=I(""),E=I([]),x=I(""),S=I([]),b=I(""),D=I([]),T=()=>{let Me=[];for(let Le=17;Le<32;Le++)Me.push({value:(Le*5).toString(),label:(Le*5).toString()});d.value=Me},A=()=>{let Me=[];for(let Le=68;Le<83;Le++)Me.push({value:(Le*.5).toFixed(1).toString(),label:(Le*.5).toFixed(1).toString()});p.value=Me,g.value=Me},L=()=>{let Me=[];for(let Le=14;Le<45;Le++)Me.push({value:(Le*5).toString(),label:(Le*5).toString()});m.value=Me,_.value=Me},P=()=>{let Me=[];for(let Le=1;Le<25;Le++)Me.push({value:Le.toString(),label:Le.toString()});E.value=Me},N=()=>{let Me=[];for(let Le=45;Le<51;Le++)Me.push({value:(Le*2).toString(),label:(Le*2).toString()});S.value=Me},B=()=>{let Me=[];for(let Le=0;Le<21;Le++)Me.push({value:(Le*5).toString(),label:(Le*5).toString()});D.value=Me},K=()=>{a.value=!0},ce=Me=>{c.value=Me},$=()=>{r.value=!r.value},W=Me=>{h.value=Me},ae=Me=>{f.value=Me},Z=()=>{i.value=!i.value},ne=Me=>{y.value=Me},Y=Me=>{v.value=Me},q=()=>{o.value=!o.value},ie=Me=>{w.value=Me},te=()=>{s.value=!s.value},X=Me=>{x.value=Me},j=()=>{l.value=!l.value},J=Me=>{b.value=Me},z=()=>{F(),V(),ue(),de(),Ce(),Tt(),n.back()},F=()=>{let Me={deviceIdx:H().deviceIdx,maxHeartRate:Number(c.value),minHeartRate:0,stateReg:"Y"};FA(t.value,Me)},V=()=>{let Me={deviceIdx:H().deviceIdx,maxWaringTemp:Number(f.value),minWaringTemp:Number(h.value),stateReg:r.value?"Y":"N"};HA(t.value,Me)},ue=()=>{let Me={deviceIdx:H().deviceIdx,maxBloodPressure:Number(y.value),minBloodPressure:Number(v.value),stateReg:i.value?"Y":"N"};VA(t.value,Me)},de=()=>{let Me={deviceIdx:H().deviceIdx,sleepQuality:(Number(w.value)*60).toString(),stateReg:o.value?"Y":"N"};YA(t.value,Me)},Ce=()=>{let Me={deviceIdx:H().deviceIdx,minOxy:Number(x.value),maxOxy:Number(x.value),stateReg:s.value?"Y":"N"};zA(t.value,Me)},Tt=()=>{let Me={deviceIdx:H().deviceIdx,maxStress:Number(b.value),minStress:Number(b.value),stateReg:l.value?"Y":"N"};WA(t.value,Me)},Bn=()=>{n.back()},Wn=()=>{let Me={deviceIdx:H().deviceIdx};Uy(t.value,Me).then(Le=>{Le.data.length>0?(c.value=Le.data[0].maxHeartRate.toString(),a.value=!0):(c.value="150",a.value=!0,lt(()=>{F()}))}),Gy(t.value,Me).then(Le=>{Le.data.length>0?(f.value=Number(Le.data[0].maxWaringTemp).toFixed(1).toString(),h.value=Number(Le.data[0].minWaringTemp).toFixed(1).toString(),r.value=Le.data[0].stateReg==="Y"):(f.value="39.0",h.value="34.0",r.value=!0,lt(()=>{V()}))}),GA(t.value,Me).then(Le=>{Le.data.length>0?(y.value=Le.data[0].maxBloodPressure,v.value=Le.data[0].minBloodPressure,i.value=Le.data[0].stateReg==="Y"):(y.value="180",v.value="110",i.value=!0,lt(()=>{ue()}))}),Fy(t.value,Me).then(Le=>{Le.data.length>0?(w.value=Math.floor(Number(Le.data[0].sleepQuality)/60).toString(),o.value=Le.data[0].stateReg==="Y"):(w.value="6",o.value=!0,lt(()=>{de()}))}),Hy(t.value,Me).then(Le=>{Le.data.length>0?(x.value=Le.data[0].maxOxy,s.value=Le.data[0].stateReg==="Y"):(x.value="90",s.value=!0,lt(()=>{Ce()}))}),Vy(t.value,Me).then(Le=>{Le.data.length>0?(b.value=Le.data[0].maxStress,l.value=Le.data[0].stateReg==="Y"):(b.value="40",l.value=!0,lt(()=>{Tt()}))})};return Ue(()=>{T(),A(),L(),P(),N(),B(),Wn(),u.value=H().userType===De.USER_DEVICE}),{heartValue:c,heartOptions:d,temperatureLowValue:h,temperatureLowOptions:p,temperatureHighValue:f,temperatureHighOptions:g,isHeartAlarm:a,bloodLowValue:v,bloodLowOptions:m,bloodHighValue:y,bloodHighOptions:_,sleepValue:w,sleepOptions:E,oxygenValue:x,oxygenOptions:S,stressValue:b,stressOptions:D,isTemperatureAlarm:r,isBloodAlarm:i,isSleepAlarm:o,isOxygenAlarm:s,isStressAlarm:l,changeHeartAlarm:K,changeTemperatureAlarm:$,changeBloodAlarm:Z,changeSleepAlarm:q,changeOxygenAlarm:te,changeStressAlarm:j,changeHeart:ce,changeTemperatureLow:W,changeTemperatureHigh:ae,changeBloodHigh:ne,changeBloodLow:Y,changeSleep:ie,changeOxygen:X,changeStress:J,isDeviceUser:u,onClickSave:z,onClickCancel:Bn}}}),WW={class:"setting-alarm"},qW={class:"flex justify-between items-center"},ZW={class:"flex"},KW={class:"icon mr-[10px]"},XW=C("span",{class:"title"},"심박수",-1),jW={class:"mt-[20px]"},JW=C("label",{class:"select-prefix"},"bpm 초과",-1),QW=C("div",{class:"mt-[10px] select-warning"},[se("*성인 평균 심박수: 분당 60~100회"),C("br"),C("br"),se("*심박수 경고 알림은 해제할 수 없습니다")],-1),eq={class:"mt-[20px]"},tq={class:"flex justify-between items-center"},nq={class:"flex"},aq={class:"icon mr-[10px]"},rq=C("span",{class:"title"},"체온",-1),iq={class:"mt-[20px]"},oq=C("label",{class:"select-prefix"},"°C 초과",-1),sq={class:"mt-[10px]"},lq=C("label",{class:"select-prefix"},"°C 미만",-1),uq=C("div",{class:"mt-[10px] select-warning"},"*성인 평균 체온: 36.0~37.0°C",-1),cq={class:"mt-[20px]"},dq={class:"flex justify-between items-center"},hq={class:"flex"},pq={class:"icon mr-[10px]"},fq=C("span",{class:"title"},"혈압",-1),vq={class:"mt-[20px]"},gq=C("label",{class:"select-title"},"수축기",-1),mq=C("label",{class:"select-prefix"},"mmHg 초과",-1),yq={class:"mt-[10px]"},_q=C("label",{class:"select-title"},"이완기",-1),Cq=C("label",{class:"select-prefix"},"mmHg 미만",-1),wq=C("div",{class:"mt-[10px] select-warning"},"*성인 평균 혈압: 수축기 120 이하 / 이완기 80 이상",-1),xq={class:"mt-[20px]"},Eq={class:"flex justify-between items-center"},bq={class:"flex"},Sq={class:"icon mr-[10px]"},Dq=C("span",{class:"title"},"산소포화도",-1),Tq={class:"mt-[20px]"},Iq=C("label",{class:"select-prefix"},"% 미만",-1),Aq=C("div",{class:"mt-[10px] select-warning"},"*산소포화도 정상수치: 95% 이상",-1),kq={class:"btn-wrapper"},Mq=se("저장"),Lq=se("취소");function Rq(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-image"),l=U("kp-toggle"),u=U("kp-select-box"),c=U("kp-button");return k(),O(Ie,null,[M(o,{title:"경고 알림 설정"}),C("section",WW,[C("article",null,[C("div",qW,[C("div",ZW,[C("span",KW,[M(s,{src:"images/icon/ico-main-heart-rate.svg"},null,8,["src"])]),XW]),M(l,{"is-checked":!0,onOnToggleClick:e.changeHeartAlarm,onclick:"return false"},null,8,["onOnToggleClick"])]),C("div",jW,[M(u,{"select-value":e.heartValue,options:e.heartOptions,"is-disabled":!e.isDeviceUser,onOnChange:e.changeHeart},null,8,["select-value","options","is-disabled","onOnChange"]),JW]),QW]),C("article",eq,[C("div",tq,[C("div",nq,[C("span",aq,[M(s,{src:"images/icon/ico-main-temperature.svg"},null,8,["src"])]),rq]),M(l,{"is-checked":e.isTemperatureAlarm,onOnToggleClick:e.changeTemperatureAlarm},null,8,["is-checked","onOnToggleClick"])]),C("div",iq,[M(u,{"select-value":e.temperatureHighValue,options:e.temperatureHighOptions,"is-disabled":!e.isDeviceUser,onOnChange:e.changeTemperatureHigh},null,8,["select-value","options","is-disabled","onOnChange"]),oq]),C("div",sq,[M(u,{"select-value":e.temperatureLowValue,options:e.temperatureLowOptions,"is-disabled":!e.isDeviceUser,onOnChange:e.changeTemperatureLow},null,8,["select-value","options","is-disabled","onOnChange"]),lq]),uq]),C("article",cq,[C("div",dq,[C("div",hq,[C("span",pq,[M(s,{src:"images/icon/ico-main-blood-pressure.svg"},null,8,["src"])]),fq]),M(l,{"is-checked":e.isBloodAlarm,onOnToggleClick:e.changeBloodAlarm},null,8,["is-checked","onOnToggleClick"])]),C("div",vq,[gq,M(u,{"select-value":e.bloodHighValue,options:e.bloodHighOptions,"is-disabled":!e.isDeviceUser,onOnChange:e.changeBloodHigh},null,8,["select-value","options","is-disabled","onOnChange"]),mq]),C("div",yq,[_q,M(u,{"select-value":e.bloodLowValue,options:e.bloodLowOptions,"is-disabled":!e.isDeviceUser,onOnChange:e.changeBloodLow},null,8,["select-value","options","is-disabled","onOnChange"]),Cq]),wq]),C("article",xq,[C("div",Eq,[C("div",bq,[C("span",Sq,[M(s,{src:"images/icon/ico-main-oxygen.svg"},null,8,["src"])]),Dq]),M(l,{"is-checked":e.isOxygenAlarm,onOnToggleClick:e.changeOxygenAlarm},null,8,["is-checked","onOnToggleClick"])]),C("div",Tq,[M(u,{"select-value":e.oxygenValue,options:e.oxygenOptions,"is-disabled":!e.isDeviceUser,onOnChange:e.changeOxygen},null,8,["select-value","options","is-disabled","onOnChange"]),Iq]),Aq]),C("div",kq,[M(c,{"on-click":e.onClickSave},{default:ve(()=>[Mq]),_:1},8,["on-click"]),M(c,{class:"mt-[10px]","on-click":e.onClickCancel,"is-secondary":""},{default:ve(()=>[Lq]),_:1},8,["on-click"])])])],64)}const Oq=Se(zW,[["render",Rq]]),Pq=be({name:"LocationView",components:{KpDatePicker:qy,LocationMap:Du,RefreshButton:Su,LayoutHeader:Ct},setup(){const e=Vt(),t=ze(),n=I(null),a=I(t.state.syncUpdateTime?Q(t.state.syncUpdateTime):""),r=[37.5666805,126.9784147],i=I(new Date),o=I({}),s=I({}),l=I("USER"),u=I(0),c=ke(()=>e.query),d=()=>{H().userType===De.MANAGER?e.query.groupIdx?u.value=1:u.value=G().getGroupList().length:u.value=1},h=()=>{d(),lt(()=>{g()})},p=x=>{i.value=new Date(x),lt(()=>{y()})},f=(x,S)=>b=>{let D=o.value[x][S],T=s.value[x][S];T.getMap()?T.close():T.open(n.value,D)},g=()=>{H().userType===De.USER_DEVICE?(window.appInterface.getGpsInfo(),m()):y()},v=x=>{t.commit(Sa,x.toDate()),(a.value===""||a.value.isBefore(x))&&(a.value=x)},m=(x,S)=>{var A,L,P,N,B,K;i.value.setHours(0),i.value.setMinutes(0);let b=Q(i.value).utc(!1).format("YYYYMMDDHHMM");i.value.setHours(23),i.value.setMinutes(59);let D=Q(i.value).utc(!1).format("YYYYMMDDHHMM"),T={searchStartDt:b,searchEndDt:D,userIdx:H().userIdx};x?T.userIdx=x:H().userType===De.USER?T.userIdx=(L=(A=G().getCurrentGroup())==null?void 0:A.creatorInfo)==null?void 0:L.userIdx:H().userType===De.USER_DEVICE&&T.userIdx!==((N=(P=G().getCurrentGroup())==null?void 0:P.creatorInfo)==null?void 0:N.userIdx)&&(T.userIdx=(K=(B=G().getCurrentGroup())==null?void 0:B.creatorInfo)==null?void 0:K.userIdx);for(const[ce,$]of Object.entries(o.value))$==null||$.map(W=>{W.setMap(null)});for(const[ce,$]of Object.entries(s.value))$==null||$.map(W=>{W.setMap(null)});xe(Ee.API_URL,t).post("/api/1/location/getLocation",T).then(ce=>{var $,W,ae,Z;if(ce.data.resultCode===0){u.value=--u.value;let ne=ce.data.data.reverse(),Y=[],q=[];if(H(),n.value){for(let ie=0;ie<ne.length;ie++){let te;H().userType===De.MANAGER?ne[ie].stateConnect==="Y"?te=new naver.maps.Marker({position:new naver.maps.LatLng(ne[ie].lat,ne[ie].lng),map:n.value,icon:{content:"<div class='manager-marker-window'>"+S+"</div>"}}):te=new naver.maps.Marker({position:new naver.maps.LatLng(ne[ie].lat,ne[ie].lng),map:n.value,icon:{content:"<div class='manager-marker-window disconnect'>"+S+"</div>"}}):((W=($=G().getCurrentGroup())==null?void 0:$.creatorInfo)==null?void 0:W.userIdx)!==void 0&&H().userIdx!==((Z=(ae=G().getCurrentGroup())==null?void 0:ae.creatorInfo)==null?void 0:Z.userIdx)?te=new naver.maps.Marker({position:new naver.maps.LatLng(ne[ie].lat,ne[ie].lng),map:n.value,icon:ie===ne.length-1?"images/common/current-marker.svg":ne[ie].stateConnect==="Y"?"images/common/default-marker.svg":"images/common/disconnect-marker.svg"}):te=new naver.maps.Marker({position:new naver.maps.LatLng(ne[ie].lat,ne[ie].lng),map:n.value,icon:ie===ne.length-1?"images/common/current-marker.svg":ne[ie].stateConnect==="Y"?"images/common/default-marker.svg":"images/common/disconnect-marker.svg"});let X=`위치기록: ${Q(ne[ie].dateReg).format("MM.DD a HH:mm")}`;if(ie===0){let J=Q.utc(ne[0].dateReg).local();v(J),n.value.setCenter({lat:ne[0].lat,lng:ne[0].lng}),X=`현재위치: ${Q(ne[0].dateReg).format("MM.DD a HH:mm")}`}ne[ie].stateConnect==="N"&&(X=`연결끊김: ${Q(ne[0].dateReg).format("MM.DD a HH:mm")}`),l.value==="MANAGER"&&(X=`${Q(ne[ie].dateReg).format("MM.DD a HH:mm")}`);let j=new naver.maps.InfoWindow({content:"<div class='info-window'>"+X+"</div>",borderWidth:0,disableAnchor:!0,backgroundColor:"transparent"});Y.push(te),q.push(j),naver.maps.Event.addListener(Y[ie],"click",f(T.userIdx,ie))}o.value={...o.value,[T.userIdx]:Y},s.value={...s.value,[T.userIdx]:q},n.value.refresh(),Y.length>0&&n.value.setCenter(Y[Y.length-1].getPosition())}}})},y=()=>{H().userType===De.MANAGER?G().getGroupList().map(x=>{e.query.groupIdx?e.query.groupIdx===x.groupIdx&&m(x.creatorInfo.userIdx,x.creatorInfo.username):m(x.creatorInfo.userIdx,x.creatorInfo.username)}):m()},_=x=>{n.value=null,lt(()=>{n.value=x,n.value.setOptions({zoom:16,mapDataControl:!0,disableKineticPan:!0,scaleControl:!0,draggable:!0,pinchZoom:!0,scrollWheel:!0,keyboardShortcuts:!0,disableDoubleTapZoom:!1,disableDoubleClickZoom:!1,disableTwoFingerTapZoom:!1})})},w=()=>{y()},E=()=>{G().addEventListener(ge.LOAD_COMPLETE,w)};return He(()=>c.value,()=>{y()}),He(()=>n.value,()=>{var x,S,b;(x=n.value)!=null&&x.getCenter()&&((S=n.value)==null?void 0:S.getCenter().y)===r[0]&&((b=n.value)==null?void 0:b.getCenter().x)===r[1]&&y()}),Ue(()=>{window.addEventListener("SEARCH_LOCATION",m),window.appInterface.addEventListener(pe.SYNC_DATA,y),window.appInterface.addEventListener(pe.INSERT_LOCATION,y),l.value=H().userType,he().addEventListener(we.CONNECT,E),d()}),ot(()=>{window.removeEventListener("SEARCH_LOCATION",m),n.value=null,he().removeEventListener(we.CONNECT,E),G().removeEventListener(ge.LOAD_COMPLETE,w),window.appInterface.removeEventListener(pe.SYNC_DATA,y)}),{selectDate:i,onChangeDate:p,getUpdateData:h,userType:l,handleMapInit:_,updateTime:ke(()=>u.value<=0?a.value===""?"":a.value.format("MM.DD a HH:mm"):"")}}}),Nq={class:"location-board"},Bq={class:"update-text mr-[10px]"},$q=["src"],Uq=["src"],Gq={class:"flex flex-row flex items-center"},Fq=C("span",{class:"update-label ml-[10px]"},"지금 업데이트",-1),Hq={class:"update-time"};function Vq(e,t,n,a,r,i){const o=U("layout-header"),s=U("kp-date-picker"),l=U("location-map"),u=U("refresh-button");return k(),O(Ie,null,[M(o,{title:"위치"}),C("section",Nq,[M(s,{class:"date-picker",date:e.selectDate,onOnChangeDate:e.onChangeDate},null,8,["date","onOnChangeDate"]),C("div",{class:ye(e.userType==="MANAGER"?"manager-map-wrapper":"map-wrapper")},[M(l,{"on-init-map":e.handleMapInit},null,8,["on-init-map"]),e.userType==="MANAGER"&&e.updateTime?(k(),O("div",{key:0,class:"manager-update flex items-center px-[10px] cursor-pointer",onClick:t[0]||(t[0]=(...c)=>e.getUpdateData&&e.getUpdateData(...c))},[C("div",Bq,ee(e.updateTime),1),C("img",{class:"fill-white",src:"images/icon/ico-btn-refresh-white.svg"},null,8,$q)])):(k(),O("div",{key:1,class:"only-update-btn flex items-center cursor-pointer",onClick:t[1]||(t[1]=(...c)=>e.getUpdateData&&e.getUpdateData(...c))},[C("img",{class:"fill-white",src:"images/icon/ico-btn-refresh-white.svg"},null,8,Uq)]))],2),e.userType!=="MANAGER"?(k(),O("div",{key:0,class:"flex items-center justify-between px-[20px] py-[15px]",onClick:t[2]||(t[2]=(...c)=>e.getUpdateData&&e.getUpdateData(...c))},[C("div",Gq,[M(u,{onClick:e.getUpdateData},null,8,["onClick"]),Fq]),C("div",Hq,ee(e.updateTime),1)])):re("",!0)])],64)}const cy=Se(Pq,[["render",Vq]]),Yq=be({name:"PrivateInfo",components:{KpToggle:xs,KpSelectBox:bu,LayoutHeader:Ct,KpInput:Ta,KpButton:yt,KpImage:Xe},setup(){const e=ze(),t=Vt(),n=nt(),a=xe(Ee.API_URL,e),r=I(null),i=I(null),o=I(null),s=I(!1),l=I(!0),u=I(!0),c=I(!0),d=I(20),h=I(13),p=I(""),f=I(""),g=I(""),v=I(""),m=I(""),y=I(""),_=I(""),w=I("남성"),E=I(!0),x=I(!1),S=I(""),b=I(""),D=I(""),T=I(""),A=I(""),L=I(""),P=I(""),N=I(""),B=I(""),K=()=>{const z=Bt(Fe.CONST.LOGIN_USER);z&&(r.value=JSON.parse(z))},ce=z=>{const F=z.target;F.files&&F.files.length>0&&(o.value=F.files[0],i.value=URL.createObjectURL(F.files[0]),s.value=!0)},$=()=>{r.value&&a.post("/api/1/users/me",{userIdx:r.value.userIdx}).then(z=>{z.data.resultCode!==0?window.alert(z.data.resultMsg):(p.value=z.data.data.userName,f.value=z.data.data.userId,g.value=z.data.data.email,v.value=z.data.data.tel,i.value=Br(z.data.data.userProfile),r.value&&Object.assign(z.data.data,{token:r.value.token}),na(Fe.CONST.LOGIN_USER,JSON.stringify(z.data.data)))})},W=z=>{let F="";return z.substring(0,2)==="02"?(h.value=12,F=z.replace(/[^0-9]/g,"").replace(/^(\d{2})(\d{3,4})(\d{4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"")):(h.value=13,F=z.replace(/[^0-9]/g,"").replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"")),F},ae=()=>{l.value=null},Z=()=>{var z;u.value=Nt.isMobilePhone(v.value.replace(/-/g,""),"ko-KR"),c.value=Nt.isMobilePhone(v.value.replace(/-/g,""),"ko-KR"),l.value=!!Nt.isEmail(g.value),r.value&&r.value.userType===De.MANAGER&&(v.value===""&&(u.value=!0),g.value===""&&(l.value=!0)),((z=r.value)==null?void 0:z.userType)===De.USER_DEVICE?p.value.length>0&&l.value&&u.value&&q():q()},ne=()=>{n.push({path:"/setting"})},Y=()=>{n.push({path:"/reset-pwd"})},q=()=>{var z;if(r.value){const F=new FormData;if(F.append("userName",p.value),F.append("email",g.value),F.append("tel",v.value),((z=r.value)==null?void 0:z.userType)===De.USER_DEVICE){w.value.length>0&&F.append("gender",w.value),y.value.length>0&&F.append("age",y.value),_.value.length>0&&F.append("weight",_.value),m.value.length>0&&F.append("height",m.value),F.append("isSosCallEnabled","Y"),F.append("isCall119Enabled",x.value?"Y":"N");let V=ie(),ue=V.names,de=V.tels;ue.length>0&&F.append("emergencyName",ue),de.length>0&&F.append("emergencyTel",de),P.value.length>0&&F.append("emergencyCnt",P.value),N.value.length>0&&F.append("normalHighBp",N.value),B.value.length>0&&F.append("normalLowBp",B.value)}s.value&&F.append("profileFile",o.value),a.post("/api/1/users/me/update",F).then(V=>{V.data.resultCode!==0?window.alert(V.data.resultMsg):te()})}},ie=()=>{const z=[];for(let ue=1;ue<=3;ue++)if(ue===1){const de=S,Ce=b;de.value.trim()!==""&&Ce.value.trim()!==""&&z.push({name:de.value,tel:Ce.value})}else if(ue===2){const de=D,Ce=T;de.value.trim()!==""&&Ce.value.trim()!==""&&z.push({name:de.value,tel:Ce.value})}else if(ue===3){const de=A,Ce=L;de.value.trim()!==""&&Ce.value.trim()!==""&&z.push({name:de.value,tel:Ce.value})}const F=z.map(ue=>ue.name).join("|||"),V=z.map(ue=>ue.tel).join("|||");return{names:F,tels:V}},te=()=>{a.post("/api/1/users/me",{}).then(z=>{z.data.resultCode!==0?window.alert(z.data.resultMsg):(a.post("/api/1/users/getAllAppInfo").then(F=>{const{gender:V,age:ue,weight:de,height:Ce,bpAge:Tt,isUseLocationInfo:Bn,userPreferences:Wn,name:Me,phoneNumber:Le,isSosCallEnabled:ai,sosTryCount:ri,isCall119Enabled:ii,normalHighBp:to,normalLowBp:oi,sms:me,kakaotalk:le,line:Ge,whatsapp:je,telegram:ht,instagram:an,youtube:Ne,gmail:Qe,snapchat:Rt,facebook:Ls,x:Rs,wechat:Os,morningBreifStatus:cc,morningBreifTime:Tx,morningBreifLanguage:Ix,morningBreifVoice:Ax,morningBreifSpeed:kx,aiAssistantMpreviousMemory:Mx,aiAssistantMlanguage:Lx,aiAssistantMresponseType:Rx,aiAssistantMvoice:Ox,aiAssistantMspeed:Px,aiAssistantHalarmTimes:Nx,aiAssistantHarithmeticLevel:Bx,aiAssistantHmemoryLevel:$x,aiAssistantHdescriptionLevel:Ux,aiAssistantHreverseWordLevel:Gx}=F.data.data,$n=Bf=>isNaN(Number(Bf))?0:Number(Bf),Fx={defaultInfo:{gender:V,age:$n(ue),weight:$n(de),height:$n(Ce),bpAge:$n(Tt),isUseLocationInfo:Bn==="Y",userPreferences:Wn},sosCalling:{name:Me,phoneNumber:Le,isSosCallEnabled:ai==="Y",sosTryCount:$n(ri),isCall119Enabled:ii==="Y"},bpCalibration:{normalHighBp:$n(to),normalLowBp:$n(oi)},appNotificationSetting:{sms:me==="Y",kakaotalk:le==="Y",line:Ge==="Y",whatsapp:je==="Y",telegram:ht==="Y",instagram:an==="Y",youtube:Ne==="Y",gmail:Qe==="Y",snapchat:Rt==="Y",facebook:Ls==="Y",x:Rs==="Y",wechat:Os==="Y"},morningBreifSetting:{morningBreifStatus:cc==="Y",morningBreifTime:Tx,morningBreifLanguage:Ix,morningBreifVoice:Ax,morningBreifSpeed:kx},aiAssistantSetting:{aiAssistantMpreviousMemory:Mx,aiAssistantMlanguage:Lx,aiAssistantMresponseType:Rx,aiAssistantMvoice:Ox,aiAssistantMspeed:Px,aiAssistantHalarmTimes:Nx,aiAssistantHarithmeticLevel:$n(Bx),aiAssistantHmemoryLevel:$n($x),aiAssistantHdescriptionLevel:$n(Ux),aiAssistantHreverseWordLevel:$n(Gx)}};window.appInterface.userPersonalInfo(JSON.stringify(Fx))}),p.value=z.data.data.userName,f.value=z.data.data.userId,g.value=z.data.data.email,v.value=z.data.data.tel,r.value&&Object.assign(z.data.data,{token:r.value.token}),na(Fe.CONST.LOGIN_USER,JSON.stringify(z.data.data)),J(),window.alert("저장되었습니다."),n.push({path:"/setting"}))})},X=z=>{let F="";return z.length>d.value?F=z.slice(0,d.value):F=z,F},j=()=>{window.confirm("회원탈퇴를 진행하시겠습니까?")&&a.post("/api/1/users/delUser",{}).then(z=>{z.data.resultCode!==0||(e.commit(Kt,""),e.commit(Xa,De.USER),Xr(),Qo(e),alert("회원탈퇴가 완료되었습니다.")),n.replace("/login")})},J=()=>{Kr(xe(),{stateReg:hn.RESOLVE,noCache:!0}).then(async z=>{const F=z.data;await G().updateGroupList(F)}).catch(z=>{throw z})};return xu(()=>{K(),$()}),Ue(()=>{a.post("/api/1/users/getAllAppInfo").then(z=>{var ue,de;m.value=z.data.data.height||"",y.value=z.data.data.age||"",_.value=z.data.data.weight||"",w.value=z.data.data.gender||"",E.value=!0,x.value=z.data.data.isCall119Enabled==="Y";const F=((ue=z.data.data.name)==null?void 0:ue.split("|||"))||[],V=((de=z.data.data.phoneNumber)==null?void 0:de.split("|||"))||[];for(let Ce=0;Ce<F.length;Ce++)F[Ce]&&(Ce===0?S.value=F[Ce]:Ce===1?D.value=F[Ce]:Ce===2&&(A.value=F[Ce])),V[Ce]&&(Ce===0?b.value=V[Ce]:Ce===1?T.value=V[Ce]:Ce===2&&(L.value=V[Ce]));P.value=z.data.data.sosTryCount||"",N.value=z.data.data.normalHighBp||"",B.value=z.data.data.normalLowBp||""})}),ot(()=>{}),{UserType:De,store:e,route:t,router:n,userInfo:r,userName:p,userId:f,email:g,tel:v,profileImg:i,nameMaxLength:d,phoneMaxLength:h,userNameCheck:X,isEmailValidCheck:l,isSosPhoneValidCheck:c,isPhoneValidCheck:u,addFile:ce,doSetting:ne,doReset:Y,savePrivate:q,emailCheck:ae,userFormCheck:Z,phoneNumberCheck:W,onClickUserDelete:j,height:m,age:y,weight:_,gender:w,setGender:z=>w.value=z,isEnabledEmergency:E,setEnabledEmergency:()=>E.value=!0,isEnabled119:x,setEnabled119:()=>x.value=!x.value,emergencyName:S,emergencyTel:b,emergencyName2:D,emergencyTel2:T,emergencyName3:A,emergencyTel3:L,emergencyCnt:P,setEmergencyCnt:z=>P.value=z,bpHigh:N,setBpHigh:z=>N.value=z,bpLow:B,setBpLow:z=>B.value=z}}}),zq={class:"private flex flex-col h-[calc(100%_-_56px)] items-center px-[20px] pt-[25px] pb-[130px]"},Wq={class:"private-info w-full"},qq={class:"bg-white pt-[25px] pb-[32px] px-[20px] mb-[20px] rounded-[10px]"},Zq={class:"image-form relative w-full w-[80px] h-[80px] mx-auto mb-[25px]"},Kq={key:0,class:"z-20 absolute camera-bg-wrapper w-[80px] h-[80px] rounded-full"},Xq=C("label",{for:"profile-img"},[C("span",{class:"z-40 cursor-pointer absolute w-[80px] h-[80px]"})],-1),jq={class:"mb-[20px] input-form"},Jq=C("div",{class:"input-title pl-[20px] mb-[5px]"},"이름",-1),Qq={class:"mb-[20px] input-form"},eZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"아이디",-1),tZ={class:"mb-[20px] input-form"},nZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"비밀번호",-1),aZ=se(" 비밀번호 재설정 "),rZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"이메일",-1),iZ={key:0,class:"pl-[20px] pt-[10px] pb-[10px] font-normal text-[14px] text-[#FF3131]"},oZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"전화번호",-1),sZ={key:0,class:"pl-[20px] pt-[10px] pb-[10px] font-normal text-[14px] text-[#FF3131]"},lZ={class:"input-form mb-[20px]"},uZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"키",-1),cZ=C("span",{class:"input-title ml-[10px]"},"cm",-1),dZ={class:"input-form mb-[20px]"},hZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"몸무게",-1),pZ=C("span",{class:"input-title ml-[10px]"},"kg",-1),fZ={class:"input-form mb-[20px]"},vZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"나이",-1),gZ=C("span",{class:"input-title ml-[10px]"},"세",-1),mZ={class:"input-form mb-[20px]"},yZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"성별",-1),_Z={class:"bg-white pt-[25px] pb-[32px] px-[20px] mb-[20px] rounded-[10px]"},CZ={class:"flex justify-between items-center mt-[10px]"},wZ=C("div",{class:"flex"},[C("span",{class:"title"},"119 연계 여부")],-1),xZ={class:"mt-[20px] mb-[20px] input-form"},EZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"이름(긴급 통화자1)",-1),bZ={class:"mt-[20px]"},SZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"전화번호",-1),DZ={key:0,class:"pl-[20px] pt-[10px] pb-[10px] font-normal text-[14px] text-[#FF3131]"},TZ={class:"mt-[20px] mb-[20px] input-form"},IZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"이름(긴급 통화자2)",-1),AZ={class:"mt-[20px]"},kZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"전화번호",-1),MZ={key:0,class:"pl-[20px] pt-[10px] pb-[10px] font-normal text-[14px] text-[#FF3131]"},LZ={class:"mt-[20px] mb-[20px] input-form"},RZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"이름(긴급 통화자3)",-1),OZ={class:"mt-[20px]"},PZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"전화번호",-1),NZ={key:0,class:"pl-[20px] pt-[10px] pb-[10px] font-normal text-[14px] text-[#FF3131]"},BZ={class:"mb-[20px] input-form"},$Z=C("div",{class:"input-title pl-[20px] mb-[5px]"},"연결시도",-1),UZ={class:"bg-white pt-[25px] pb-[32px] px-[20px] mb-[40px] rounded-[10px]"},GZ=C("div",{class:"flex justify-between items-center"},[C("div",{class:"flex"},[C("span",{class:"title"},"평소 혈압정보(혈압 보정에 사용)")])],-1),FZ={class:"mt-[20px]"},HZ={class:"mt-[20px] input-form"},VZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"수축기",-1),YZ=C("span",{class:"input-title ml-[10px]"},"mmHg",-1),zZ={class:"mt-[10px] input-form"},WZ=C("div",{class:"input-title pl-[20px] mb-[5px]"},"이완기",-1),qZ=C("span",{class:"input-title ml-[10px]"},"mmHg",-1),ZZ=se(" 저장 "),KZ=se(" 취소 "),XZ={class:"withdraw-wrapper mb-[40px]"},jZ=C("span",{class:"mr-[10px]"},"이 계정을 사용하지 않으시나요?",-1);function JZ(e,t,n,a,r,i){var p,f;const o=U("layout-header"),s=U("KpImage"),l=U("kpInput"),u=U("kp-button"),c=U("kp-select-box"),d=U("kp-toggle"),h=U("kpButton");return k(),O(Ie,null,[M(o,{title:"개인정보"}),C("section",zq,[C("article",Wq,[C("div",qq,[C("div",Zq,[e.profileImg?re("",!0):(k(),O("div",Kq)),e.profileImg?re("",!0):(k(),fe(s,{key:1,class:"z-20 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",src:"images/icon/ico-camera.svg"},null,8,["src"])),e.profileImg?(k(),fe(s,{key:2,src:e.profileImg,class:"z-0 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full object-cover w-[80px] h-[80px]"},null,8,["src"])):re("",!0),Xq,C("input",{id:"profile-img",accept:"image/*",style:{display:"none"},type:"file",onChange:t[0]||(t[0]=g=>e.addFile(g))},null,32)]),C("div",jq,[Jq,M(l,{class:"kp-input private-input w-full px-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]","model-value":e.userName,"handle-key-up":e.userNameCheck,length:e.nameMaxLength,"onUpdate:modelValue":t[1]||(t[1]=g=>e.userName=g)},null,8,["model-value","handle-key-up","length"])]),C("div",Qq,[eZ,M(l,{class:"read-only-input w-full border-0 px-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]","model-value":e.userId,"read-only":!0},null,8,["model-value"])]),C("div",tZ,[nZ,M(u,{class:"reset-password-btn w-full border-[1px] border-[#466FFF] radius-[25px] outline-0 pt-[15px] py-[16px] rounded-[25px] text-[16px] font-bold",onClick:e.doReset},{default:ve(()=>[aZ]),_:1},8,["onClick"])]),C("div",{class:ye(["input-form",e.isEmailValidCheck!==null&&!e.isEmailValidCheck?"":"mb-[20px]"])},[rZ,M(l,{class:"kp-input private-input w-full px-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]","model-value":e.email,"onUpdate:modelValue":t[2]||(t[2]=g=>e.email=g),onInput:e.emailCheck},null,8,["model-value","onInput"]),e.isEmailValidCheck!==null&&!e.isEmailValidCheck?(k(),O("p",iZ," 올바른 양식이 아닙니다. ")):re("",!0)],2),C("div",{class:ye(["input-form",e.isPhoneValidCheck!==null&&!e.isPhoneValidCheck?"":"mb-[20px]"])},[oZ,M(l,{class:"kp-input private-input w-full pl-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]",type:"tel","model-value":e.tel,length:e.phoneMaxLength,"handle-key-up":e.phoneNumberCheck,onInput:t[3]||(t[3]=g=>e.isPhoneValidCheck=null),"onUpdate:modelValue":t[4]||(t[4]=g=>e.tel=g)},null,8,["model-value","length","handle-key-up"]),e.isPhoneValidCheck!==null&&!e.isPhoneValidCheck?(k(),O("p",sZ," 올바른 양식이 아닙니다. ")):re("",!0)],2),((p=e.userInfo)==null?void 0:p.userType)===e.UserType.USER_DEVICE?(k(),O(Ie,{key:0},[C("div",lZ,[uZ,M(l,{class:"kp-input private-input w-[calc(100%_-_50px)] pl-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]",type:"number",maxlength:"4","model-value":e.height,"onUpdate:modelValue":t[5]||(t[5]=g=>e.height=g)},null,8,["model-value"]),cZ]),C("div",dZ,[hZ,M(l,{class:"kp-input private-input w-[calc(100%_-_50px)] pl-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]",type:"number",maxlength:"4","model-value":e.weight,"onUpdate:modelValue":t[6]||(t[6]=g=>e.weight=g)},null,8,["model-value"]),pZ]),C("div",fZ,[vZ,M(l,{class:"kp-input private-input w-[calc(100%_-_50px)] pl-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]",type:"number",maxlength:"4","model-value":e.age,"onUpdate:modelValue":t[7]||(t[7]=g=>e.age=g)},null,8,["model-value"]),gZ]),C("div",mZ,[yZ,M(c,{class:"w-[50%]","select-value":e.gender,options:[{value:"남성",label:"남성"},{value:"여성",label:"여성"}],onOnChange:e.setGender},null,8,["select-value","onOnChange"])])],64)):re("",!0)]),((f=e.userInfo)==null?void 0:f.userType)===e.UserType.USER_DEVICE?(k(),O(Ie,{key:0},[C("div",_Z,[C("div",CZ,[wZ,M(d,{"is-checked":e.isEnabled119,onOnToggleClick:e.setEnabled119},null,8,["is-checked","onOnToggleClick"])]),C("div",xZ,[EZ,M(l,{class:"kp-input private-input w-full px-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]","read-only":!e.isEnabledEmergency,"model-value":e.emergencyName,"handle-key-up":e.userNameCheck,length:e.nameMaxLength,"onUpdate:modelValue":t[8]||(t[8]=g=>e.emergencyName=g)},null,8,["read-only","model-value","handle-key-up","length"])]),C("div",bZ,[C("div",{class:ye(["input-form",e.isSosPhoneValidCheck!==null&&!e.isSosPhoneValidCheck?"":"mb-[20px]"])},[SZ,M(l,{class:"kp-input private-input w-full pl-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]","read-only":!e.isEnabledEmergency,type:"tel","model-value":e.emergencyTel,length:e.phoneMaxLength,"handle-key-up":e.phoneNumberCheck,onInput:t[9]||(t[9]=g=>e.isSosPhoneValidCheck=null),placeholder:"010-0000-0000","onUpdate:modelValue":t[10]||(t[10]=g=>e.emergencyTel=g)},null,8,["read-only","model-value","length","handle-key-up"]),e.isSosPhoneValidCheck!==null&&!e.isSosPhoneValidCheck?(k(),O("p",DZ," 올바른 양식이 아닙니다. ")):re("",!0)],2)]),C("div",TZ,[IZ,M(l,{class:"kp-input private-input w-full px-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]","read-only":!e.isEnabledEmergency,"model-value":e.emergencyName2,"handle-key-up":e.userNameCheck,length:e.nameMaxLength,"onUpdate:modelValue":t[11]||(t[11]=g=>e.emergencyName2=g)},null,8,["read-only","model-value","handle-key-up","length"])]),C("div",AZ,[C("div",{class:ye(["input-form",e.isSosPhoneValidCheck!==null&&!e.isSosPhoneValidCheck?"":"mb-[20px]"])},[kZ,M(l,{class:"kp-input private-input w-full pl-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]","read-only":!e.isEnabledEmergency,type:"tel","model-value":e.emergencyTel2,length:e.phoneMaxLength,"handle-key-up":e.phoneNumberCheck,onInput:t[12]||(t[12]=g=>e.isSosPhoneValidCheck=null),placeholder:"010-0000-0000","onUpdate:modelValue":t[13]||(t[13]=g=>e.emergencyTel2=g)},null,8,["read-only","model-value","length","handle-key-up"]),e.isSosPhoneValidCheck!==null&&!e.isSosPhoneValidCheck?(k(),O("p",MZ," 올바른 양식이 아닙니다. ")):re("",!0)],2)]),C("div",LZ,[RZ,M(l,{class:"kp-input private-input w-full px-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]","read-only":!e.isEnabledEmergency,"model-value":e.emergencyName3,"handle-key-up":e.userNameCheck,length:e.nameMaxLength,"onUpdate:modelValue":t[14]||(t[14]=g=>e.emergencyName3=g)},null,8,["read-only","model-value","handle-key-up","length"])]),C("div",OZ,[C("div",{class:ye(["input-form",e.isSosPhoneValidCheck!==null&&!e.isSosPhoneValidCheck?"":"mb-[20px]"])},[PZ,M(l,{class:"kp-input private-input w-full pl-[20px] outline-0 pt-[16px] py-[15px] rounded-[25px]","read-only":!e.isEnabledEmergency,type:"tel","model-value":e.emergencyTel3,length:e.phoneMaxLength,"handle-key-up":e.phoneNumberCheck,onInput:t[15]||(t[15]=g=>e.isSosPhoneValidCheck=null),placeholder:"010-0000-0000","onUpdate:modelValue":t[16]||(t[16]=g=>e.emergencyTel3=g)},null,8,["read-only","model-value","length","handle-key-up"]),e.isSosPhoneValidCheck!==null&&!e.isSosPhoneValidCheck?(k(),O("p",NZ," 올바른 양식이 아닙니다. ")):re("",!0)],2)]),C("div",BZ,[$Z,M(c,{class:"w-[50%]","select-value":e.emergencyCnt,options:[{value:"1",label:"1"},{value:"3",label:"3"},{value:"5",label:"5"},{value:"10",label:"10"}],onOnChange:e.setEmergencyCnt},null,8,["select-value","onOnChange"])])]),C("div",UZ,[GZ,C("div",FZ,[C("div",HZ,[VZ,M(c,{class:"w-[50%]","select-value":e.bpHigh,options:[{value:"70",label:"70"},{value:"80",label:"80"},{value:"90",label:"90"},{value:"100",label:"100"},{value:"110",label:"110"},{value:"120",label:"120"},{value:"130",label:"130"},{value:"140",label:"140"},{value:"150",label:"150"},{value:"160",label:"160"},{value:"170",label:"170"},{value:"180",label:"180"},{value:"190",label:"190"},{value:"200",label:"200"}],onOnChange:e.setBpHigh},null,8,["select-value","onOnChange"]),YZ]),C("div",zZ,[WZ,M(c,{class:"w-[50%]","select-value":e.bpLow,options:[{value:"60",label:"60"},{value:"70",label:"70"},{value:"80",label:"80"},{value:"90",label:"90"},{value:"100",label:"100"},{value:"110",label:"110"},{value:"120",label:"120"},{value:"130",label:"130"}],onOnChange:e.setBpLow},null,8,["select-value","onOnChange"]),qZ])])])],64)):re("",!0),M(h,{class:"save-btn w-full bottom-0 pt-[16px] pb-[15px] mb-[10px] text-white rounded-[25px]",onClick:e.userFormCheck},{default:ve(()=>[ZZ]),_:1},8,["onClick"]),M(h,{class:"cancel-btn w-full bottom-0 pt-[16px] pb-[15px] mb-[20px] rounded-[25px]",onClick:e.doSetting},{default:ve(()=>[KZ]),_:1},8,["onClick"]),C("div",XZ,[jZ,C("span",{class:"withdraw-bold cursor-pointer",onClick:t[17]||(t[17]=(...g)=>e.onClickUserDelete&&e.onClickUserDelete(...g))},"회원탈퇴")])])])],64)}const QZ=Se(Yq,[["render",JZ]]),eK=be({name:"ResetPassword",components:{LayoutHeader:Ct,KpInput:Ta,KpImage:Xe,KpButton:yt},setup(){const e=ze();Vt();const t=nt(),n=xe(Ee.API_URL,e),a=I(""),r=I(""),i=I(""),o=I(null),s=I(null),l=I(null),u=()=>{n.post("/api/1/users/resetPassword",{pwd:a.value,newPwd:r.value}).then(h=>{h.data.resultCode!==0?o.value=!1:(window.alert("비밀번호 재설정이 완료되었습니다."),t.replace({path:"/private"}))})};return{updatePwd:u,doPrivate:()=>{t.push({path:"/private"})},passwordCheck:()=>{const h=new RegExp("^(?=.*[A-Za-z])(?=.*\\d)(?=.*[$@$!%*#?&])[A-Za-z\\d$@$!%*#?&]{8,}$");s.value=h.test(r.value),l.value=Nt.equals(r.value,i.value),a.value.length>0&&s.value&&l.value&&u()},pwd:a,newPwd:r,newPwdCheck:i,isUserPwdCheck:o,isPwdValidCheck:s,isPwdEqualsCheck:l}}}),tK={class:"reset-password flex flex-col"},nK={class:"reset-password-wrapper justify-evenly flex flex-col flex-1 h-full px-[20px] pt-[40px]"},aK={class:"h-full"},rK=C("div",{class:"pl-[10px]"},[C("div",{class:"reset-main-header mb-[5px]"},"비밀번호 재설정"),C("div",{class:"reset-sub-header mb-[30px]"},"사용하실 비밀번호를 다시 설정해주세요.")],-1),iK={class:"w-full pwd-form px-[20px] py-[20px] bg-white rounded-[10px]"},oK={class:"relative password-input"},sK={key:0,class:"note-info not-matching-text pl-[20px] pr-[20px] mb-[10px]"},lK={class:"relative password-input"},uK={key:0,class:"note-info pl-[20px] pr-[20px] mb-[15px]"},cK={key:1,class:"note-info not-matching-text pl-[20px] pr-[20px] mb-[15px]"},dK={class:"relative password-input"},hK={key:0,class:"pl-[20px] available-text"},pK={key:1,class:"pl-[20px] not-matching-text"},fK={class:"flex flex-col"},vK=se(" 저장 "),gK=se(" 취소 ");function mK(e,t,n,a,r,i){const o=U("layout-header"),s=U("kpInput"),l=U("kpImage"),u=U("kpButton");return k(),O(Ie,null,[M(o,{title:"비밀번호 재설정"}),C("section",tK,[C("article",nK,[C("div",aK,[rK,C("div",iK,[C("div",oK,[M(s,{type:"password",class:ye(["w-full border-0 pl-[50px] pr-[20px] outline-0 pt-[14px] pb-[15px] rounded-[25px]",e.isUserPwdCheck!==null&&!e.isUserPwdCheck?"mb-[10px]":"mb-[20px]"]),placeholder:"기존 비밀번호 입력","model-value":e.pwd,"onUpdate:modelValue":t[0]||(t[0]=c=>e.pwd=c),onInput:t[1]||(t[1]=c=>e.isUserPwdCheck=null)},null,8,["class","model-value"]),M(l,{class:"absolute left-5 top-[14px]",src:"images/common/lock-icon.svg"},null,8,["src"]),e.isUserPwdCheck!==null&&!e.isUserPwdCheck?(k(),O("p",sK," 기존 비밀번호가 일치하지 않습니다 ")):re("",!0)]),C("div",lK,[M(s,{type:"password",class:"w-full border-0 pl-[50px] pr-[20px] outline-0 pt-[14px] pb-[15px] rounded-[25px] mb-[10px]",placeholder:"비밀번호 입력","model-value":e.newPwd,"onUpdate:modelValue":t[2]||(t[2]=c=>e.newPwd=c),onInput:t[3]||(t[3]=c=>e.isPwdValidCheck=null)},null,8,["model-value"]),M(l,{class:"absolute left-5 top-[14px]",src:"images/common/lock-icon.svg"},null,8,["src"]),e.isPwdValidCheck===null||e.isPwdValidCheck?(k(),O("p",uK," 소문자, 숫자, 기호를 조합한 8자리 이상의 비밀번호를 사용해주세요. ")):e.isPwdValidCheck!==null&&!e.isPwdValidCheck?(k(),O("p",cK," 소문자, 숫자, 기호를 조합한 8자리 이상의 비밀번호를 사용해주세요. ")):re("",!0)]),C("div",dK,[M(s,{type:"password",class:ye(["w-full border-0 pl-[50px] pr-[20px] outline-0 pt-[14px] pb-[15px] rounded-[25px]",e.isPwdEqualsCheck===null?"":"mb-[10px]"]),placeholder:"비밀번호 재입력","model-value":e.newPwdCheck,"onUpdate:modelValue":t[4]||(t[4]=c=>e.newPwdCheck=c),onInput:t[5]||(t[5]=c=>e.isPwdEqualsCheck=null)},null,8,["class","model-value"]),M(l,{class:"absolute left-5 top-[14px]",src:"images/common/lock-icon.svg"},null,8,["src"]),e.newPwd.length>0&&e.newPwdCheck.length>0&&e.isPwdEqualsCheck?(k(),O("p",hK,"비밀번호가 일치합니다.")):e.isPwdEqualsCheck!==null&&!e.isPwdEqualsCheck?(k(),O("p",pK,"비밀번호가 일치하지 않습니다.")):re("",!0)])])]),C("div",fK,[M(u,{class:"save-btn w-full bottom-0 pt-[16px] pb-[15px] mb-[10px] text-white rounded-[25px]",onClick:t[6]||(t[6]=c=>e.passwordCheck())},{default:ve(()=>[vK]),_:1}),M(u,{class:"cancel-btn w-full bottom-0 pt-[16px] pb-[15px] rounded-[25px] mb-[60px]",onClick:t[7]||(t[7]=c=>e.doPrivate())},{default:ve(()=>[gK]),_:1})])])])],64)}const yK=Se(eK,[["render",mK]]),_K=be({name:"Downloads"}),CK={class:"moveToStoreTable",align:"center",style:{width:"100%"}},wK=C("tbody",null,[C("tr",null,[C("td",null,[C("h2",{align:"center",style:{"font-weight":"bold"}},"버디케어 앱 출시 준비중 입니다..")])]),C("tr",null,[C("td",{align:"center"},[C("a",{target:"_blank",href:"https://play.google.com/store/apps/details?id=com.keepin.caretouch"},[C("img",{src:"https://lh3.googleusercontent.com/q1k2l5CwMV31JdDXcpN4Ey7O43PxnjAuZBTmcHEwQxVuv_2wCE2gAAQMWxwNUC2FYEOnYgFPOpw6kmHJWuEGeIBLTj9CuxcOEeU8UXyzWJq4NJM3lg=s0",alt:"google",width:"150"})])])]),C("tr",null,[C("td",{align:"center"},[C("a",{target:"_blank",href:"https://apps.apple.com/kr/app/%EB%B2%84%EB%94%94%EC%BC%80%EC%96%B4/id1666817077"},[C("img",{src:"https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg",alt:"apple",width:"150"})])])])],-1),xK=[wK];function EK(e,t,n,a,r,i){return k(),O("table",CK,xK)}const dy=Se(_K,[["render",EK]]),bK=[{path:"/login",name:"Login",component:sS},{path:"/login/terms",name:"Terms",component:DS},{path:"/login/join",name:"Join",component:fT},{path:"/login/success/:type",name:"Success",component:aI},{path:"/find",name:"FindUserInfo",component:UT},{path:"/id-find",name:"FindUserId",component:DI},{path:"/password-find",name:"FindUserPassword",component:XI},{path:"/private",name:"PrivateInfo",component:QZ},{path:"/user-type",name:"UserType",component:fI},{path:"/reset-pwd",name:"ResetPassword",component:yK},{path:"/device-connect",name:"DeviceConnect",component:BL},{path:"/",name:"Dashboard",component:QI},{path:"/main-device",name:"DashboardDeviceUser",component:Rk},{path:"/main-user",name:"DashboardUser",component:CM},{path:"/main-manager",name:"DashboardManager",component:gL},{path:"/chat-list",name:"ChatList",component:FY},{path:"/chat-room/:id",name:"ChatDetail",component:iz},{path:"/setting",name:"SettingMenu",component:_z},{path:"/setting/group",name:"SettingGroup",component:DW},{path:"/setting/target",name:"SettingTarget",component:YW},{path:"/setting/alarm",name:"SettingAlarm",component:Oq},{path:"/location",name:"Location",component:cy},{path:"/map",name:"Map",component:cy},{path:"/health",name:"Health",component:uy},{path:"/health/:type",name:"Health Detail",component:uy},{path:"/device",name:"DeviceMenu",component:l2},{path:"/device/watchface",name:"DeviceWatchface",component:b2},{path:"/device/update-cycle",name:"DeviceUpdateCycle",component:P2},{path:"/device/not-disturb",name:"DeviceNotDisturb",component:tR},{path:"/device/firmware-update",name:"DeviceFirmwareUpdate",component:mR},{path:"/downloads",name:"Downloads",component:dy},{path:"/downloads/",name:"Downloads",component:dy}],Nr=rE({history:iE(),routes:bK,scrollBehavior(){var e;(e=document.getElementById("app"))==null||e.scrollIntoView({behavior:"auto"})}});Nr.beforeEach((e,t,n)=>{e.fullPath.indexOf("downloads/")>0?n({path:e.fullPath.replace("downloads/","downloads")}):n()});const SK=be({components:{LayoutFooter:Eb,PortalTarget:oE},setup(){const e=ze(),t=ke(()=>e.state.count),n=ke(()=>e.state.popupType),a=Vt(),r=ke(()=>xe(Ee.API_URL,e)),i=I("");I(!0);const o=()=>{[et.GROUP_EMERGENCY_CHANGE,et.GROUP_USERS,et.CHAT_USERS].indexOf(n.value)<0||e.dispatch(ft,et.NONE)},s=()=>{Nr.replace({path:"/dashboard"})},l=async()=>{const b=Bt(Fe.CONST.LOGIN_TOKEN),D=H();if(b&&e.commit(Kt,b),D&&b){window.appInterface.userToken(b??"");const T=xe();Hd(b),D.userType&&Kr(T,{stateReg:hn.RESOLVE}).then(async A=>{const L=A.data;G().addEventListener(ge.LOAD_COMPLETE,E),await G().updateGroupList(L)}).catch(A=>{throw A})}};He(n,(b,D)=>{b!==et.NONE&&D===et.NONE||b===et.NONE&&et.NONE});const u=()=>{var b,D,T;try{(b=G().getCurrentGroup())!=null&&b.emergencyTargetUserIdx&&(D=G().getCurrentGroup())!=null&&D.emergencyTargetUserIdx&&r.value.post("/api/1/users/getUserInfoByIdx",{userIdx:(T=G().getCurrentGroup())==null?void 0:T.emergencyTargetUserIdx}).then(A=>{if(A.data.resultCode===0){if(A.data.data.tel){const L=A.data.data.tel.replace(/-/g,"");e.state.emergencyPhone!==L&&(e.commit(Jo,L),window.appInterface.setEmergencyNum(L))}}})}catch{}},c=()=>{var b,D,T;try{(b=G().getCurrentGroup())!=null&&b.emergencyTargetUserIdx&&(D=G().getCurrentGroup())!=null&&D.emergencyTargetUserIdx&&r.value.post("/api/1/users/getUserInfoByIdx",{userIdx:(T=G().getCurrentGroup())==null?void 0:T.emergencyTargetUserIdx}).then(A=>{if(A.data.resultCode===0){if(A.data.data.tel){const L=A.data.data.tel.replace(/-/g,"");e.state.emergencyPhone!==L&&(e.commit(Jo,L),window.appInterface.setEmergencyNum(L),window.appInterface.doCall(L))}}})}catch{window.appInterface.doCall(e.state.emergencyPhone)}},d=b=>{if(H()){let T=b.detail.split("||"),A=T[1]??0;switch(T[0]){case Sn.ALERT_HIGH_HEART_RATE:h(oe.EMERGENCY_ALARM,`심박수가 정상 수치를 벗어났습니다. 현재 수치는 ${A}입니다. 확인해주세요.`),c();break;case Sn.ALERT_LOW_HEART_RATE:h(oe.EMERGENCY_ALARM,`심박수가 정상 수치를 벗어났습니다. 현재 수치는 ${A}입니다. 확인해주세요.`),c();break;case Sn.ALERT_HIGH_OXYGEN:h(oe.EMERGENCY_ALARM,`산소포화도가 정상 수치를 벗어났습니다. 현재 수치는 ${A}입니다. 확인해주세요.`),c();break;case Sn.ALERT_LOW_OXYGEN:h(oe.EMERGENCY_ALARM,`산소포화도가 정상 수치를 벗어났습니다. 현재 수치는 ${A}입니다. 확인해주세요.`),c();break;case Sn.ALERT_HIGH_TEMPERATURE:h(oe.EMERGENCY_ALARM,`체온이 정상 수치를 벗어났습니다. 현재 수치는 ${A}입니다. 확인해주세요.`),c();break;case Sn.ALERT_LOW_TEMPERATURE:h(oe.EMERGENCY_ALARM,`체온이 정상 수치를 벗어났습니다. 현재 수치는 ${A}입니다. 확인해주세요.`),c();break;case Sn.ALERT_HIGH_BLOOD_PRESSURE:h(oe.EMERGENCY_ALARM,`혈압이 정상 수치를 벗어났습니다. 현재 수치는 ${A}입니다. 확인해주세요.`),c();break;case Sn.ALERT_LOW_BLOOD_PRESSURE:h(oe.EMERGENCY_ALARM,`혈압이 정상 수치를 벗어났습니다. 현재 수치는 ${A}입니다. 확인해주세요.`),c();break;case Sn.ALERT_FIND_PHONE_EVENT:break;case Sn.ALERT_BATTERY_EVENT:if(i.value!==T[1]&&(i.value=T[1],H())){let L={deviceIdx:H().deviceIdx,batteryLevel:T[1],stateConnect:"Y"};r.value.post("/api/1/device/updateDeviceInfoForUser",L)}break;case Sn.ALERT_EMERGENCY_CALL:break}}},h=(b,D)=>{switch(b){case oe.EMERGENCY_ALARM:const T={messageBody:D,messageType:b,tempUuid:Vd(),senderIdx:H().userIdx};G().dispatchEvent(new CustomEvent(ge.SEND_EMERGENCY_ALARM,{detail:T})),G().sendChatMessage(T);break}},p=()=>{var D;const b=(((D=window.visualViewport)==null?void 0:D.height)||window.innerHeight)*.01;window.document.documentElement.style.setProperty("--vh",`${b}px`)};window.addEventListener("resize",p);const f=()=>{r.value.post("/api/1/users/keepToken",{}).then(b=>{e.commit(Dr,!1),b.data.resultCode!==0?(console.error(b),e.commit(Kt,""),Ut(Fe.CONST.LOGIN_USER),Ut(Fe.CONST.LOGIN_TOKEN),Mr(Fe.CONST.LOGIN_TOKEN)):b.data.data>=1&&(Bt(Fe.CONST.LOGIN_KEEP)||(e.commit(Kt,""),Ut(Fe.CONST.LOGIN_USER),Ut(Fe.CONST.LOGIN_TOKEN),Mr(Fe.CONST.LOGIN_TOKEN)))}).catch(b=>{console.error(b)})},g=b=>{let D=b.detail;H()&&H().userType===De.USER_DEVICE&&(D===It.NOTCONNECTED?e.state.isConnected&&(e.commit(Gt,!1),window.alert("기기 연결에 실패하였습니다.")):b.detail.indexOf(It.DISCONNECTED)>-1&&e.state.isConnected&&e.commit(Gt,!1))},v=b=>{let D=b.detail;if(H()&&H().userType===De.USER_DEVICE){if(D.indexOf(It.FAILED)>-1&&e.state.isConnected&&H().deviceIdx){let T={deviceIdx:H().deviceIdx,batteryLevel:"",stateConnect:"N"};xe(Ee.API_URL,e).post("/api/1/device/updateDeviceInfoForUser",T).then(A=>{xe(Ee.API_URL,e).post("/api/1/device/deleteUserDeviceInfo",{deviceIdx:H().deviceIdx,batteryLevel:"",stateConnect:"N"}).then(L=>{L.data.resultCode===0&&Bi(Object.assign(H(),{deviceIdx:void 0}))})}),e.commit(Gt,!1),window.alert("기기 연결에 실패하였습니다.")}if(D.indexOf(It.DISCONNECTED)>-1&&e.state.isConnected&&H().deviceIdx){e.commit(Gt,!1);let T={deviceIdx:H().deviceIdx,batteryLevel:"",stateConnect:"N"};xe(Ee.API_URL,e).post("/api/1/device/updateDeviceInfoForUser",T).then(A=>{xe(Ee.API_URL,e).post("/api/1/device/deleteUserDeviceInfo",{deviceIdx:H().deviceIdx,batteryLevel:"",stateConnect:"N"}).then(L=>{L.data.resultCode===0&&Bi(Object.assign(H(),{deviceIdx:void 0}))})})}}},m=b=>{const D=JSON.parse(b.detail);_(D)},y=b=>{var A,L,P,N,B,K,ce,$;const D=JSON.parse(b.detail);_(D);let T={lat:D.lat,lng:D.lon,userIdx:H().userIdx};if(H().userType===De.USER){if(!((L=(A=G().getCurrentGroup())==null?void 0:A.creatorInfo)!=null&&L.userIdx))return;T.userIdx=(N=(P=G().getCurrentGroup())==null?void 0:P.creatorInfo)==null?void 0:N.userIdx}else H().userType===De.USER_DEVICE&&T.userIdx!==((K=(B=G().getCurrentGroup())==null?void 0:B.creatorInfo)==null?void 0:K.userIdx)&&(T.userIdx=($=(ce=G().getCurrentGroup())==null?void 0:ce.creatorInfo)==null?void 0:$.userIdx);T.userIdx&&xe(Ee.API_URL,e).post("/api/1/location/insertLocation",T).then(W=>{window.dispatchEvent(new Event("SEARCH_LOCATION"))})},_=b=>{(async()=>{const T=new Date;T.setHours(T.getHours()-1);try{const L=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${b.lat}&lon=${b.lon}&appid=a5d2b4278856ed415b6a1a255cf1353b&units=metric`)).text(),{list:P}=JSON.parse(L),N={},B=[],K=dt();for(let ce=0;ce<5;ce++){const $=K.format("YYYYMMDD");B.push($);for(let W=0;W<P.length;W++){const ae=P[W],Z=dt(ae.dt_txt);if($===Z.format("YYYYMMDD")&&(N[$]||(N[$]={weatherType:"UNKNOWN",temperature:0,minTemp:1/0,maxTemp:-1/0,humidity:0,airQuality:0,windSpeed:0,sunset:"",city:"",date:$}),Math.floor(N[$].minTemp)>Math.floor(ae.main.temp_min)&&(N[$].minTemp=Math.floor(ae.main.temp_min)),Math.floor(N[$].maxTemp)<Math.floor(ae.main.temp_max)&&(N[$].maxTemp=Math.floor(ae.main.temp_max)),K.diff(Z,"hours")>=0)){N[$].temperature=Math.floor(ae.main.temp);const ne=ae.weather[0].main.toLowerCase();ne.includes("cloud")>-1?N[$].weatherType="CLOUDY":ne.includes("clear")>-1?N[$].weatherType="SUNNY":ne.includes("rain")>-1?N[$].weatherType="HEAVY_RAIN":ne.includes("snow")>-1?N[$].weatherType="LIGHT_SNOW":ne.includes("hot")>-1?N[$].weatherType="HOT":ne.includes("cold")>-1&&(N[$].weatherType="COLD")}}K.add(1,"day")}window.appInterface.setWeatherInfo(N[B[0]],N[B[1]],N[B[2]],N[B[3]],N[B[4]])}catch(A){console.log(A)}})()},w=b=>{const D=b.detail.type,T=b.detail.data;switch(D){case"MESSAGE":window.location.href=`/#/chat-room/${T}`;break;case"GROUP":window.location.href="/#/setting/group";break}},E=()=>{G().removeEventListener(ge.LOAD_COMPLETE,E),window.appInterface.getMessageType()},x=b=>{const D=b.detail;H()&&r.value.post("/api/1/users/updateUser",{userType:H().userType,appToken:D}).then(T=>{})};He(()=>a.name,()=>{u()}),He(()=>n.value,()=>{n.value===et.NONE?document.body.style.position="relative":(document.body.style.position="fixed",document.body.style.width="100%",document.body.style.height="100%")});const S=()=>{Bt(Fe.CONST.LOGIN_KEEP)||(e.commit(Kt,""),Ut(Fe.CONST.LOGIN_USER),Ut(Fe.CONST.LOGIN_TOKEN),Mr(Fe.CONST.LOGIN_TOKEN)),window.removeEventListener("resize",p),G().removeEventListener(ge.LOAD_COMPLETE,E),G().destroy(),window.appInterface.removeEventListener(pe.GET_ALARM,d),window.appInterface.removeEventListener(pe.GET_DEVICE_CONNECTING,g),window.appInterface.removeEventListener(pe.GET_DEVICE_CONNECT_STATE,v),window.appInterface.removeEventListener(pe.GET_LOCATION,y),window.appInterface.removeEventListener(pe.MESSAGE_TYPE,w),window.appInterface.removeEventListener(pe.GET_TOKEN,x)};return Ue(()=>{if(l(),e.state.authToken===""&&Bt(Ee.KEY_LIST.CONST.LOGIN_TOKEN)&&e.commit(Kt,Bt(Ee.KEY_LIST.CONST.LOGIN_TOKEN)),!H()){Nr.replace({path:"/login"});return}Bt(Fe.CONST.LOGIN_TOKEN)&&f(),window.appInterface.addEventListener(pe.GET_ALARM,d),window.appInterface.addEventListener(pe.GET_DEVICE_CONNECTING,g),window.appInterface.addEventListener(pe.GET_DEVICE_CONNECT_STATE,v),window.appInterface.addEventListener(pe.GET_LOCATION,y),window.appInterface.addEventListener(pe.MESSAGE_TYPE,w),window.appInterface.addEventListener(pe.GET_TOKEN,x),window.appInterface.addEventListener(pe.GET_WEATHER,m),window.addEventListener("unload",()=>{S()},{once:!0})}),ot(()=>{S(),window.appInterface.removeEventListener(pe.GET_WEATHER,m)}),{store:e,PopupType:et,compCount:t,compPopupType:n,handleClosePopup:o,goDashBoard:s}},methods:{unloadKeep(){alert("exit!!!")}}});const DK={class:"wrapper"},TK={key:1,ref:"axiosWrapper",class:"axios-loading"},IK={ref:"loader",class:"loader"};function AK(e,t,n,a,r,i){const o=U("router-view"),s=U("layout-footer"),l=U("portal-target");return k(),O(Ie,null,[C("div",DK,[M(o),M(s)]),e.compPopupType!==e.PopupType.NONE?(k(),O("div",{key:0,onClick:t[0]||(t[0]=Ka((...u)=>e.handleClosePopup&&e.handleClosePopup(...u),["self"])),class:"popup-wrapper fixed w-full h-screen top-0 left-0 z-[101]"},[e.compPopupType===e.PopupType.GROUP_FIND_USER?(k(),fe(l,{key:0,name:"find-user-popup"})):e.compPopupType===e.PopupType.GROUP_EMERGENCY_CHANGE?(k(),fe(l,{key:1,name:"group-users-emergency"})):e.compPopupType===e.PopupType.CHAT_USERS?(k(),fe(l,{key:2,name:"chat-users"})):e.compPopupType===e.PopupType.GROUP_USERS?(k(),fe(l,{key:3,name:"group-users"})):e.compPopupType===e.PopupType.GROUP_STATE_MANAGE?(k(),fe(l,{key:4,name:"group-state-manage"})):e.compPopupType===e.PopupType.WATCHFACE?(k(),fe(l,{key:5,name:"watchface-popup"})):e.compPopupType===e.PopupType.DISTURB?(k(),fe(l,{key:6,name:"disturb-popup"})):re("",!0)])):re("",!0),e.store.state.isLoading?(k(),O("div",TK,[C("div",IK,null,512)],512)):re("",!0)],64)}const kK=Se(SK,[["render",AK]]),Dx=sE({state:{count:0,isLoading:!1,userIdx:"",findUserId:"",findUserInfoType:"user",authToken:"",resetScroll:!1,selectedGroup:void 0,savedTermsList:[],headerTitle:"",syncUpdateTime:void 0,popupType:et.NONE,headerState:xy.DEFAULT,footerType:De.USER,footerLock:!1,emergencyPhone:"",isConnected:!1,isHeartSetting:!1,isTempSetting:!1,isSleepSetting:!1,isOxygenSetting:!1,isStressSetting:!1},mutations:{[Sa](e,t){e.syncUpdateTime=t},[Dr](e,t){e.isLoading=t},[Kt](e,t){e.authToken=t},[Vl](e){e.resetScroll=!e.resetScroll},[Yl](e,t){e.selectedGroup=t},[zl](e,t){e.userIdx=t},[sp](e,t){e.findUserId=t},[hE](e,t){e.findUserInfoType=t},[py](e,t){e.savedTermsList=t},[fy](e,t){e.headerTitle=t},[ft](e,t){e.popupType=t},[pE](e,t){e.headerState=t},[Xa](e,t){e.footerType=t},[Tr](e,t){e.footerLock=t},[Jo](e,t){e.emergencyPhone=t},[Gt](e,t){e.isConnected=t},[vy](e,t){e.isHeartSetting=t},[gy](e,t){e.isTempSetting=t},[my](e,t){e.isSleepSetting=t},[yy](e,t){e.isOxygenSetting=t},[_y](e,t){e.isStressSetting=t}},actions:{resetScroll(e){e.commit(Vl)},changeSelectedGroup(e,t){e.commit(Yl,t)},setPopup(e,t){e.commit(ft,t)},setConnectedStatus(e,t){e.commit(Gt,t)}}});class MK extends EventTarget{constructor(n){super();pt(this,"store");pt(this,"_userName");pt(this,"connectedDevice","");this.store=n,this._userName=""}doScanDevice(){window.keepinApp?window.keepinApp.scanDevices():window.webkit&&window.webkit.messageHandlers.keepinApp&&window.webkit.messageHandlers.keepinApp.postMessage({action:"doScanDevice"})}doScanStop(){window.keepinApp&&window.keepinApp.stopScan()}doScanDeviceCallback(n){this.dispatchEvent(new CustomEvent(pe.GET_DEVICE_LIST,{detail:n}))}doConnectDevice(n){window.keepinApp?window.keepinApp.connectDevice(n):window.webkit&&window.webkit.messageHandlers.keepinApp&&window.webkit.messageHandlers.keepinApp.postMessage({action:"connectDevice",device:n})}doConnectDeviceCallback(n){console.log(`doConnectDeviceCallback ${n}`),this.dispatchEvent(new CustomEvent(pe.GET_DEVICE_CONNECT_STATE,{detail:n}))}getDeviceInfo(){window.keepinApp&&window.keepinApp.getDeviceInfo()}getDeviceInfoCallback(n){try{n!=="failed"&&(console.log(`getDeviceInfoCallback ${n}`),this.dispatchEvent(new CustomEvent(pe.GET_DEVICE_INFO,{detail:n})))}catch(a){console.error(a)}}disconnectDevice(){window.keepinApp&&window.keepinApp.disconnectDevice()}disconnectDeviceCallback(n){console.log("💀::: File: AndroidInterface.ts:118, Function: disconnectDeviceCallback"),this.dispatchEvent(new CustomEvent(pe.DISCONNECT_DEVICE,{detail:n}))}bindDevice(){window.keepinApp&&window.keepinApp.bindDevice()}bindDeviceCallback(n){console.log(`bindDeviceCallback ${n}`),this.dispatchEvent(new CustomEvent(pe.GET_DEVICE_BIND_STATE,{detail:n}))}getDeviceFeatureInfo(){window.keepinApp&&window.keepinApp.getDeviceFeatureInfo()}getDeviceFeatureInfoCallback(n){}setHeartRateSetting(n){window.keepinApp&&window.keepinApp.setHeartRateSetting(n?JSON.stringify(n):"")}setHeartRateSettingCallback(n){this.dispatchEvent(new CustomEvent(pe.HEART_SETTING_CALLBACK))}getHeartRateSetting(){window.keepinApp&&window.keepinApp.getHeartRateSetting()}getHeartRateSettingCallback(n){}setTemperatureSetting(n){window.keepinApp&&window.keepinApp.setTemperatureSetting(n?JSON.stringify(n):"")}setTemperatureSettingCallback(n){this.dispatchEvent(new CustomEvent(pe.TEMP_SETTING_CALLBACK))}getTemperatureSetting(){window.keepinApp&&window.keepinApp.getTemperatureSetting()}getTemperatureSettingCallback(n){}setStressSetting(n){window.keepinApp&&window.keepinApp.setStressSetting(n?JSON.stringify(n):"")}setStressSettingCallback(n){this.dispatchEvent(new CustomEvent(pe.STRESS_SETTING_CALLBACK))}setBloodPreasureSetting(n){window.keepinApp&&window.keepinApp.setBloodPreasureSetting(n?JSON.stringify(n):"")}setBloodOxygenSetting(n){window.keepinApp&&window.keepinApp.setBloodOxygenSetting(n?JSON.stringify(n):"")}setBloodOxygenSettingCallback(n){this.dispatchEvent(new CustomEvent(pe.OXYGEN_SETTING_CALLBACK))}getBloodOxygenSetting(){window.keepinApp&&window.keepinApp.getBloodOxygenSetting()}getBloodOxygenSettingCallback(n){}setSleepQualitySetting(n){window.keepinApp&&window.keepinApp.setSleepQualitySetting&&window.keepinApp.setSleepQualitySetting(n?JSON.stringify(n):"")}setSleepQualitySettingCallback(n){this.dispatchEvent(new CustomEvent(pe.SLEEP_SETTING_CALLBACK))}syncAll(n){window.keepinApp?(console.log("syncAll"),window.keepinApp.syncAll(n)):window.webkit&&window.webkit.messageHandlers.keepinApp&&window.webkit.messageHandlers.keepinApp.postMessage({action:"syncAll",date:n||""})}syncAllCallback(n,a){const r=JSON.stringify({type:n,data:a});console.log(`syncAllCallback ${n} :: ${a}`),this.dispatchEvent(new CustomEvent(pe.SYNC_DATA,{detail:r}))}setDisturbModeSetting(n){window.keepinApp&&window.keepinApp.setDisturbModeSetting(n?JSON.stringify(n):"")}getDisturbModeSetting(){window.keepinApp&&window.keepinApp.getDisturbModeSetting()}getDisturbModeSettingCallback(n){this.dispatchEvent(new CustomEvent(pe.GET_DISTURB_MODE,{detail:n}))}setFindPhoneState(n){window.keepinApp&&window.keepinApp.setFindPhoneState(n?1:0)}getFindPhoneState(){window.keepinApp&&window.keepinApp.getFindPhoneState()}getFindPhoneStateCallback(n){}setHandMode(n){window.keepinApp&&window.keepinApp.setHandMode(Number(n))}getHandMode(){window.keepinApp&&window.keepinApp.getHandMode()}getHandModeCallback(n){this.dispatchEvent(new CustomEvent(pe.GET_HAND,{detail:n}))}setRaiseHandMode(n){window.keepinApp&&window.keepinApp.setRaiseHandMode(n?1:0)}getRaiseHandMode(){window.keepinApp&&window.keepinApp.getRaiseHandMode()}getRaiseHandModeCallback(n){this.dispatchEvent(new CustomEvent(pe.GET_SHAKE,{detail:n}))}setWatchFace(n){window.keepinApp&&window.keepinApp.setWatchFace(JSON.stringify(n))}setWatchFaceCallback(n){this.dispatchEvent(new CustomEvent(pe.SYNC_WATCH_FACE,{detail:n}))}setWeatherInfo(n,a,r,i,o){try{if(window.keepinApp){const s={weatherType:"UNKNOWN",temperature:0,minTemp:0,maxTemp:0,humidity:0,airQuality:0,windSpeed:0,sunset:"",city:"",date:""};window.keepinApp.setWeatherInfo(JSON.stringify(n??s),JSON.stringify(a??s),JSON.stringify(r??s),JSON.stringify(i??s),JSON.stringify(o??s))}}catch(s){console.error(s)}}setWeatherInfoCallback(n){}factoryReset(){window.keepinApp&&window.keepinApp.factoryReset()}getAppToken(){window.keepinApp?window.keepinApp.getAppToken():window.webkit&&window.webkit.messageHandlers.keepinApp&&window.webkit.messageHandlers.keepinApp.postMessage({action:"getAppToken"})}getAppTokenCallback(n){this.dispatchEvent(new CustomEvent(pe.GET_TOKEN,{detail:n}))}rebootDevice(){window.keepinApp&&window.keepinApp.rebootDevice()}startFirmwareUpgrade(n){window.keepinApp&&window.keepinApp.upgradeFirmware(n)}upgradeFirmwareCallback(n){this.dispatchEvent(new CustomEvent(pe.UPGRADE_FIRMWARE_CALLBACK,{detail:n}))}getGpsInfo(){window.keepinApp&&window.keepinApp.getGpsInfo()}getGpsInfoCallback(n,a){this.dispatchEvent(new CustomEvent(pe.GET_LOCATION,{detail:JSON.stringify({lat:n,lon:a})}))}getGpsInsertCallback(n,a){this.dispatchEvent(new CustomEvent(pe.INSERT_LOCATION))}doCall(n){window.keepinApp&&window.keepinApp.doCall(n)}getAppAlert(n){this.dispatchEvent(new CustomEvent(pe.GET_ALARM,{detail:n}))}setBackgroundSyncTime(n){window.keepinApp&&window.keepinApp.setSyncTime(n)}getConnectedStatus(){window.keepinApp&&window.keepinApp.getConnectedStatus()}getConnectedStatusCallback(n){this.dispatchEvent(new CustomEvent(pe.GET_DEVICE_CONNECTING,{detail:n}))}openImageToBrowser(n){window.keepinApp&&window.keepinApp.shouldOverrideUrlLoading(n)}checkBluetooth(){window.keepinApp&&window.keepinApp.checkBluetooth()}setEmergencyNum(n){window.keepinApp&&window.keepinApp.setEmergencyNum(n)}setUserName(n){window.keepinApp&&(this._userName!==""&&window.keepinApp.setUserName(n),this._userName=n)}getMessageType(){window.keepinApp&&window.keepinApp.getMessageType()}getMessageTypeCallback(n,a){this.dispatchEvent(new CustomEvent(pe.MESSAGE_TYPE,{detail:{type:n,data:a}}))}openAppNotifications(){window.keepinApp&&window.keepinApp.openAppNotifications()}openMorningBriefSettings(){window.keepinApp&&window.keepinApp.openMorningBriefSettings()}openAISettings(){window.keepinApp&&window.keepinApp.openAISettings()}medicineSettings(){window.keepinApp?window.keepinApp.medicineSettings():window.webkit&&window.webkit.messageHandlers.keepinApp&&window.webkit.messageHandlers.medicineSettings.postMessage()}exerciseSettings(){window.keepinApp?window.keepinApp.exerciseSettings():window.webkit&&window.webkit.messageHandlers.keepinApp&&window.webkit.messageHandlers.exerciseSettings.postMessage()}userPersonalInfo(n){window.keepinApp&&window.keepinApp.userPersonalInfo(n)}getWeather(n,a){this.dispatchEvent(new CustomEvent(pe.GET_WEATHER,{detail:JSON.stringify({lat:n,lon:a})}))}userToken(n){window.keepinApp?window.keepinApp.userToken(n):window.webkit&&window.webkit.messageHandlers.keepinApp&&window.webkit.messageHandlers.userToken.postMessage(n)}stopDownloadWatchface(){window.keepinApp?window.keepinApp.stopDownloadWatchface():window.webkit&&window.webkit.messageHandlers.keepinApp&&window.webkit.messageHandlers.stopDownloadWatchface.postMessage()}targetGoal(n,a){window.keepinApp?window.keepinApp.targetGoal(n,a):window.webkit&&window.webkit.messageHandlers.keepinApp&&window.webkit.messageHandlers.targetGoal.postMessage(n,a)}}window.appInterface=new MK(Dx);Q.locale("ko",lE);uE(kK).use(Nr).use(Dx).use(cE).use(dE).mount("#app");
